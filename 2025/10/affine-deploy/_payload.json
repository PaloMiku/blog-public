[{"data":1,"prerenderedAt":269},["ShallowReactive",2],{"post-/2025/10/affine-deploy":3,"surround-/2025/10/affine-deploy":258},{"id":4,"title":5,"body":6,"categories":234,"date":236,"description":237,"draft":238,"extension":239,"hide-info":238,"image":23,"meta":240,"navigation":241,"path":242,"permalink":243,"readingTime":244,"recommend":249,"references":243,"seo":250,"sitemap":251,"stem":252,"subtitle":243,"tags":253,"type":256,"updated":243,"__hash__":257},"content/posts/2025/10/affine-deploy.md","Affine éƒ¨ç½²ï¼šè‡ªæ‰˜ç®¡ç±» Notion çŸ¥è¯†åº“ç³»ç»Ÿ",{"type":7,"value":8,"toc":215},"minimark",[9,13,17,24,27,30,33,36,40,46,49,52,62,65,69,74,77,80,83,88,91,94,99,102,105,108,111,114,118,121,124,134,137,140,143,149,152,155,161,164,178,188,196,199,202,208],[10,11,12],"h2",{"id":12},"å‰è¨€",[14,15,16],"p",{},"ä¹‹å‰æˆ‘æ›¾ç»æœ‰å†™è¿‡ Outline çš„éƒ¨ç½²æ•™ç¨‹ï¼Œä¸è¿‡é‚£ç¯‡æ•™ç¨‹å·²ç»å¹´ä¹…å¤±ä¿®åˆ°æˆ‘è‡ªå·±éƒ½æ²¡æ³•å®Œæ•´å¤ç°éƒ¨ç½²æµç¨‹äº†ï¼Œå†µä¸” Outline å®˜æ–¹å¯¹äºæ‰˜ç®¡çš„æ–‡æ¡£ä¹Ÿæ˜¯å†™çš„åŸºæœ¬è®©äººçœ‹ä¸æ˜ç™½ã€‚",[14,18,19],{},[20,21],"img",{"alt":22,"src":23},"","https://affine.pro/overview/Plan.jpg",[14,25,26],{},"æ˜¯æ—¶å€™è¯¥æ¢ä¸ªç°ä»£çš„çŸ¥è¯†åº“ç¨‹åºäº†ï¼Œæ—©å¹´æˆ‘æ›¾äº†è§£åˆ° Affine è¿™ä¸ªçŸ¥è¯†åº“ç¨‹åºï¼Œåœ¨æˆ‘è¿˜åœ¨ç”¨ Outline çš„æ—¶å€™å·²ç»ä½“éªŒè¿‡å®ƒäº†ï¼Œåœ¨å½“æ—¶å®ƒçš„è‡ªæ‰˜ç®¡ä½“éªŒæ˜¯å¾ˆä¸€èˆ¬çš„ï¼šåŠŸèƒ½ä¸å®Œæ•´ï¼Œä¸­æ–‡ä¸å®Œå–„ç­‰ã€‚",[14,28,29],{},"æ‰€ä»¥åœ¨å½“æ—¶æˆ‘æœ€ç»ˆè¿˜æ˜¯é€‰å®šäº† Outline ä½œä¸ºå›¢é˜ŸçŸ¥è¯†åº“ç¨‹åºï¼Œç°åœ¨ Outline ä¸å¥½ç”¨äº†ï¼Œé‚£ä¹ˆ Affine æ”¯æ£±èµ·æ¥äº†å—ï¼Ÿå¥½åƒè¿˜çœŸæ”¯æ£±èµ·æ¥äº†ï¼Œè‡³å°‘çœ‹å®£ä¼ èµ„æ–™è¿˜æ˜¯ä¸é”™çš„æ ·å­ï¼Œæˆ‘ä»¬æ¥å®é™…éƒ¨ç½²ä½“éªŒä¸€ä¸‹å§ã€‚",[10,31,32],{"id":32},"è¦æ±‚",[14,34,35],{},"é¦–å…ˆæˆ‘ä»¬å…ˆçœ‹çœ‹ Affine çš„é…ç½®è¦æ±‚ï¼Œçœ‹çœ‹å®ƒæ˜¯æ¯” Outline è¦æ±‚é«˜äº†è¿˜æ˜¯ä½äº†ã€‚",[37,38,39],"h3",{"id":39},"å­˜å‚¨",[41,42,43],"blockquote",{},[14,44,45],{},"The necessary storage space largely depends on the size of your workspaces and collaborators, blobs you may upload, and number of total docs.\nBasically, The server itself requires nearly 1.5 GB spare space for installation. The performance of your host's fs significantly affect performance of AFFiNE.",[14,47,48],{},"ä»¥ä¸Šå†…å®¹å¼•ç”¨è‡ª Affine å®˜æ–¹æ–‡æ¡£ï¼Œå¤§æ¦‚æ„æ€æ˜¯ Affine çš„å ç”¨ç©ºé—´å¾ˆå¤§ç¨‹åº¦ä¸Šå–å†³äºæ‚¨çš„å·¥ä½œç©ºé—´å’Œåä½œè€…çš„è§„æ¨¡ã€æ‚¨å¯èƒ½ä¸Šä¼ çš„ blob ä»¥åŠæ€»æ–‡æ¡£æ•°é‡ã€‚Affineæœ¬èº«éœ€è¦çº¦ 1.5G çš„å­˜å‚¨ç©ºé—´æ¥è¿›è¡Œå®‰è£…å’Œè¿è¡Œã€‚",[14,50,51],{},"ç„¶åæ ¹æ® Affine å®˜æ–¹åœ¨ä»–ä»¬æ——èˆ°å®ä¾‹ affine.pro æ”¶é›†çš„ä½¿ç”¨æƒ…å†µæ•´ç†æ¥çœ‹ï¼š",[53,54,55,59],"ul",{},[56,57,58],"li",{},"æ¯ 1000 ä»½æ–‡æ¡£ï¼ŒPostgres ç©ºé—´å¢é•¿ 100 MBï¼Œå¹³å‡æ¯ä»½æ–‡æ¡£ 1000 å­—",[56,60,61],{},"æ¯ 10 GB Blob å­˜å‚¨ç©ºé—´æŒ‰ 1k ä¸ª Blob å¢é•¿",[14,63,64],{},"æ€»ä½“æ¥è¯´è¿˜æ˜¯éœ€è¦æœåŠ¡å™¨æœ‰è¶³å¤Ÿçš„å®‰è£…å’Œä½¿ç”¨ç©ºé—´çš„ï¼Œå¤ªå°ç¡¬ç›˜çš„æœåŠ¡å™¨é•¿æœŸä½¿ç”¨å°±ä¸æ˜¯å¾ˆæ¨èéƒ¨ç½²äº†ï¼Œå¯ä»¥é€‰æ‹©æ›´è½»é‡çš„çŸ¥è¯†åº“ç³»ç»Ÿã€‚",[37,66,68],{"id":67},"cpu","CPU",[41,70,71],{},[14,72,73],{},"We recommend the CPU of host to have at least 4 cores, for leverage long CPU holding jobs. AFFiNE's response speed depends on the specification of your CPU.",[14,75,76],{},"Affine å®˜æ–¹æ–‡æ¡£ç»™å‡ºçš„å»ºè®®æ˜¯ CPU è‡³å°‘æœ‰å››ä¸ªæ ¸å¿ƒï¼Œä»¥ä¾¿åˆ©ç”¨é•¿æ—¶é—´è¿è¡Œçš„ CPU å¯†é›†å‹ä»»åŠ¡ã€‚AFFiNE çš„å“åº”é€Ÿåº¦å–å†³äºæ‚¨çš„ CPU è§„æ ¼ã€‚",[14,78,79],{},"ä¸è¿‡æŒ‰ç…§æˆ‘é•¿æœŸçš„éƒ¨ç½²ç»éªŒæ¥çœ‹ï¼Œ2 Core çš„ CPU åº”è¯¥ä¹Ÿæ˜¯å¯ä»¥è´Ÿæ‹…å°å›¢é˜Ÿå’Œä¸ªäººæ—¥å¸¸ä½¿ç”¨çš„ï¼Œå½“ç„¶ 1 Core ç¡®å®å°±å¤ªéš¾ä¸ºå®ƒäº†ã€‚",[37,81,82],{"id":82},"å†…å­˜",[41,84,85],{},[14,86,87],{},"Memory are mostly consumed by Sync system and Doc merging. The larger the largest doc is, the more Memory will be taken to merge it.\nMemory specifications are various depends on the size of your docs and modification times of each docs.",[14,89,90],{},"å®˜æ–¹æ–‡æ¡£ä»‹ç»ï¼Œä½¿ç”¨å†…å­˜ä¸»è¦è¢«åŒæ­¥ç³»ç»Ÿå’Œæ–‡æ¡£åˆå¹¶æ¶ˆè€—ã€‚æ–‡æ¡£è¶Šå¤§ï¼Œåˆå¹¶å®ƒæ‰€éœ€çš„å†…å­˜å°±è¶Šå¤šã€‚",[14,92,93],{},"Affine åœ¨å®˜æ–¹æ——èˆ°å®ä¾‹ affine.pro ç›‘æµ‹çš„ä½¿ç”¨æƒ…å†µï¼š",[53,95,96],{},[56,97,98],{},"åˆå¹¶ä¸€ä¸ªæœ‰ 10k æ¬¡ä¿®æ”¹çš„æ–‡æ¡£ä¼šå¯¼è‡´å†…å­˜ä½¿ç”¨å³°å€¼è¾¾åˆ° 1 GB",[14,100,101],{},"æ‰€ä»¥å®˜æ–¹ç»™å‡ºçš„å»ºè®®æ˜¯ä¸»æœºè‡³å°‘æœ‰ 2GB å†…å­˜ï¼Œå¦‚æœæ–‡æ¡£æ€»å­—æ•°è¶…è¿‡äº† 10kï¼Œé‚£ä¹ˆå»ºè®®å†…å­˜è‡³å°‘åœ¨ 4GB ä»¥ä¸Šã€‚",[37,103,104],{"id":104},"æ€»ç»“",[14,106,107],{},"ç›¸æ¯” Outline çš„å ç”¨æ¥è¯´ï¼ˆæˆ‘ä¸Šæ¬¡éƒ¨ç½²åœ¨ 2c8g çš„æœåŠ¡å™¨ä¸Šï¼‰ï¼ŒAffine ç›¸æ¯”å¯ä»¥è¯´ç•¥è½»é‡ä½†ä¹Ÿæ²¡è½»é‡å¤šå°‘ï¼Œä¸è¿‡å®ƒæ–‡æ¡£å†™çš„æ˜ç™½å•Šï¼ŒOutline æ–‡æ¡£æˆ‘ç°åœ¨æƒ³éƒ¨ç½²éƒ½ä¸çŸ¥é“è¯¥æ€ä¹ˆçœ‹ğŸ˜¢",[14,109,110],{},"åœ¨æ¥ä¸‹æ¥çš„æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ Docker Compose æ–¹å¼è¿›è¡Œéƒ¨ç½² Affineï¼Œè¿™æ˜¯ Affine æ¨èçš„éƒ¨ç½²æ–¹å¼ã€‚",[10,112,113],{"id":113},"éƒ¨ç½²",[37,115,117],{"id":116},"å®‰è£…-docker","å®‰è£… Docker",[14,119,120],{},"é‚£ä¹ˆé¦–å…ˆæˆ‘ä»¬å®‰è£… Dockerï¼Œå¯¹äº Linux ç”¨æˆ·ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Linuxmirrors æä¾›çš„æ›´ç®€å•çš„ä¸€é”®å®‰è£… Docker è„šæœ¬ï¼ˆå¯è‡ªåŠ¨åˆ¤æ–­ç³»ç»Ÿå’Œæ¢æºï¼Œç”šè‡³éƒ¨åˆ†å›½äº§ç³»ç»Ÿéƒ½å¯ä»¥è£…ï¼‰ã€‚",[14,122,123],{},"ä»€ä¹ˆï¼Ÿä½ æ˜¯ Windows æˆ–è€…æƒ³ç”¨å›¾å½¢åŒ–ç®¡ç† Dockerï¼ŸDocker Desktop æ¬¢è¿ä½ ã€‚",[125,126,131],"pre",{"className":127,"code":129,"language":130,"meta":22},[128],"language-bash","bash \u003C(curl -sSL https://linuxmirrors.cn/docker.sh)\n","bash",[132,133,129],"code",{"__ignoreMap":22},[14,135,136],{},"ç­‰å¾… Docker å®‰è£…å®Œæˆï¼Œæˆ‘ä»¬å°±å¯ä»¥å¼€å§‹ä¸‹ä¸€æ­¥äº†ã€‚",[37,138,139],{"id":139},"æ–°å»ºæ–‡ä»¶å¤¹",[14,141,142],{},"ä¾ç„¶æ˜¯ç†Ÿæ‚‰çš„æ–°å»ºæŒä¹…åŒ–æ•°æ®æ–‡ä»¶å¤¹ã€‚",[125,144,147],{"className":145,"code":146,"language":130,"meta":22},[128],"mkdir affine\ncd affine\n",[132,148,146],{"__ignoreMap":22},[37,150,151],{"id":151},"è·å–ç¼–æ’å’Œç¯å¢ƒå˜é‡æ–‡ä»¶",[14,153,154],{},"æ¥ä¸‹æ¥æˆ‘ä»¬ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è·å–éƒ¨ç½²éœ€è¦çš„ Compose ç¼–æ’æ–‡ä»¶å’Œ env ç¯å¢ƒå˜é‡æ–‡ä»¶ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤å‰ï¼Œè¯·ç¡®ä¿ä½ çš„ç»ˆç«¯å·²ç»åœ¨ affine ç›®å½•é‡Œäº†ã€‚",[125,156,159],{"className":157,"code":158,"language":130,"meta":22},[128],"wget -O docker-compose.yml https://github.com/toeverything/affine/releases/latest/download/docker-compose.yml\nwget -O .env https://github.com/toeverything/affine/releases/latest/download/default.env.example\n",[132,160,158],{"__ignoreMap":22},[37,162,163],{"id":163},"ä¿®æ”¹ç¯å¢ƒå˜é‡æ–‡ä»¶",[165,166,169,175],"alert",{":card":167,"card":22,"type":168},"true","warning",[170,171,172],"template",{"v-slot:title":22},[14,173,174],{},"æ³¨æ„ï¼",[14,176,177],{},"åœ¨åˆå§‹åŒ–å¹¶å¼€å§‹ä½¿ç”¨ Affine åï¼Œè¯·ä¸è¦éšä¾¿ä¿®æ”¹ç¯å¢ƒå˜é‡ã€‚",[14,179,180,181,184,185,187],{},"è¿™é‡Œçš„",[132,182,183],{"code":183},"env","æ–‡ä»¶å¯èƒ½ä¸æ˜¯æœ€æ–°çš„ï¼Œè¯·ä¼˜å…ˆä»¥å®˜æ–¹",[132,186,183],{"code":183},"æ–‡ä»¶å†…å®¹ä¸ºå‡†ï¼Œæœ‰å…³è®¾ç½®é¡¹æˆ‘å·²ç»åŠ æ³¨äº†ä¸­æ–‡æ³¨é‡Šåœ¨ä¸‹æ–‡ï¼Œè¯·è‡ªè¡Œå‚ç…§ä¿®æ”¹å“¦ã€‚",[125,189,194],{"className":190,"code":192,"language":193,"meta":22},[191],"language-yaml","# é€‰æ‹©éœ€è¦éƒ¨ç½²çš„ Affine ç‰ˆæœ¬ï¼Œç¨³å®šï¼ˆstableï¼‰ï¼Œæµ‹è¯•ï¼ˆbetaï¼‰ï¼Œé‡‘ä¸é›€ï¼ˆcanaryï¼‰\n# å¯é€‰å€¼ï¼šstable, beta, canary\nAFFINE_REVISION=stable\n\n# æœåŠ¡åœ¨å®¹å™¨ä¸­å‘æœåŠ¡å™¨æš´éœ²çš„ç«¯å£ï¼Œé»˜è®¤ 3010\nPORT=3010\n\n# ä¸ºå¯¹å¤–çš„é“¾æ¥è®¾ç½®æœåŠ¡å™¨çš„ä¸»æœºåœ°å€\n# é»˜è®¤æ³¨é‡Šï¼Œç”±åå‘ä»£ç†ç®¡ç†\n# å¯ç”¨ HTTPS\n# AFFINE_SERVER_HTTPS=true\n# æœåŠ¡å™¨åŸŸå\n# AFFINE_SERVER_HOST=affine.yourdomain.com\n# æˆ–è€…ä½¿ç”¨å®Œæ•´çš„å¤–éƒ¨ URL\n# AFFINE_SERVER_EXTERNAL_URL=https://affine.yourdomain.com\n\n# æ•°æ®åº“æŒä¹…åŒ–æ•°æ®å­˜æ”¾è·¯å¾„\nDB_DATA_LOCATION=~/.affine/self-host/postgres/pgdata\n# ä¸Šä¼ çš„æ–‡ä»¶ï¼ˆå›¾ç‰‡ã€é™„ä»¶ç­‰ï¼‰æŒä¹…åŒ–å­˜æ”¾è·¯å¾„\nUPLOAD_LOCATION=~/.affine/self-host/storage\n# é…ç½®æ–‡ä»¶æŒä¹…åŒ–å­˜æ”¾è·¯å¾„\nCONFIG_LOCATION=~/.affine/self-host/config\n\n# æ•°æ®åº“ç”¨æˆ·å\nDB_USERNAME=affine\n# æ•°æ®åº“å¯†ç ï¼ˆç•™ç©ºè¡¨ç¤ºä¸è®¾ç½®å¯†ç ï¼‰\nDB_PASSWORD=\n# æ•°æ®åº“åç§°\nDB_DATABASE=affine\n","yaml",[132,195,192],{"__ignoreMap":22},[37,197,198],{"id":198},"å¯åŠ¨ç¼–æ’æœåŠ¡å™¨",[14,200,201],{},"Affine ç›¸å¯¹æ¥è¯´è¿˜æ˜¯ç®€å•è®¸å¤šçš„ï¼Œéœ€è¦åœ¨æ–‡ä»¶é‡Œé…ç½®çš„å°±åˆšæ‰ä¸Šé¢è¿™äº›ä¸œè¥¿ï¼Œå‰©ä¸‹çš„é…ç½®éœ€è¦æˆ‘ä»¬å¯åŠ¨ Affine ååœ¨åå°è®¾ç½®ä¸­è®¾ç½®ã€‚",[125,203,206],{"className":204,"code":205,"language":130,"meta":22},[128],"docker compose up -d\n",[132,207,205],{"__ignoreMap":22},[14,209,210,211,214],{},"å¦‚æœä¸€åˆ‡é¡ºåˆ©ï¼Œæˆ‘ä»¬å°†èƒ½å¤Ÿé€šè¿‡",[132,212,213],{"code":213},"http://localhost:3010","åœ¨æµè§ˆå™¨ä¸­è®¿é—®åˆ° Affineã€‚",{"title":22,"searchDepth":216,"depth":216,"links":217},4,[218,220,227],{"id":12,"depth":219,"text":12},2,{"id":32,"depth":219,"text":32,"children":221},[222,224,225,226],{"id":39,"depth":223,"text":39},3,{"id":67,"depth":223,"text":68},{"id":82,"depth":223,"text":82},{"id":104,"depth":223,"text":104},{"id":113,"depth":219,"text":113,"children":228},[229,230,231,232,233],{"id":116,"depth":223,"text":117},{"id":139,"depth":223,"text":139},{"id":151,"depth":223,"text":151},{"id":163,"depth":223,"text":163},{"id":198,"depth":223,"text":198},[235],"æŠ€æœ¯æ¢ç´¢","2025-10-23T05:00:00","æœ¬æ–‡ä»‹ç»äº†è‡ªæ‰˜ç®¡çŸ¥è¯†åº“ç³»ç»Ÿ Affine çš„éƒ¨ç½²æµç¨‹ï¼Œæ¶µç›–å…¶å­˜å‚¨ã€CPUã€å†…å­˜ç­‰é…ç½®è¦æ±‚ï¼Œå¹¶å¯¹æ¯” Outline æŒ‡å‡ºå…¶æ–‡æ¡£æ›´æ¸…æ™°ã€‚æ–‡ç« é‡‡ç”¨ Docker Compose æ–¹å¼éƒ¨ç½²ï¼Œæä¾›ä»å®‰è£… Dockerã€è·å–é…ç½®æ–‡ä»¶ã€ä¿®æ”¹ç¯å¢ƒå˜é‡åˆ°å¯åŠ¨æœåŠ¡çš„å®Œæ•´æ­¥éª¤ï¼Œé€‚åˆå¸Œæœ›æ­å»ºç§æœ‰çŸ¥è¯†åº“çš„ç”¨æˆ·å‚è€ƒã€‚",false,"md",{},true,"/2025/10/affine-deploy",null,{"text":245,"minutes":246,"time":247,"words":248},"8 min read",7.09,425400,1418,12,{"title":5,"description":237},{"loc":242},"posts/2025/10/affine-deploy",[254,255],"è‡ªæ‰˜ç®¡","çŸ¥è¯†åº“","tech","ox0_MyfbQQkTCVGgbxaV4C3yh00_4waAbAzdIggTjqM",[259,264],{"title":260,"path":261,"stem":262,"date":263,"type":256,"children":-1},"Lemmy éƒ¨ç½²ï¼šRust Fediverse ç¤¾åŒºç³»ç»Ÿ","/2025/10/lemmy-fediverse-deploy","posts/2025/10/lemmy-fediverse-deploy","2025-10-22T06:00:00",{"title":265,"path":266,"stem":267,"date":268,"type":256,"children":-1},"Misskey éƒ¨ç½²ï¼šæ–°ä¸€ä»£è”é‚¦æ˜Ÿé™…å¾®åšå¹³å°","/2025/10/misskey-fediverse-deploy","posts/2025/10/misskey-fediverse-deploy","2025-10-24T05:00:00",1762517809014]