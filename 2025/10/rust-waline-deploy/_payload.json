[{"data":1,"prerenderedAt":127},["ShallowReactive",2],{"/2025/10/rust-waline-deploy/":3,"surround-/2025/10/rust-waline-deploy":120},{"id":4,"title":5,"body":6,"categories":97,"date":99,"description":100,"draft":101,"extension":102,"image":90,"meta":103,"navigation":104,"path":105,"permalink":106,"readingTime":107,"recommend":106,"references":106,"seo":112,"sitemap":113,"stem":114,"tags":115,"type":118,"updated":106,"__hash__":119},"content/posts/2025/10/rust-waline-deploy.md","Waline-Mini 部署体验：基于 Rust 的 Waline 评论系统？",{"type":7,"value":8,"toc":91},"minimark",[9,13,25,32,35,38,41,44,47,50,61,64,70,77,82,85],[10,11,12],"h2",{"id":12},"前言",[14,15,16,17,24],"p",{},"最近逛 Github 也是看到个离谱的东西：waline-mini，上面描述是使用 Rust 实现的高性能 Waline 评论系统，作者是",[18,19,23],"a",{"href":20,"rel":21},"https://github.com/JQiue",[22],"nofollow","jQiue","。",[14,26,27,28],{},"Github 开源地址：",[18,29,30],{"href":30,"rel":31},"https://github.com/JQiue/waline-mini",[22],[14,33,34],{},"说实话给我看懵了，Waline 我是认识的，也是很早期开始发展的 Node.js 评论系统了，在早期因为我的一些个人原因我的大部分站点最终选定的是 Twikoo 作为评论系统。",[14,36,37],{},"不过 Waline 确实是一个还不错的评论系统，本身也能在各路云函数上运行，配置要求已经可以说是很低了，但是我是真没想到如今还有大佬写出了 Rust 实现的版本。",[14,39,40],{},"文档介绍其内存占用只有 Node.js 版本 Waline 内存占用的 1/25（5612kb=5.48mb 内存占用），我只能说不愧是 Rust。",[10,42,43],{"id":43},"部署",[14,45,46],{},"我们选择一种更快速，更经济的尝试来部署下 Waline-mini，今天我们使用 Zeabur 来进行尝试，看看部署后 Zeabur 给出的消耗预算是多少，本质其实还是使用 Docker 来部署。",[14,48,49],{},"项目给出的 Docker Compose 文件如下，不一定是最新的，建议查看官方文档。",[51,52,58],"pre",{"className":53,"code":55,"language":56,"meta":57},[54],"language-yaml","services:\n  waline:\n    image: jqiue/waline-mini:latest\n    container_name: waline-mini\n    ports:\n      - \"8360:8360\"\n    volumes:\n      - waline-db:/app/db\n    environment:\n      - DATABASE_URL=${DATABASE_URL:-sqlite:////app/db/waline.sqlite?mode=rwc}\n      - JWT_TOKEN=${JWT_TOKEN}\n      - SITE_NAME=${SITE_NAME}\n      - SITE_URL=${SITE_URL}\n    restart: unless-stopped\n\nvolumes:\n  waline-db:\n    driver: local\n","yaml","",[59,60,55],"code",{"__ignoreMap":57},[14,62,63],{},"前往 Zeabur，创建项目，选择使用“Docker 容器镜像”部署，本文主要是部署体验文，不详细撰述该如何部署，且目前项目仍是开发状态，未来部署方式也可能会有变化。",[14,65,66],{},[67,68],"img",{"alt":57,"src":69},"https://blog-files.101045700.xyz/2025/10/r-waline/zeabur-docker.webp",[14,71,72,73,76],{},"部署后我们可以通过",[59,74,75],{"code":75},"waline.example.com/ui","访问后台并注册账号，第一个注册的用户即为 Waline 管理员",[14,78,79],{},[67,80],{"alt":57,"src":81},"https://blog-files.101045700.xyz/2025/10/r-waline/waline-ui.webp",[14,83,84],{},"可以看到 Waline 还原完整度确实很高了，后台基本 100% 还原。",[14,86,87,88],{},"还有你们最关心的资源占用图，可以看到平均内存使用量为 3.48MB，确实很低了。\n",[67,89],{"alt":57,"src":90},"https://blog-files.101045700.xyz/2025/10/r-waline/zeabur-used.webp",{"title":57,"searchDepth":92,"depth":92,"links":93},4,[94,96],{"id":12,"depth":95,"text":12},2,{"id":43,"depth":95,"text":43},[98],"技术探索","2025-10-25 03:00:00","本文介绍了作者因 GitHub 上的 waline-mini 项目而产生的惊喜与实测过程。作为一款使用 Rust 重写的 Waline 评论系统，waline-mini 据称内存占用仅为 Node.js 原版的 1/25（约 5.5MB）。文章记录了作者通过 Zeabur 平台使用 Docker 快速部署的体验：配置简洁、支持 SQLite、默认监听 8360 端口，首个注册账户即成为管理员。实测后台 UI 与原版高度一致，平均内存仅 3.48 MB，验证了 Rust 带来的极致轻量，适合对资源占用敏感的站点。",false,"md",{},true,"/2025/10/rust-waline-deploy",null,{"text":108,"minutes":109,"time":110,"words":111},"3 min read",2.345,140700,469,{"title":5,"description":100},{"loc":105},"posts/2025/10/rust-waline-deploy",[116,117],"自托管","评论系统","tech","LyMRH3ORKflXWMpxLRm1viyRvnQSHeG4Kkz0_Gc8gj4",[121,106],{"title":122,"path":123,"stem":124,"date":125,"type":126,"children":-1},"迟来的个人对《拔作岛》第一部游戏动漫杂谈","/2025/10/nukitashi-gv-end","posts/2025/10/nukitashi-gv-end","2025-10-25 02:00:00","story",1761903429435]