[{"data":1,"prerenderedAt":230},["ShallowReactive",2],{"global-music-player":3,"post-/2025/10/rust-waline-deploy":102,"surround-/2025/10/rust-waline-deploy":218},{"musicList":4,"error":101},[5,12,18,24,30,36,41,46,51,56,60,65,71,77,83,89,95],{"id":6,"title":7,"artist":8,"source":9,"url":10,"cover":11},"760528","メグメル (cuckool Mix 2007)","eufonius","netease","https://api.obdo.cc/meting/?server=netease&type=url&id=760528","https://p3.music.126.net/UVSTEnyyWfnQmhI5kqvvMQ==/109951170852620291.jpg?param=90y90",{"id":13,"title":14,"artist":15,"source":9,"url":16,"cover":17},"1484017181","Sofia","Álvaro Soler","https://api.obdo.cc/meting/?server=netease&type=url&id=1484017181","https://p3.music.126.net/Db50NT4VRJJPIBFYRMhdvQ==/109951165359298851.jpg?param=90y90",{"id":19,"title":20,"artist":21,"source":9,"url":22,"cover":23},"22706984","Étude pour les petites supercordes","戸越まごめ","https://api.obdo.cc/meting/?server=netease&type=url&id=22706984","https://p3.music.126.net/kkkPkRGflxLurhhKBbCmPg==/109951171268737495.jpg?param=90y90",{"id":25,"title":26,"artist":27,"source":9,"url":28,"cover":29},"1311319929","アルカテイル","鈴木このみ/VISUAL ARTS / Key","https://api.obdo.cc/meting/?server=netease&type=url&id=1311319929","https://p3.music.126.net/MVWKZCUCNQocuhMRBpL-Qw==/109951169976613728.jpg?param=90y90",{"id":31,"title":32,"artist":33,"source":9,"url":34,"cover":35},"2734259397","Utopia or Dystopia","夢乃ゆき","https://api.obdo.cc/meting/?server=netease&type=url&id=2734259397","https://p3.music.126.net/fgj1rPzHY_l63_jJ2Cg2uw==/109951171811747559.jpg?param=90y90",{"id":37,"title":38,"artist":39,"source":9,"url":40,"cover":11},"760533","だんご大家族","茶太/真理絵/くない瓜/Rio/Morrigan/藤枝あかね/加藤恒太","https://api.obdo.cc/meting/?server=netease&type=url&id=760533",{"id":42,"title":43,"artist":44,"source":9,"url":45,"cover":23},"22706980","渚","VISUAL ARTS / Key","https://api.obdo.cc/meting/?server=netease&type=url&id=22706980",{"id":47,"title":48,"artist":49,"source":9,"url":50,"cover":23},"22707008","潮鳴り","折戸伸治","https://api.obdo.cc/meting/?server=netease&type=url&id=22707008",{"id":52,"title":53,"artist":44,"source":9,"url":54,"cover":55},"1446832656","REFLECTION BLUE","https://api.obdo.cc/meting/?server=netease&type=url&id=1446832656","https://p3.music.126.net/9Z_HRqDjs2iBLz7_qqSPkg==/109951170197587239.jpg?param=90y90",{"id":57,"title":58,"artist":44,"source":9,"url":59,"cover":23},"22706979","汐","https://api.obdo.cc/meting/?server=netease&type=url&id=22706979",{"id":61,"title":62,"artist":63,"source":9,"url":64,"cover":55},"1446837300","しろはの子守歌","小原好美/VISUAL ARTS / Key","https://api.obdo.cc/meting/?server=netease&type=url&id=1446837300",{"id":66,"title":67,"artist":68,"source":9,"url":69,"cover":70},"1303019256","astral ability","橋本みゆき/佐咲紗花","https://api.obdo.cc/meting/?server=netease&type=url&id=1303019256","https://p3.music.126.net/YM3igu2abTjWdIfT_Gn5Lw==/109951163479574970.jpg?param=90y90",{"id":72,"title":73,"artist":74,"source":9,"url":75,"cover":76},"541492408","強がるオトナのSecret Labo","後藤麻衣","https://api.obdo.cc/meting/?server=netease&type=url&id=541492408","https://p3.music.126.net/KyQpNXO_3pvMwcgBhl0oGg==/109951163169040453.jpg?param=90y90",{"id":78,"title":79,"artist":80,"source":9,"url":81,"cover":82},"530057368","PERFECT GIRL","種崎敦美","https://api.obdo.cc/meting/?server=netease&type=url&id=530057368","https://p3.music.126.net/ZGqIyyu7ziQayjXIpID4qg==/109951163108870649.jpg?param=90y90",{"id":84,"title":85,"artist":86,"source":9,"url":87,"cover":88},"542058337","大和撫子はあこがれ","遥そら","https://api.obdo.cc/meting/?server=netease&type=url&id=542058337","https://p3.music.126.net/r4KRde43oriYxAgyD8-MOA==/109951163169043939.jpg?param=90y90",{"id":90,"title":91,"artist":92,"source":9,"url":93,"cover":94},"1958727599","明日への扉","高橋李依","https://api.obdo.cc/meting/?server=netease&type=url&id=1958727599","https://p3.music.126.net/fNvDL1E9IX-__sUBPhLAGw==/109951167585364773.jpg?param=90y90",{"id":96,"title":97,"artist":98,"source":9,"url":99,"cover":100},"1818615632","色香水","神山羊","https://api.obdo.cc/meting/?server=netease&type=url&id=1818615632","https://p3.music.126.net/z-GWtONkPJHkPS8G9v55qw==/109951166198068699.jpg?param=90y90",null,{"id":103,"title":104,"body":105,"categories":196,"date":198,"description":199,"draft":200,"extension":201,"hide-info":200,"image":101,"meta":202,"navigation":203,"path":204,"permalink":101,"readingTime":205,"recommend":101,"references":101,"seo":210,"sitemap":211,"stem":212,"subtitle":101,"tags":213,"type":216,"updated":101,"__hash__":217},"content/posts/2025/10/rust-waline-deploy.md","Waline-Mini 部署体验：基于 Rust 的 Waline 评论系统？",{"type":106,"value":107,"toc":190},"minimark",[108,112,124,131,134,137,140,143,146,149,160,163,169,176,181,184],[109,110,111],"h2",{"id":111},"前言",[113,114,115,116,123],"p",{},"最近逛 Github 也是看到个离谱的东西：waline-mini，上面描述是使用 Rust 实现的高性能 Waline 评论系统，作者是",[117,118,122],"a",{"href":119,"rel":120},"https://github.com/JQiue",[121],"nofollow","jQiue","。",[113,125,126,127],{},"Github 开源地址：",[117,128,129],{"href":129,"rel":130},"https://github.com/JQiue/waline-mini",[121],[113,132,133],{},"说实话给我看懵了，Waline 我是认识的，也是很早期开始发展的 Node.js 评论系统了，在早期因为我的一些个人原因我的大部分站点最终选定的是 Twikoo 作为评论系统。",[113,135,136],{},"不过 Waline 确实是一个还不错的评论系统，本身也能在各路云函数上运行，配置要求已经可以说是很低了，但是我是真没想到如今还有大佬写出了 Rust 实现的版本。",[113,138,139],{},"文档介绍其内存占用只有 Node.js 版本 Waline 内存占用的 1/25（5612kb=5.48mb 内存占用），我只能说不愧是 Rust。",[109,141,142],{"id":142},"部署",[113,144,145],{},"我们选择一种更快速，更经济的尝试来部署下 Waline-mini，今天我们使用 Zeabur 来进行尝试，看看部署后 Zeabur 给出的消耗预算是多少，本质其实还是使用 Docker 来部署。",[113,147,148],{},"项目给出的 Docker Compose 文件如下，不一定是最新的，建议查看官方文档。",[150,151,157],"pre",{"className":152,"code":154,"language":155,"meta":156},[153],"language-yaml","services:\n  waline:\n    image: jqiue/waline-mini:latest\n    container_name: waline-mini\n    ports:\n      - '8360:8360'\n    volumes:\n      - waline-db:/app/db\n    environment:\n      - DATABASE_URL=${DATABASE_URL:-sqlite:////app/db/waline.sqlite?mode=rwc}\n      - JWT_TOKEN=${JWT_TOKEN}\n      - SITE_NAME=${SITE_NAME}\n      - SITE_URL=${SITE_URL}\n    restart: unless-stopped\n\nvolumes:\n  waline-db:\n    driver: local\n","yaml","",[158,159,154],"code",{"__ignoreMap":156},[113,161,162],{},"前往 Zeabur，创建项目，选择使用“Docker 容器镜像”部署，本文主要是部署体验文，不详细撰述该如何部署，且目前项目仍是开发状态，未来部署方式也可能会有变化。",[113,164,165],{},[166,167],"img",{"alt":156,"src":168},"https://blog-files.101045700.xyz/2025/10/r-waline/zeabur-docker.webp",[113,170,171,172,175],{},"部署后我们可以通过",[158,173,174],{"code":174},"waline.example.com/ui","访问后台并注册账号，第一个注册的用户即为 Waline 管理员",[113,177,178],{},[166,179],{"alt":156,"src":180},"https://blog-files.101045700.xyz/2025/10/r-waline/waline-ui.webp",[113,182,183],{},"可以看到 Waline 还原完整度确实很高了，后台基本 100% 还原。",[113,185,186,187],{},"还有你们最关心的资源占用图，可以看到平均内存使用量为 3.48MB，确实很低了。\n",[166,188],{"alt":156,"src":189},"https://blog-files.101045700.xyz/2025/10/r-waline/zeabur-used.webp",{"title":156,"searchDepth":191,"depth":191,"links":192},4,[193,195],{"id":111,"depth":194,"text":111},2,{"id":142,"depth":194,"text":142},[197],"技术探索","2025-10-25T03:00:00","本文介绍了作者因 GitHub 上的 waline-mini 项目而产生的惊喜与实测过程。作为一款使用 Rust 重写的 Waline 评论系统，waline-mini 据称内存占用仅为 Node.js 原版的 1/25（约 5.5MB）。文章记录了作者通过 Zeabur 平台使用 Docker 快速部署的体验：配置简洁、支持 SQLite、默认监听 8360 端口，首个注册账户即成为管理员。实测后台 UI 与原版高度一致，平均内存仅 3.48 MB，验证了 Rust 带来的极致轻量，适合对资源占用敏感的站点。",false,"md",{},true,"/2025/10/rust-waline-deploy",{"text":206,"minutes":207,"time":208,"words":209},"3 min read",2.345,140700,469,{"title":104,"description":199},{"loc":204},"posts/2025/10/rust-waline-deploy",[214,215],"自托管","评论系统","tech","D9n7laIozjNB5_urH1isXVT3p33v73wtQ3xRUQbA63I",[219,225],{"title":220,"path":221,"stem":222,"date":223,"type":224,"children":-1},"迟来的个人对《拔作岛》第一部游戏动漫杂谈","/2025/10/nukitashi-gv-end","posts/2025/10/nukitashi-gv-end","2025-10-25T02:00:00","story",{"title":226,"path":227,"stem":228,"date":229,"type":224,"children":-1},"博客～真周年随笔（大概是一周年）","/2025/11/blog-1th-note","posts/2025/11/blog-1th-note","2025-11-04T08:00:00",1765732624062]