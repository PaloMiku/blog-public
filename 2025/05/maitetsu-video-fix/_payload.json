[{"data":1,"prerenderedAt":526},["ShallowReactive",2],{"/2025/05/maitetsu-video-fix":3,"toc-/2025/05/maitetsu-video-fix":317,"surround-/2025/05/maitetsu-video-fix":515},{"id":4,"title":5,"body":6,"categories":295,"date":297,"description":298,"draft":299,"extension":300,"image":301,"meta":302,"navigation":303,"path":304,"readingTime":305,"recommend":310,"references":311,"seo":312,"stem":313,"tags":314,"type":311,"updated":311,"__hash__":316},"content/posts/2025/05/maitetsu-video-fix.md","《爱上火车》在 Linux 下的视频播放修复",{"type":7,"value":8,"toc":270},"minimark",[9,26,34,65,68,71,74,77,84,87,93,96,100,103,106,123,127,130,135,138,142,146,149,154,157,161,164,167,170,174,177,180,185,188,191,194,197,202,205,208,213,216,221,224,227,230,235,238,243,246,251,254,259,262,265],[10,11,12,23],"alert",{},[13,14,15,22],"p",{},[16,17,21],"a",{"href":18,"rel":19},"https://www.xiaoheihe.cn/app/bbs/link/153105496",[20],"nofollow","本文类似版本","个人首发于小黑盒，你在此看到的版本为基于小黑盒发布版本的二次修订版。",[13,24,25],{},"本次修订版本发布于个人博客，目前仅在小黑盒和个人博客发布过本文。",[27,28,30],"h2",{"id":29},"小剧场",[31,32,29],"tip",{"tip":33},"基于今天和朋友的聊天以及之前看到的一些聊天梗做的夸张虚构，图一乐就行了。",[35,36,37,40,43,46,49,52,55,57,60,62],"chat",{},[13,38,39],{},"{:2025-05-19 16:30:00}",[13,41,42],{},"{朋友}",[13,44,45],{},"鬆啊，马上要 520 了，不去陪女朋友在这写博客啊，你是打算运用你在《爱上火车》《苍之彼方的四重奏》《魔女的夜宴》《恋爱与选举与巧克力》《拔作岛》《夏日口袋》中学到的技巧来哄你的女朋友嘛。",[13,47,48],{},"{:鬆撤回了一条消息}",[13,50,51],{},"{.鬆}",[13,53,54],{},"我真不会哄女朋友😭，今天发完文章明天还得思考怎么哄女朋友。",[13,56,42],{},[13,58,59],{},"太惨了，现充不会哄女朋友，今天帮我看看电脑问题呗。",[13,61,51],{},[13,63,64],{},"不看，说这样的风凉话你自己研究去。",[27,66,67],{"id":67},"前言",[13,69,70],{},"之前文章也提到过，我是一个 Steamdeck Gal 玩家，而且是用 Linux 跑 Galgame 的“勇者”。",[13,72,73],{},"既然都用 Linux 跑 Gal 了，那么会遇到各种奇奇怪怪问题都算正常了。",[13,75,76],{},"在 Linux 游玩《爱上火车 LastRun!!》时，我就遇到了相关组件缺失问题，使用环境为Proton 9.0，会出现人物线开场动画无法正常播放问题。",[13,78,79],{},[80,81],"img",{"alt":82,"src":83},"Maitetsu Home","https://blog-files.101045700.xyz/Gal2025Up/Maitetsu/Home.webp",[13,85,86],{},"一开始我尝试使用Proton GE环境再次运行进行尝试，但单纯使用ProtonGE环境后反而问题更加严重，到剧情线开场动画会直接黑屏卡死。",[13,88,89],{},[80,90],{"alt":91,"src":92},"ProtonDB","https://blog-files.101045700.xyz/MaitetsuVideoFix/ProtonDB.webp",[13,94,95],{},"在四处寻找解决方法时，发现ProtonDB下的一位用户提出了解决方案，使用Protontricks进行补丁修补，经过验证，问题得到了很好的解决。",[27,97,99],{"id":98},"为什么不用-wine","为什么不用 Wine？",[13,101,102],{},"这个综合原因是有很多的，但简单来说就是笔者是购买的 Steam 官方中文版，使用 Steam Proton 进行运行游戏，很难切换 Proton 以外的第三方兼容层。",[13,104,105],{},"使用第三方版本在 Deck 的 Gamescope 游戏桌面启动和切换也不方便和不美观。",[10,107,109,116],{"type":108},"question",[110,111,113],"template",{"v-slot:title":112},"",[13,114,115],{},"值得注意！",[13,117,118,122],{},[31,119,121],{"tip":120},"似乎很多 Linux Galgame 玩家都使用它（雾）","笔者使用的 Linux 发行版为 Arch Linux","，桌面环境为 GNOME，后文教程也主要围绕其进行，对于其他发行版，大部分情况下也就是安装方式和软件包存在差异。",[27,124,126],{"id":125},"安装-protontricks","安装 Protontricks",[13,128,129],{},"对于 Steam 官方中文版，我们需要先安装 Protontricks 来实现对其补丁和环境修复。",[131,132,134],"h3",{"id":133},"arch-linux-命令安装","Arch Linux 命令安装",[13,136,137],{},"对于 Arch Linux 且非 Flathub 用户来说，安装 Protontricks 相当简单，而且不需要额外的权限配置。",[139,140],"copy",{"code":141},"sudo pacman -S protontricks",[131,143,145],{"id":144},"flathub-安装","Flathub 安装",[13,147,148],{},"对于其他 Linux 发行版，首先你先去安装 Flatpak，然后我们可以通过 Flathub 来安装 Protontricks。",[150,151,153],"h4",{"id":152},"切换国内-flathub-官方源","切换国内 Flathub 官方源",[13,155,156],{},"我们可以通过以下指令为 Flatpak 切换中国大陆地区的下载源提高下载速度。",[158,159,160],"h5",{"id":160},"上海交通大学",[139,162],{"code":163},"sudo flatpak remote-modify flathub --url=https://mirror.sjtu.edu.cn/flathub",[158,165,166],{"id":166},"中国科学技术大学",[139,168],{"code":169},"sudo flatpak remote-modify flathub --url=https://mirrors.ustc.edu.cn/flathub",[150,171,173],{"id":172},"获取-protontricks-和-flatseal","获取 Protontricks 和 Flatseal",[158,175,176],{"id":176},"软件中心安装",[13,178,179],{},"前往 GNOME 软件中心搜索并获取 Protontricks 和 Flatseal",[13,181,182],{},[80,183],{"alt":112,"src":184},"https://blog-files.101045700.xyz/MaitetsuVideoFix/Fl_Protontricks.webp",[158,186,187],{"id":187},"命令安装",[13,189,190],{},"我们也可以通过以下命令从 Flatpak 安装程序：",[139,192],{"code":193},"flatpak install flathub com.github.Matoking.protontricks",[139,195],{"code":196},"flatpak install flathub com.github.tchx84.Flatseal",[13,198,199],{},[80,200],{"alt":112,"src":201},"https://blog-files.101045700.xyz/MaitetsuVideoFix/Sh_Protontricks.webp",[27,203,204],{"id":204},"权限配置",[13,206,207],{},"我们需要通过 Flatseal 为 Protontricks 配置相关权限保证它能读写文件和正常运行，首先打开 Flatseal 并找到 Protontricks。",[13,209,210],{},[80,211],{"alt":112,"src":212},"https://blog-files.101045700.xyz/MaitetsuVideoFix/Flatseal01.webp",[13,214,215],{},"向下翻找到文件系统相关配置，把这四个全部打开（勾选），为程序分配全部文件系统访问权限，然后关闭 Flatseal，此处配置操作结束。",[13,217,218],{},[80,219],{"alt":112,"src":220},"https://blog-files.101045700.xyz/MaitetsuVideoFix/Flatseal02.webp",[27,222,223],{"id":223},"修补组件",[13,225,226],{},"接下来打开 Protontricks，会出现一个提示框让我们选择需要打补丁的游戏，我们以爱上火车做例子，在此处选择对应的游戏并且选择 OK",[13,228,229],{},"如果报错请先确定你是否已经通过 Proton 启动过一次游戏，不然此处可能会报错找不到游戏相关 Proton 文件。",[13,231,232],{},[80,233],{"alt":112,"src":234},"https://blog-files.101045700.xyz/MaitetsuVideoFix/Protontricks-01.webp",[13,236,237],{},"在一番确定（可能有选择默认 Proton 容器）操作后，我们可以来到如下页面。",[13,239,240],{},[80,241],{"alt":112,"src":242},"https://blog-files.101045700.xyz/MaitetsuVideoFix/Protontricks-02.webp",[13,244,245],{},"在此处我们选择“安装Windows DLL 或组件”来为游戏安装缺失的相关组件，以爱上火车为例，需要安装 DirectShow 和 WMP9 组件来修补视频播放。",[10,247,248],{},[13,249,250],{},"如果下载组件失败，你可能需要配置海外网络环境。",[13,252,253],{},"选定完需要修补的组件后，单击“确定“开始修补安装，期间可能会弹窗和出现安装页面，全部遵循其标准顺序确定或安装。",[13,255,256],{},[80,257],{"alt":112,"src":258},"https://blog-files.101045700.xyz/MaitetsuVideoFix/Protontricks-03.webp",[27,260,261],{"id":261},"测试",[13,263,264],{},"我们关闭Protontricks然后启动游戏测试效果，测试发现游戏内开场动画已经可以正常得到播放，很显然我们修补成功了！",[13,266,267],{},[80,268],{"alt":112,"src":269},"https://blog-files.101045700.xyz/MaitetsuVideoFix/MaitetsuGames.webp",{"title":112,"searchDepth":271,"depth":271,"links":272},4,[273,275,276,277,292,293,294],{"id":29,"depth":274,"text":29},2,{"id":67,"depth":274,"text":67},{"id":98,"depth":274,"text":99},{"id":125,"depth":274,"text":126,"children":278},[279,281],{"id":133,"depth":280,"text":134},3,{"id":144,"depth":280,"text":145,"children":282},[283,288],{"id":152,"depth":271,"text":153,"children":284},[285,287],{"id":160,"depth":286,"text":160},5,{"id":166,"depth":286,"text":166},{"id":172,"depth":271,"text":173,"children":289},[290,291],{"id":176,"depth":286,"text":176},{"id":187,"depth":286,"text":187},{"id":204,"depth":274,"text":204},{"id":223,"depth":274,"text":223},{"id":261,"depth":274,"text":261},[296],"旮瘩给木","2025-05-19 18:30:00","本文介绍了《爱上火车》系列在 Linux Proton 环境下播放游戏内视频的修复",false,"md","https://blog-files.101045700.xyz/MaitetsuVideoFix/Home.webp",{},true,"/2025/05/maitetsu-video-fix",{"text":306,"minutes":307,"time":308,"words":309},"6 min read",5.84,350400,1168,10,null,{"title":5,"description":298},"posts/2025/05/maitetsu-video-fix",[315],"Galgame","BCYP54HN_99hTQcD3tzdReNean1YqHDeWhrXo9tevt0",{"id":4,"title":5,"body":318,"categories":510,"date":297,"description":298,"draft":299,"extension":300,"image":301,"meta":511,"navigation":303,"path":304,"readingTime":512,"recommend":310,"references":311,"seo":513,"stem":313,"tags":514,"type":311,"updated":311,"__hash__":316},{"type":7,"value":319,"toc":489},[320,329,333,355,357,359,361,363,367,369,373,375,377,379,381,391,393,395,397,399,401,403,405,407,409,411,413,415,417,419,421,423,427,429,431,433,435,439,441,443,447,449,453,455,457,459,463,465,469,471,475,477,481,483,485],[10,321,322,327],{},[13,323,324,22],{},[16,325,21],{"href":18,"rel":326},[20],[13,328,25],{},[27,330,331],{"id":29},[31,332,29],{"tip":33},[35,334,335,337,339,341,343,345,347,349,351,353],{},[13,336,39],{},[13,338,42],{},[13,340,45],{},[13,342,48],{},[13,344,51],{},[13,346,54],{},[13,348,42],{},[13,350,59],{},[13,352,51],{},[13,354,64],{},[27,356,67],{"id":67},[13,358,70],{},[13,360,73],{},[13,362,76],{},[13,364,365],{},[80,366],{"alt":82,"src":83},[13,368,86],{},[13,370,371],{},[80,372],{"alt":91,"src":92},[13,374,95],{},[27,376,99],{"id":98},[13,378,102],{},[13,380,105],{},[10,382,383,387],{"type":108},[110,384,385],{"v-slot:title":112},[13,386,115],{},[13,388,389,122],{},[31,390,121],{"tip":120},[27,392,126],{"id":125},[13,394,129],{},[131,396,134],{"id":133},[13,398,137],{},[139,400],{"code":141},[131,402,145],{"id":144},[13,404,148],{},[150,406,153],{"id":152},[13,408,156],{},[158,410,160],{"id":160},[139,412],{"code":163},[158,414,166],{"id":166},[139,416],{"code":169},[150,418,173],{"id":172},[158,420,176],{"id":176},[13,422,179],{},[13,424,425],{},[80,426],{"alt":112,"src":184},[158,428,187],{"id":187},[13,430,190],{},[139,432],{"code":193},[139,434],{"code":196},[13,436,437],{},[80,438],{"alt":112,"src":201},[27,440,204],{"id":204},[13,442,207],{},[13,444,445],{},[80,446],{"alt":112,"src":212},[13,448,215],{},[13,450,451],{},[80,452],{"alt":112,"src":220},[27,454,223],{"id":223},[13,456,226],{},[13,458,229],{},[13,460,461],{},[80,462],{"alt":112,"src":234},[13,464,237],{},[13,466,467],{},[80,468],{"alt":112,"src":242},[13,470,245],{},[10,472,473],{},[13,474,250],{},[13,476,253],{},[13,478,479],{},[80,480],{"alt":112,"src":258},[27,482,261],{"id":261},[13,484,264],{},[13,486,487],{},[80,488],{"alt":112,"src":269},{"title":112,"searchDepth":271,"depth":271,"links":490},[491,492,493,494,507,508,509],{"id":29,"depth":274,"text":29},{"id":67,"depth":274,"text":67},{"id":98,"depth":274,"text":99},{"id":125,"depth":274,"text":126,"children":495},[496,497],{"id":133,"depth":280,"text":134},{"id":144,"depth":280,"text":145,"children":498},[499,503],{"id":152,"depth":271,"text":153,"children":500},[501,502],{"id":160,"depth":286,"text":160},{"id":166,"depth":286,"text":166},{"id":172,"depth":271,"text":173,"children":504},[505,506],{"id":176,"depth":286,"text":176},{"id":187,"depth":286,"text":187},{"id":204,"depth":274,"text":204},{"id":223,"depth":274,"text":223},{"id":261,"depth":274,"text":261},[296],{},{"text":306,"minutes":307,"time":308,"words":309},{"title":5,"description":298},[315],[516,521],{"title":517,"path":518,"stem":519,"date":520,"type":311,"children":-1},"旮沓给木太好玩辣——2025年上半Gal历程个人总结","/2025/05/gal-up","posts/2025/05/gal-up","2025-05-19 00:30:00",{"title":522,"path":523,"stem":524,"date":525,"type":311,"children":-1},"浅谈个人与 Fediverse 的过往历史和现状","/2025/05/fediverse","posts/2025/05/fediverse","2025-05-20 08:30:00",1756365401433]