[{"data":1,"prerenderedAt":465},["ShallowReactive",2],{"/2025/05/maitetsu-video-fix":3,"surround-/2025/05/maitetsu-video-fix":456},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":9,"date":10,"categories":11,"tags":13,"image":15,"recommend":16,"readingTime":17,"body":22,"_type":449,"_id":450,"_source":451,"_file":452,"_stem":453,"_extension":454,"_original_dir":455},"/2025/05/maitetsu-video-fix","05",false,"","《爱上火车》在 Linux 下的视频播放修复","本文介绍了《爱上火车》系列在 Linux Proton 环境下播放游戏内视频的修复","2025-05-19T10:30:00.000Z",[12],"旮瘩给木",[14],"Galgame","https://blog-files.101045700.xyz/MaitetsuVideoFix/Home.webp",10,{"text":18,"minutes":19,"time":20,"words":21},"6 min read",5.845,350700,1169,{"type":23,"children":24,"toc":424},"root",[25,51,62,114,119,124,129,134,143,148,156,161,167,172,177,201,207,212,219,224,229,235,240,247,252,258,262,267,271,277,282,287,294,299,304,308,312,319,324,329,336,341,348,353,358,363,370,375,382,387,395,400,407,412,417],{"type":26,"tag":27,"props":28,"children":29},"element","alert",{},[30,46],{"type":26,"tag":31,"props":32,"children":33},"p",{},[34,44],{"type":26,"tag":35,"props":36,"children":40},"a",{"href":37,"rel":38},"https://www.xiaoheihe.cn/app/bbs/link/153105496",[39],"nofollow",[41],{"type":42,"value":43},"text","本文类似版本",{"type":42,"value":45},"个人首发于小黑盒，你在此看到的版本为基于小黑盒版本的专业向二次修订版。",{"type":26,"tag":31,"props":47,"children":48},{},[49],{"type":42,"value":50},"本次修订版本发布于个人博客，目前仅在小黑盒和个人博客发布过本文。",{"type":26,"tag":52,"props":53,"children":55},"h2",{"id":54},"小剧场",[56],{"type":26,"tag":57,"props":58,"children":60},"tip",{"tip":59},"基于今天和朋友的聊天以及之前看到的一些聊天梗做的夸张虚构，图一乐就行了。",[61],{"type":42,"value":54},{"type":26,"tag":63,"props":64,"children":65},"chat",{},[66,71,76,81,86,91,96,100,105,109],{"type":26,"tag":31,"props":67,"children":68},{},[69],{"type":42,"value":70},"{:2025-05-19 16:30:00}",{"type":26,"tag":31,"props":72,"children":73},{},[74],{"type":42,"value":75},"{朋友}",{"type":26,"tag":31,"props":77,"children":78},{},[79],{"type":42,"value":80},"鬆啊，马上要 520 了，不去陪女朋友在这写博客啊，你是打算运用你在《爱上火车》《苍之彼方的四重奏》《魔女的夜宴》《恋爱与选举与巧克力》《拔作岛》《夏日口袋》中学到的技巧来哄你的女朋友嘛。",{"type":26,"tag":31,"props":82,"children":83},{},[84],{"type":42,"value":85},"{:鬆撤回了一条消息}",{"type":26,"tag":31,"props":87,"children":88},{},[89],{"type":42,"value":90},"{.鬆}",{"type":26,"tag":31,"props":92,"children":93},{},[94],{"type":42,"value":95},"我真不会哄女朋友😭，今天发完文章明天还得思考怎么哄女朋友。",{"type":26,"tag":31,"props":97,"children":98},{},[99],{"type":42,"value":75},{"type":26,"tag":31,"props":101,"children":102},{},[103],{"type":42,"value":104},"太惨了，现充不会哄女朋友，今天帮我看看电脑问题呗。",{"type":26,"tag":31,"props":106,"children":107},{},[108],{"type":42,"value":90},{"type":26,"tag":31,"props":110,"children":111},{},[112],{"type":42,"value":113},"不看，说这样的风凉话你自己研究去。",{"type":26,"tag":52,"props":115,"children":117},{"id":116},"前言",[118],{"type":42,"value":116},{"type":26,"tag":31,"props":120,"children":121},{},[122],{"type":42,"value":123},"之前文章也提到过，我是一个 Steamdeck Gal 玩家，而且是用 Linux 跑 Galgame 的“勇者”。",{"type":26,"tag":31,"props":125,"children":126},{},[127],{"type":42,"value":128},"既然都用 Linux 跑 Gal 了，那么会遇到各种奇奇怪怪问题都算正常了。",{"type":26,"tag":31,"props":130,"children":131},{},[132],{"type":42,"value":133},"在 Linux 游玩《爱上火车 LastRun!!》时，我就遇到了相关组件缺失问题，使用环境为Proton 9.0，会出现人物线开场动画无法正常播放问题。",{"type":26,"tag":31,"props":135,"children":136},{},[137],{"type":26,"tag":138,"props":139,"children":142},"img",{"alt":140,"src":141},"Maitetsu Home","https://blog-files.101045700.xyz/Gal2025Up/Maitetsu/Home.webp",[],{"type":26,"tag":31,"props":144,"children":145},{},[146],{"type":42,"value":147},"一开始我尝试使用Proton GE环境再次运行进行尝试，但单纯使用ProtonGE环境后反而问题更加严重，到剧情线开场动画会直接黑屏卡死。",{"type":26,"tag":31,"props":149,"children":150},{},[151],{"type":26,"tag":138,"props":152,"children":155},{"alt":153,"src":154},"ProtonDB","https://blog-files.101045700.xyz/MaitetsuVideoFix/ProtonDB.webp",[],{"type":26,"tag":31,"props":157,"children":158},{},[159],{"type":42,"value":160},"在四处寻找解决方法时，发现ProtonDB下的一位用户提出了解决方案，使用Protontricks进行补丁修补，经过验证，问题得到了很好的解决。",{"type":26,"tag":52,"props":162,"children":164},{"id":163},"为什么不用-wine",[165],{"type":42,"value":166},"为什么不用 Wine？",{"type":26,"tag":31,"props":168,"children":169},{},[170],{"type":42,"value":171},"这个综合原因是有很多的，但简单来说就是笔者是购买的 Steam 官方中文版，使用 Steam Proton 进行运行游戏，很难切换 Proton 以外的第三方兼容层。",{"type":26,"tag":31,"props":173,"children":174},{},[175],{"type":42,"value":176},"使用第三方版本在 Deck 的 Gamescope 游戏桌面启动和切换也不方便和不美观。",{"type":26,"tag":27,"props":178,"children":180},{"type":179},"question",[181,190],{"type":26,"tag":182,"props":183,"children":184},"template",{"v-slot:title":7},[185],{"type":26,"tag":31,"props":186,"children":187},{},[188],{"type":42,"value":189},"值得注意！",{"type":26,"tag":31,"props":191,"children":192},{},[193,199],{"type":26,"tag":57,"props":194,"children":196},{"tip":195},"似乎很多 Linux Galgame 玩家都使用它（雾）",[197],{"type":42,"value":198},"笔者使用的 Linux 发行版为 Arch Linux",{"type":42,"value":200},"，桌面环境为 GNOME，后文教程也主要围绕其进行，对于其他发行版，大部分情况下也就是安装方式和软件包存在差异。",{"type":26,"tag":52,"props":202,"children":204},{"id":203},"安装-protontricks",[205],{"type":42,"value":206},"安装 Protontricks",{"type":26,"tag":31,"props":208,"children":209},{},[210],{"type":42,"value":211},"对于 Steam 官方中文版，我们需要先安装 Protontricks 来实现对其补丁和环境修复。",{"type":26,"tag":213,"props":214,"children":216},"h3",{"id":215},"arch-linux-命令安装",[217],{"type":42,"value":218},"Arch Linux 命令安装",{"type":26,"tag":31,"props":220,"children":221},{},[222],{"type":42,"value":223},"对于 Arch Linux 且非 Flathub 用户来说，安装 Protontricks 相当简单，而且不需要额外的权限配置。",{"type":26,"tag":225,"props":226,"children":228},"copy",{"code":227},"sudo pacman -S protontricks",[],{"type":26,"tag":213,"props":230,"children":232},{"id":231},"flathub-安装",[233],{"type":42,"value":234},"Flathub 安装",{"type":26,"tag":31,"props":236,"children":237},{},[238],{"type":42,"value":239},"对于其他 Linux 发行版，首先你先去安装 Flatpak，然后我们可以通过 Flathub 来安装 Protontricks。",{"type":26,"tag":241,"props":242,"children":244},"h4",{"id":243},"切换国内-flathub-官方源",[245],{"type":42,"value":246},"切换国内 Flathub 官方源",{"type":26,"tag":31,"props":248,"children":249},{},[250],{"type":42,"value":251},"我们可以通过以下指令为 Flatpak 切换中国大陆地区的下载源提高下载速度。",{"type":26,"tag":253,"props":254,"children":256},"h5",{"id":255},"上海交通大学",[257],{"type":42,"value":255},{"type":26,"tag":225,"props":259,"children":261},{"code":260},"sudo flatpak remote-modify flathub --url=https://mirror.sjtu.edu.cn/flathub",[],{"type":26,"tag":253,"props":263,"children":265},{"id":264},"中国科学技术大学",[266],{"type":42,"value":264},{"type":26,"tag":225,"props":268,"children":270},{"code":269},"sudo flatpak remote-modify flathub --url=https://mirrors.ustc.edu.cn/flathub",[],{"type":26,"tag":241,"props":272,"children":274},{"id":273},"获取-protontricks-和-flatseal",[275],{"type":42,"value":276},"获取 Protontricks 和 Flatseal",{"type":26,"tag":253,"props":278,"children":280},{"id":279},"软件中心安装",[281],{"type":42,"value":279},{"type":26,"tag":31,"props":283,"children":284},{},[285],{"type":42,"value":286},"前往 GNOME 软件中心搜索并获取 Protontricks 和 Flatseal",{"type":26,"tag":31,"props":288,"children":289},{},[290],{"type":26,"tag":138,"props":291,"children":293},{"alt":7,"src":292},"https://blog-files.101045700.xyz/MaitetsuVideoFix/Fl_Protontricks.webp",[],{"type":26,"tag":253,"props":295,"children":297},{"id":296},"命令安装",[298],{"type":42,"value":296},{"type":26,"tag":31,"props":300,"children":301},{},[302],{"type":42,"value":303},"我们也可以通过以下命令从 Flatpak 安装程序：",{"type":26,"tag":225,"props":305,"children":307},{"code":306},"flatpak install flathub com.github.Matoking.protontricks",[],{"type":26,"tag":225,"props":309,"children":311},{"code":310},"flatpak install flathub com.github.tchx84.Flatseal",[],{"type":26,"tag":31,"props":313,"children":314},{},[315],{"type":26,"tag":138,"props":316,"children":318},{"alt":7,"src":317},"https://blog-files.101045700.xyz/MaitetsuVideoFix/Sh_Protontricks.webp",[],{"type":26,"tag":52,"props":320,"children":322},{"id":321},"权限配置",[323],{"type":42,"value":321},{"type":26,"tag":31,"props":325,"children":326},{},[327],{"type":42,"value":328},"我们需要通过 Flatseal 为 Protontricks 配置相关权限保证它能读写文件和正常运行，首先打开 Flatseal 并找到 Protontricks。",{"type":26,"tag":31,"props":330,"children":331},{},[332],{"type":26,"tag":138,"props":333,"children":335},{"alt":7,"src":334},"https://blog-files.101045700.xyz/MaitetsuVideoFix/Flatseal01.webp",[],{"type":26,"tag":31,"props":337,"children":338},{},[339],{"type":42,"value":340},"向下翻找到文件系统相关配置，把这四个全部打开（勾选），为程序分配全部文件系统访问权限，然后关闭 Flatseal，此处配置操作结束。",{"type":26,"tag":31,"props":342,"children":343},{},[344],{"type":26,"tag":138,"props":345,"children":347},{"alt":7,"src":346},"https://blog-files.101045700.xyz/MaitetsuVideoFix/Flatseal02.webp",[],{"type":26,"tag":52,"props":349,"children":351},{"id":350},"修补组件",[352],{"type":42,"value":350},{"type":26,"tag":31,"props":354,"children":355},{},[356],{"type":42,"value":357},"接下来打开 Protontricks，会出现一个提示框让我们选择需要打补丁的游戏，我们以爱上火车做例子，在此处选择对应的游戏并且选择 OK",{"type":26,"tag":31,"props":359,"children":360},{},[361],{"type":42,"value":362},"如果报错请先确定你是否已经通过 Proton 启动过一次游戏，不然此处可能会报错找不到游戏相关 Proton 文件。",{"type":26,"tag":31,"props":364,"children":365},{},[366],{"type":26,"tag":138,"props":367,"children":369},{"alt":7,"src":368},"https://blog-files.101045700.xyz/MaitetsuVideoFix/Protontricks-01.webp",[],{"type":26,"tag":31,"props":371,"children":372},{},[373],{"type":42,"value":374},"在一番确定（可能有选择默认 Proton 容器）操作后，我们可以来到如下页面。",{"type":26,"tag":31,"props":376,"children":377},{},[378],{"type":26,"tag":138,"props":379,"children":381},{"alt":7,"src":380},"https://blog-files.101045700.xyz/MaitetsuVideoFix/Protontricks-02.webp",[],{"type":26,"tag":31,"props":383,"children":384},{},[385],{"type":42,"value":386},"在此处我们选择“安装Windows DLL 或组件”来为游戏安装缺失的相关组件，以爱上火车为例，需要安装 DirectShow 和 WMP9 组件来修补视频播放。",{"type":26,"tag":27,"props":388,"children":389},{},[390],{"type":26,"tag":31,"props":391,"children":392},{},[393],{"type":42,"value":394},"如果下载组件失败，你可能需要配置海外网络环境。",{"type":26,"tag":31,"props":396,"children":397},{},[398],{"type":42,"value":399},"选定完需要修补的组件后，单击“确定“开始修补安装，期间可能会弹窗和出现安装页面，全部遵循其标准顺序确定或安装。",{"type":26,"tag":31,"props":401,"children":402},{},[403],{"type":26,"tag":138,"props":404,"children":406},{"alt":7,"src":405},"https://blog-files.101045700.xyz/MaitetsuVideoFix/Protontricks-03.webp",[],{"type":26,"tag":52,"props":408,"children":410},{"id":409},"测试",[411],{"type":42,"value":409},{"type":26,"tag":31,"props":413,"children":414},{},[415],{"type":42,"value":416},"我们关闭Protontricks然后启动游戏测试效果，测试发现游戏内开场动画已经可以正常得到播放，很显然我们修补成功了！",{"type":26,"tag":31,"props":418,"children":419},{},[420],{"type":26,"tag":138,"props":421,"children":423},{"alt":7,"src":422},"https://blog-files.101045700.xyz/MaitetsuVideoFix/MaitetsuGames.webp",[],{"title":7,"searchDepth":425,"depth":425,"links":426},4,[427,429,430,431,446,447,448],{"id":54,"depth":428,"text":54},2,{"id":116,"depth":428,"text":116},{"id":163,"depth":428,"text":166},{"id":203,"depth":428,"text":206,"children":432},[433,435],{"id":215,"depth":434,"text":218},3,{"id":231,"depth":434,"text":234,"children":436},[437,442],{"id":243,"depth":425,"text":246,"children":438},[439,441],{"id":255,"depth":440,"text":255},5,{"id":264,"depth":440,"text":264},{"id":273,"depth":425,"text":276,"children":443},[444,445],{"id":279,"depth":440,"text":279},{"id":296,"depth":440,"text":296},{"id":321,"depth":428,"text":321},{"id":350,"depth":428,"text":350},{"id":409,"depth":428,"text":409},"markdown","content:posts:2025:05:maitetsu-video-fix.md","content","posts/2025/05/maitetsu-video-fix.md","posts/2025/05/maitetsu-video-fix","md","/posts",[457,461],{"_path":458,"title":459,"date":460},"/2025/05/gal-up","旮沓给木太好玩辣——2025年上半Gal历程个人总结","2025-05-18T16:30:00.000Z",{"_path":462,"title":463,"date":464},"/2025/05/fediverse","浅谈个人与 Fediverse 的过往历史和现状","2025-05-20T00:30:00.000Z",1749215150715]