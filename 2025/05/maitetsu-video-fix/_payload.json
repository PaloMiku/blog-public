[{"data":1,"prerenderedAt":464},["ShallowReactive",2],{"/2025/05/maitetsu-video-fix":3,"surround-/2025/05/maitetsu-video-fix":455},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":9,"date":10,"categories":11,"tags":13,"image":15,"readingTime":16,"body":21,"_type":448,"_id":449,"_source":450,"_file":451,"_stem":452,"_extension":453,"_original_dir":454},"/2025/05/maitetsu-video-fix","05",false,"","《爱上火车》在 Linux 下的视频播放修复","本文介绍了《爱上火车》系列在 Linux Proton 环境下播放游戏内视频的修复","2025-05-19T10:30:00.000Z",[12],"旮瘩给木",[14],"Galgame","https://blog-files.101045700.xyz/MaitetsuVideoFix/Home.webp",{"text":17,"minutes":18,"time":19,"words":20},"6 min read",5.845,350700,1169,{"type":22,"children":23,"toc":423},"root",[24,50,61,113,118,123,128,133,142,147,155,160,166,171,176,200,206,211,218,223,228,234,239,246,251,257,261,266,270,276,281,286,293,298,303,307,311,318,323,328,335,340,347,352,357,362,369,374,381,386,394,399,406,411,416],{"type":25,"tag":26,"props":27,"children":28},"element","alert",{},[29,45],{"type":25,"tag":30,"props":31,"children":32},"p",{},[33,43],{"type":25,"tag":34,"props":35,"children":39},"a",{"href":36,"rel":37},"https://www.xiaoheihe.cn/app/bbs/link/153105496",[38],"nofollow",[40],{"type":41,"value":42},"text","本文类似版本",{"type":41,"value":44},"个人首发于小黑盒，你在此看到的版本为基于小黑盒版本的专业向二次修订版。",{"type":25,"tag":30,"props":46,"children":47},{},[48],{"type":41,"value":49},"本次修订版本发布于个人博客，目前仅在小黑盒和个人博客发布过本文。",{"type":25,"tag":51,"props":52,"children":54},"h2",{"id":53},"小剧场",[55],{"type":25,"tag":56,"props":57,"children":59},"tip",{"tip":58},"基于今天和朋友的聊天以及之前看到的一些聊天梗做的夸张虚构，图一乐就行了。",[60],{"type":41,"value":53},{"type":25,"tag":62,"props":63,"children":64},"chat",{},[65,70,75,80,85,90,95,99,104,108],{"type":25,"tag":30,"props":66,"children":67},{},[68],{"type":41,"value":69},"{:2025-05-19 16:30:00}",{"type":25,"tag":30,"props":71,"children":72},{},[73],{"type":41,"value":74},"{朋友}",{"type":25,"tag":30,"props":76,"children":77},{},[78],{"type":41,"value":79},"鬆啊，马上要 520 了，不去陪女朋友在这写博客啊，你是打算运用你在《爱上火车》《苍之彼方的四重奏》《魔女的夜宴》《恋爱与选举与巧克力》《拔作岛》《夏日口袋》中学到的技巧来哄你的女朋友嘛。",{"type":25,"tag":30,"props":81,"children":82},{},[83],{"type":41,"value":84},"{:鬆撤回了一条消息}",{"type":25,"tag":30,"props":86,"children":87},{},[88],{"type":41,"value":89},"{.鬆}",{"type":25,"tag":30,"props":91,"children":92},{},[93],{"type":41,"value":94},"我真不会哄女朋友😭，今天发完文章明天还得思考怎么哄女朋友。",{"type":25,"tag":30,"props":96,"children":97},{},[98],{"type":41,"value":74},{"type":25,"tag":30,"props":100,"children":101},{},[102],{"type":41,"value":103},"太惨了，现充不会哄女朋友，今天帮我看看电脑问题呗。",{"type":25,"tag":30,"props":105,"children":106},{},[107],{"type":41,"value":89},{"type":25,"tag":30,"props":109,"children":110},{},[111],{"type":41,"value":112},"不看，说这样的风凉话你自己研究去。",{"type":25,"tag":51,"props":114,"children":116},{"id":115},"前言",[117],{"type":41,"value":115},{"type":25,"tag":30,"props":119,"children":120},{},[121],{"type":41,"value":122},"之前文章也提到过，我是一个 Steamdeck Gal 玩家，而且是用 Linux 跑 Galgame 的“勇者”。",{"type":25,"tag":30,"props":124,"children":125},{},[126],{"type":41,"value":127},"既然都用 Linux 跑 Gal 了，那么会遇到各种奇奇怪怪问题都算正常了。",{"type":25,"tag":30,"props":129,"children":130},{},[131],{"type":41,"value":132},"在 Linux 游玩《爱上火车 LastRun!!》时，我就遇到了相关组件缺失问题，使用环境为Proton 9.0，会出现人物线开场动画无法正常播放问题。",{"type":25,"tag":30,"props":134,"children":135},{},[136],{"type":25,"tag":137,"props":138,"children":141},"img",{"alt":139,"src":140},"Maitetsu Home","https://blog-files.101045700.xyz/Gal2025Up/Maitetsu/Home.webp",[],{"type":25,"tag":30,"props":143,"children":144},{},[145],{"type":41,"value":146},"一开始我尝试使用Proton GE环境再次运行进行尝试，但单纯使用ProtonGE环境后反而问题更加严重，到剧情线开场动画会直接黑屏卡死。",{"type":25,"tag":30,"props":148,"children":149},{},[150],{"type":25,"tag":137,"props":151,"children":154},{"alt":152,"src":153},"ProtonDB","https://blog-files.101045700.xyz/MaitetsuVideoFix/ProtonDB.webp",[],{"type":25,"tag":30,"props":156,"children":157},{},[158],{"type":41,"value":159},"在四处寻找解决方法时，发现ProtonDB下的一位用户提出了解决方案，使用Protontricks进行补丁修补，经过验证，问题得到了很好的解决。",{"type":25,"tag":51,"props":161,"children":163},{"id":162},"为什么不用-wine",[164],{"type":41,"value":165},"为什么不用 Wine？",{"type":25,"tag":30,"props":167,"children":168},{},[169],{"type":41,"value":170},"这个综合原因是有很多的，但简单来说就是笔者是购买的 Steam 官方中文版，使用 Steam Proton 进行运行游戏，很难切换 Proton 以外的第三方兼容层。",{"type":25,"tag":30,"props":172,"children":173},{},[174],{"type":41,"value":175},"使用第三方版本在 Deck 的 Gamescope 游戏桌面启动和切换也不方便和不美观。",{"type":25,"tag":26,"props":177,"children":179},{"type":178},"question",[180,189],{"type":25,"tag":181,"props":182,"children":183},"template",{"v-slot:title":7},[184],{"type":25,"tag":30,"props":185,"children":186},{},[187],{"type":41,"value":188},"值得注意！",{"type":25,"tag":30,"props":190,"children":191},{},[192,198],{"type":25,"tag":56,"props":193,"children":195},{"tip":194},"似乎很多 Linux Galgame 玩家都使用它（雾）",[196],{"type":41,"value":197},"笔者使用的 Linux 发行版为 Arch Linux",{"type":41,"value":199},"，桌面环境为 GNOME，后文教程也主要围绕其进行，对于其他发行版，大部分情况下也就是安装方式和软件包存在差异。",{"type":25,"tag":51,"props":201,"children":203},{"id":202},"安装-protontricks",[204],{"type":41,"value":205},"安装 Protontricks",{"type":25,"tag":30,"props":207,"children":208},{},[209],{"type":41,"value":210},"对于 Steam 官方中文版，我们需要先安装 Protontricks 来实现对其补丁和环境修复。",{"type":25,"tag":212,"props":213,"children":215},"h3",{"id":214},"arch-linux-命令安装",[216],{"type":41,"value":217},"Arch Linux 命令安装",{"type":25,"tag":30,"props":219,"children":220},{},[221],{"type":41,"value":222},"对于 Arch Linux 且非 Flathub 用户来说，安装 Protontricks 相当简单，而且不需要额外的权限配置。",{"type":25,"tag":224,"props":225,"children":227},"copy",{"code":226},"sudo pacman -S protontricks",[],{"type":25,"tag":212,"props":229,"children":231},{"id":230},"flathub-安装",[232],{"type":41,"value":233},"Flathub 安装",{"type":25,"tag":30,"props":235,"children":236},{},[237],{"type":41,"value":238},"对于其他 Linux 发行版，首先你先去安装 Flatpak，然后我们可以通过 Flathub 来安装 Protontricks。",{"type":25,"tag":240,"props":241,"children":243},"h4",{"id":242},"切换国内-flathub-官方源",[244],{"type":41,"value":245},"切换国内 Flathub 官方源",{"type":25,"tag":30,"props":247,"children":248},{},[249],{"type":41,"value":250},"我们可以通过以下指令为 Flatpak 切换中国大陆地区的下载源提高下载速度。",{"type":25,"tag":252,"props":253,"children":255},"h5",{"id":254},"上海交通大学",[256],{"type":41,"value":254},{"type":25,"tag":224,"props":258,"children":260},{"code":259},"sudo flatpak remote-modify flathub --url=https://mirror.sjtu.edu.cn/flathub",[],{"type":25,"tag":252,"props":262,"children":264},{"id":263},"中国科学技术大学",[265],{"type":41,"value":263},{"type":25,"tag":224,"props":267,"children":269},{"code":268},"sudo flatpak remote-modify flathub --url=https://mirrors.ustc.edu.cn/flathub",[],{"type":25,"tag":240,"props":271,"children":273},{"id":272},"获取-protontricks-和-flatseal",[274],{"type":41,"value":275},"获取 Protontricks 和 Flatseal",{"type":25,"tag":252,"props":277,"children":279},{"id":278},"软件中心安装",[280],{"type":41,"value":278},{"type":25,"tag":30,"props":282,"children":283},{},[284],{"type":41,"value":285},"前往 GNOME 软件中心搜索并获取 Protontricks 和 Flatseal",{"type":25,"tag":30,"props":287,"children":288},{},[289],{"type":25,"tag":137,"props":290,"children":292},{"alt":7,"src":291},"https://blog-files.101045700.xyz/MaitetsuVideoFix/Fl_Protontricks.webp",[],{"type":25,"tag":252,"props":294,"children":296},{"id":295},"命令安装",[297],{"type":41,"value":295},{"type":25,"tag":30,"props":299,"children":300},{},[301],{"type":41,"value":302},"我们也可以通过以下命令从 Flatpak 安装程序：",{"type":25,"tag":224,"props":304,"children":306},{"code":305},"flatpak install flathub com.github.Matoking.protontricks",[],{"type":25,"tag":224,"props":308,"children":310},{"code":309},"flatpak install flathub com.github.tchx84.Flatseal",[],{"type":25,"tag":30,"props":312,"children":313},{},[314],{"type":25,"tag":137,"props":315,"children":317},{"alt":7,"src":316},"https://blog-files.101045700.xyz/MaitetsuVideoFix/Sh_Protontricks.webp",[],{"type":25,"tag":51,"props":319,"children":321},{"id":320},"权限配置",[322],{"type":41,"value":320},{"type":25,"tag":30,"props":324,"children":325},{},[326],{"type":41,"value":327},"我们需要通过 Flatseal 为 Protontricks 配置相关权限保证它能读写文件和正常运行，首先打开 Flatseal 并找到 Protontricks。",{"type":25,"tag":30,"props":329,"children":330},{},[331],{"type":25,"tag":137,"props":332,"children":334},{"alt":7,"src":333},"https://blog-files.101045700.xyz/MaitetsuVideoFix/Flatseal01.webp",[],{"type":25,"tag":30,"props":336,"children":337},{},[338],{"type":41,"value":339},"向下翻找到文件系统相关配置，把这四个全部打开（勾选），为程序分配全部文件系统访问权限，然后关闭 Flatseal，此处配置操作结束。",{"type":25,"tag":30,"props":341,"children":342},{},[343],{"type":25,"tag":137,"props":344,"children":346},{"alt":7,"src":345},"https://blog-files.101045700.xyz/MaitetsuVideoFix/Flatseal02.webp",[],{"type":25,"tag":51,"props":348,"children":350},{"id":349},"修补组件",[351],{"type":41,"value":349},{"type":25,"tag":30,"props":353,"children":354},{},[355],{"type":41,"value":356},"接下来打开 Protontricks，会出现一个提示框让我们选择需要打补丁的游戏，我们以爱上火车做例子，在此处选择对应的游戏并且选择 OK",{"type":25,"tag":30,"props":358,"children":359},{},[360],{"type":41,"value":361},"如果报错请先确定你是否已经通过 Proton 启动过一次游戏，不然此处可能会报错找不到游戏相关 Proton 文件。",{"type":25,"tag":30,"props":363,"children":364},{},[365],{"type":25,"tag":137,"props":366,"children":368},{"alt":7,"src":367},"https://blog-files.101045700.xyz/MaitetsuVideoFix/Protontricks-01.webp",[],{"type":25,"tag":30,"props":370,"children":371},{},[372],{"type":41,"value":373},"在一番确定（可能有选择默认 Proton 容器）操作后，我们可以来到如下页面。",{"type":25,"tag":30,"props":375,"children":376},{},[377],{"type":25,"tag":137,"props":378,"children":380},{"alt":7,"src":379},"https://blog-files.101045700.xyz/MaitetsuVideoFix/Protontricks-02.webp",[],{"type":25,"tag":30,"props":382,"children":383},{},[384],{"type":41,"value":385},"在此处我们选择“安装Windows DLL 或组件”来为游戏安装缺失的相关组件，以爱上火车为例，需要安装 DirectShow 和 WMP9 组件来修补视频播放。",{"type":25,"tag":26,"props":387,"children":388},{},[389],{"type":25,"tag":30,"props":390,"children":391},{},[392],{"type":41,"value":393},"如果下载组件失败，你可能需要配置海外网络环境。",{"type":25,"tag":30,"props":395,"children":396},{},[397],{"type":41,"value":398},"选定完需要修补的组件后，单击“确定“开始修补安装，期间可能会弹窗和出现安装页面，全部遵循其标准顺序确定或安装。",{"type":25,"tag":30,"props":400,"children":401},{},[402],{"type":25,"tag":137,"props":403,"children":405},{"alt":7,"src":404},"https://blog-files.101045700.xyz/MaitetsuVideoFix/Protontricks-03.webp",[],{"type":25,"tag":51,"props":407,"children":409},{"id":408},"测试",[410],{"type":41,"value":408},{"type":25,"tag":30,"props":412,"children":413},{},[414],{"type":41,"value":415},"我们关闭Protontricks然后启动游戏测试效果，测试发现游戏内开场动画已经可以正常得到播放，很显然我们修补成功了！",{"type":25,"tag":30,"props":417,"children":418},{},[419],{"type":25,"tag":137,"props":420,"children":422},{"alt":7,"src":421},"https://blog-files.101045700.xyz/MaitetsuVideoFix/MaitetsuGames.webp",[],{"title":7,"searchDepth":424,"depth":424,"links":425},4,[426,428,429,430,445,446,447],{"id":53,"depth":427,"text":53},2,{"id":115,"depth":427,"text":115},{"id":162,"depth":427,"text":165},{"id":202,"depth":427,"text":205,"children":431},[432,434],{"id":214,"depth":433,"text":217},3,{"id":230,"depth":433,"text":233,"children":435},[436,441],{"id":242,"depth":424,"text":245,"children":437},[438,440],{"id":254,"depth":439,"text":254},5,{"id":263,"depth":439,"text":263},{"id":272,"depth":424,"text":275,"children":442},[443,444],{"id":278,"depth":439,"text":278},{"id":295,"depth":439,"text":295},{"id":320,"depth":427,"text":320},{"id":349,"depth":427,"text":349},{"id":408,"depth":427,"text":408},"markdown","content:posts:2025:05:maitetsu-video-fix.md","content","posts/2025/05/maitetsu-video-fix.md","posts/2025/05/maitetsu-video-fix","md","/posts",[456,460],{"_path":457,"title":458,"date":459},"/2025/05/gal-up","旮沓给木太好玩辣——2025年上半Gal历程个人总结","2025-05-18T16:30:00.000Z",{"_path":461,"title":462,"date":463},"/2025/05/fediverse","浅谈个人与 Fediverse 的过往历史和现状","2025-05-20T00:30:00.000Z",1748049290793]