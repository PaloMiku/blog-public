{"generatedAt":1747708512715,"generateTime":1190,"contents":[{"_path":"/about","_dir":"","_draft":false,"_partial":false,"_locale":"","title":"关于","description":"","hide-info":true,"readingTime":{"text":"6 min read","minutes":5.73,"time":343800,"words":1146},"body":{"type":"root","children":[{"type":"element","tag":"h2","props":{"id":"我"},"children":[{"type":"text","value":"我？"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"这是Mikuの鬆，也是一只鬆，也可能是蓝鱼儿，这些都是我曾经的网名，你可以选择任何一种方式称呼我，你开心就好。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"16人格：INFP-A 调停者"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"现实中，我认为我自己因为优柔寡断错过了许多选择，目前是山东某专科大数据技术专业应届新生。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"身体比较一般（例如 185 的个子却只有 60 公斤😓 ，然而我一顿饭吃的却是三个人的量，狂吃不胖 ing），所以对除了跑步与打羽毛球以外的运动不大喜欢。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"有点懒（不是起床气），希望事情尽量能做到一劳永逸（然而总是事和愿违）"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"认真投入（限定于感兴趣的事），深度投入到个人喜欢的事情，对于感兴趣的事情愿意不吃不喝为之连续投入😋 。当然，一般不是玩的事情（确信）。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"演讲恐惧症：我不要演讲啊啊啊啊！"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"喜欢山楂制品，包括山楂，不管生的熟的或者酸的甜的，全部通吃。"}]},{"type":"element","tag":"h2","props":{"id":"恋爱观"},"children":[{"type":"text","value":"恋爱观？"}]},{"type":"element","tag":"alert","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"目前”Mikuの鬆“正与“她”处于恋爱中。"}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"身心相许，以恋结缘；生生世世，不离不弃。"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在看到了友链晓空所述的恋爱观以后，我也打算写出我对此的想法，也引用了他的部分内容。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"我是一个纯爱党，在生理上就排斥各种奇奇怪怪的恋爱观，在恋爱上偏传统，愿意真心对她好。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"恋爱、结婚、还有传宗接代，这是大自然赋予给一切生灵的使命和责任，同样也是每个人都会经历的义务和旅程。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"有些事情，它们也应该是高尚而纯洁的，也并非那么的不堪，但同样也不该以此取乐。"}]},{"type":"element","tag":"h2","props":{"id":"tags"},"children":[{"type":"text","value":"Tags"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"大学牲 / 伪二次元 / 动漫党 / 瞎折腾 / 搞事情 / 日常生产bug"}]},{"type":"element","tag":"h2","props":{"id":"找我"},"children":[{"type":"text","value":"找我？"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"个人在社交工具上偏QQ，微信多为熟人（现实中认识的人），我的QQ是：2319665062。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"邮箱上域名邮箱（"},{"type":"element","tag":"a","props":{"href":"mailto:admin@sotkg.com"},"children":[{"type":"text","value":"admin@sotkg.com"}]},{"type":"text","value":"）被看到的优先级比较高，Outlook邮箱（"},{"type":"element","tag":"a","props":{"href":"mailto:palomiku@outlook.com"},"children":[{"type":"text","value":"palomiku@outlook.com"}]},{"type":"text","value":"）则次之。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"虽然我很想列一下联邦宇宙方式，但是暂时先不列了吧。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"想和我一起玩崩坏星穹铁道嘛，通过UID：101045700（官服）添加我为好友吧。"}]},{"type":"element","tag":"h2","props":{"id":"投食"},"children":[{"type":"text","value":"投食！"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"这个博主目前还是个可怜巴巴的学生党，如果你愿意的话可以投喂他！"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"大部分应该都会用到站点维护工作上，也有可能优先解决个人存活问题（比如吃饭），适当投喂鸽子可以减少鸽子咕咕咕的概率，投喂博主也会减少博主咕咕咕的概率（Bushi）"}]},{"type":"element","tag":"tab","props":{":tabs":"[\"微信\", \"支付宝\"]"},"children":[{"type":"element","tag":"template","props":{"v-slot:tab1":""},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"","src":"https://pic.imgdb.cn/item/672059a6d29ded1a8cd554b5.png"},"children":[]}]}]},{"type":"element","tag":"template","props":{"v-slot:tab2":""},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"等待更新"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"如果你选择投食，你可以留下你的话，我都会展示在这里，不管数额有多少。（我可能也会列出我的回复）"}]},{"type":"element","tag":"h2","props":{"id":"版权"},"children":[{"type":"text","value":"版权？"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"所有文章如无特别声明均可视为采用 "},{"type":"element","tag":"a","props":{"href":"https://creativecommons.org/licenses/by-sa/4.0/","rel":["nofollow"]},"children":[{"type":"text","value":"知识共享署名-相同方式共享 4.0 国际许可协议"}]},{"type":"text","value":" 进行许可，这意味着你无需询问我是否可以转载。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"但是作为附加条件，你必须要在转载前在我这里留言告诉我你转载到了何处，并且附上转载的地址链接，同时禁止转载到非法以及黄色网站。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"于此同时，你也必须在我要求你删除转载的文章时删除你转载的文章，并且在取得我的同意前不得再次转载至此网站。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"所有尚未标注采用 "},{"type":"element","tag":"a","props":{"href":"https://creativecommons.org/licenses/by-sa/4.0/","rel":["nofollow"]},"children":[{"type":"text","value":"知识共享署名-相同方式共享 4.0 国际许可协议"}]},{"type":"text","value":" 进行许可字样的内容被默认视为禁止一切行为的转载，但是允许在取得我的同意之后进行引用（需要说明引用至何处作何作用）。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"如果有特殊声明的页面或文章，请按照此文章的特殊声明来判断是否允许转载，如果无法确定你也可以来询问我是否可以转载。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"关于代码方面，请按照相应的仓库许可证来判断是否可以转载和引用。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"如果没有添加许可证或者有疑问的，请留言询问我是否可以转载和引用。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"但不论是何种行为的引用或者转载，在尚未取得我的同意之前都禁止用于一切的商业行为上的用途。"}]}],"toc":{"title":"","searchDepth":4,"depth":4,"links":[{"id":"我","depth":2,"text":"我？"},{"id":"恋爱观","depth":2,"text":"恋爱观？"},{"id":"tags","depth":2,"text":"Tags"},{"id":"找我","depth":2,"text":"找我？"},{"id":"投食","depth":2,"text":"投食！"},{"id":"版权","depth":2,"text":"版权？"}]}},"_type":"markdown","_id":"content:about.md","_source":"content","_file":"about.md","_stem":"about","_extension":"md","categories":["未分类"]},{"_path":"/drive","_dir":"","_draft":false,"_partial":false,"_locale":"","title":"云盘","description":"","hide-info":true,"readingTime":{"text":"3 min read","minutes":2.155,"time":129300,"words":431},"body":{"type":"root","children":[{"type":"element","tag":"h2","props":{"id":"访问方式"},"children":[{"type":"text","value":"访问方式"}]},{"type":"element","tag":"link-card","props":{"description":"由 Circlari Operations Team 运营","icon":"https://minio-api.tkg3.top/sharkey-assets/sitelogo_178x178.png","link":"https://file.tkg3.top","title":"Circlari Files"},"children":[]},{"type":"element","tag":"h2","props":{"id":"高木文件资源盘"},"children":[{"type":"text","value":"高木文件资源盘"}]},{"type":"element","tag":"alert","props":{"type":"question"},"children":[{"type":"element","tag":"template","props":{"v-slot:title":""},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"注意"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"《擅长捉弄的高木同学》系列文件全球CDN存储由木创社成员 "},{"type":"element","tag":"badge","props":{"img":"https://blog.yoruzzz.cn/_next/image?url=https%3A%2F%2Fbu.dusays.com%2F2024%2F06%2F05%2F66605f9c7e600.jpg&w=640&q=75","link":"https://blog.yoruzzz.cn"},"children":[{"type":"text","value":"南栀"}]},{"type":"text","value":"和 "},{"type":"element","tag":"badge","props":{"img":"https://pic.imgdb.cn/item/66be3143d9c307b7e9dbc86e.jpg","link":"https://aurorainic.top"},"children":[{"type":"text","value":"辰灿汐"}]},{"type":"text","value":"提供，国内文件存储由 "},{"type":"element","tag":"badge","props":{"img":"https://cravatar.cn/avatar/1012bf78fb01d5b964c3a9a0f515911a?s=160","link":"/"},"children":[{"type":"text","value":"Mikuの鬆"}]},{"type":"text","value":"提供。"}]}]},{"type":"element","tag":"tab","props":{":tabs":"[\"本站信息\", \"鸣谢名单\", \"访问密码\"]"},"children":[{"type":"element","tag":"template","props":{"v-slot:tab1":""},"children":[{"type":"element","tag":"alert","props":{"type":"warning"},"children":[{"type":"element","tag":"template","props":{"v-slot:title":""},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"注意"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"本站所有文件均由互联网采集或其他社群成员贡献提供，仅做个人学习、有限观赏使用。如有条件请通过正规渠道购买资源实体。"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"如有意见建议、版权诉求等请通过评论区或邮件联系："},{"type":"element","tag":"a","props":{"href":"mailto:tech-club@takagi3.cn"},"children":[{"type":"text","value":"tech-club@takagi3.cn"}]}]}]}]},{"type":"element","tag":"folding","props":{},"children":[{"type":"element","tag":"template","props":{"v-slot:title":""},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"站点运营主体和相关信息"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"运营主体： "},{"type":"element","tag":"badge","props":{"img":"https://cravatar.cn/avatar/1012bf78fb01d5b964c3a9a0f515911a?s=160","link":"/"},"children":[{"type":"text","value":"Mikuの鬆"}]},{"type":"text","value":"， "},{"type":"element","tag":"badge","props":{"img":"https://minio-api.tkg3.top/sharkey-assets/sitelogo_178x178.png","link":"https://circle.tkg3.top/"},"children":[{"type":"text","value":"Circlari Team"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"服务器信息：后端位于中国香港，前端通过Vercel全球加速和提供安全性保护"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"站点为公益性质，不作为商业用途使用，也不会以任何商业名义售卖其资源文件。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"本站招募资源志愿者，有意向者请通过反馈邮件，评论区，QQ群方式联系。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"对于其他高木资源网盘、站点等，通过直接拉取我站资源文件等方式来完善自身内容储备的行为，我方并不反对。但必须"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"在显著位置标注本站信息"}]},{"type":"text","value":"。"}]}]}]},{"type":"element","tag":"template","props":{"v-slot:tab2":""},"children":[{"type":"element","tag":"h2","props":{"id":"主维护者"},"children":[{"type":"text","value":"主维护者"}]},{"type":"element","tag":"badge","props":{"img":"https://blog.yoruzzz.cn/_next/image?url=https%3A%2F%2Fbu.dusays.com%2F2024%2F06%2F05%2F66605f9c7e600.jpg&w=640&q=75","link":"https://blog.yoruzzz.cn"},"children":[{"type":"text","value":"南栀"}]},{"type":"element","tag":"badge","props":{"img":"https://pic.imgdb.cn/item/66be3143d9c307b7e9dbc86e.jpg","link":"https://aurorainic.top"},"children":[{"type":"text","value":"辰灿汐"}]},{"type":"element","tag":"badge","props":{"img":"https://cravatar.cn/avatar/1012bf78fb01d5b964c3a9a0f515911a?s=160","link":"/"},"children":[{"type":"text","value":"Mikuの鬆"}]},{"type":"element","tag":"h2","props":{"id":"特别鸣谢"},"children":[{"type":"text","value":"特别鸣谢"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://space.bilibili.com/517104324","rel":["nofollow"]},"children":[{"type":"text","value":"TAKAGI3"}]},{"type":"text","value":"  ，"},{"type":"element","tag":"a","props":{"href":"https://space.bilibili.com/23691686","rel":["nofollow"]},"children":[{"type":"text","value":"CN-SWAT20"}]},{"type":"text","value":"  ，narcissu017  ，"},{"type":"element","tag":"a","props":{"href":"https://space.bilibili.com/17763935","rel":["nofollow"]},"children":[{"type":"text","value":"告白の假面"}]},{"type":"text","value":"  ，"},{"type":"element","tag":"a","props":{"href":"https://space.bilibili.com/436044923","rel":["nofollow"]},"children":[{"type":"text","value":"横竖都为难"}]},{"type":"text","value":"  ，"},{"type":"element","tag":"a","props":{"href":"https://space.bilibili.com/271246992","rel":["nofollow"]},"children":[{"type":"text","value":"米饭君爱吃糖"}]},{"type":"text","value":"  ，"},{"type":"element","tag":"a","props":{"href":"https://space.bilibili.com/354522608","rel":["nofollow"]},"children":[{"type":"text","value":"擅长赖床的夏墨同学"}]},{"type":"text","value":"  ，"},{"type":"element","tag":"a","props":{"href":"https://space.bilibili.com/2709173","rel":["nofollow"]},"children":[{"type":"text","value":"擅长捉弄の高木同学"}]},{"type":"text","value":"  ，"},{"type":"element","tag":"a","props":{"href":"https://space.bilibili.com/687160102","rel":["nofollow"]},"children":[{"type":"text","value":"沙水君sandwater"}]},{"type":"text","value":"  ，"},{"type":"element","tag":"a","props":{"href":"https://space.bilibili.com/1229191353","rel":["nofollow"]},"children":[{"type":"text","value":"小瑀"}]},{"type":"text","value":"  ，右岸逆光  ，"},{"type":"element","tag":"a","props":{"href":"https://space.bilibili.com/1121247935","rel":["nofollow"]},"children":[{"type":"text","value":"坐等"}]}]}]},{"type":"element","tag":"template","props":{"v-slot:tab3":""},"children":[{"type":"element","tag":"alert","props":{"type":"warning"},"children":[{"type":"element","tag":"template","props":{"v-slot:title":""},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"注意"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"您在此获取访问密码即代表您已阅读并同意“本站信息”内容，严禁倒卖本站资源，本站不支持，不参与一切商业售卖资源文件活动。"}]}]}]},{"type":"element","tag":"copy","props":{"code":"tkg3-7bae-9352-9d93","prompt":"访问密码"},"children":[]}]}]}],"toc":{"title":"","searchDepth":4,"depth":4,"links":[{"id":"访问方式","depth":2,"text":"访问方式"},{"id":"高木文件资源盘","depth":2,"text":"高木文件资源盘"},{"id":"主维护者","depth":2,"text":"主维护者"},{"id":"特别鸣谢","depth":2,"text":"特别鸣谢"}]}},"_type":"markdown","_id":"content:drive.md","_source":"content","_file":"drive.md","_stem":"drive","_extension":"md","categories":["未分类"]},{"_path":"/link","_dir":"","_draft":false,"_partial":false,"_locale":"","title":"Link","description":"","readingTime":{"text":"1 min read","minutes":0.65,"time":39000,"words":130},"body":{"type":"root","children":[{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"申请要求：原则上与多数独立博客的友链要求一致\n"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"能够"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"长期更新维护"}]},{"type":"text","value":"，并输出"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"有价值的原创内容"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"可以参考 "},{"type":"element","tag":"a","props":{"href":"https://www.travellings.cn/docs/join.html","rel":["nofollow"]},"children":[{"type":"text","value":"加入开往"}]},{"type":"text","value":" 页面的规则"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"申请方式：在评论区留言或发送邮件到 "},{"type":"element","tag":"tip","props":{":copy":"true","text":"palomiku@outlook.com"},"children":[]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"标题注明 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"友链申请: 你的昵称"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"以 "},{"type":"element","tag":"tip","props":{"tip":"指向信息的 URL、自然语言、编程语言"},"children":[{"type":"text","value":"任意形式"}]},{"type":"text","value":" 附上友链信息\n"},{"type":"element","tag":"pre","props":{"className":"language-ts shiki shiki-themes catppuccin-latte one-dark-pro","code":"export default {\n    title: '博客名称',\n    desc: '博客描述',\n    link: '博客地址',\n    avatar: '个人头像',\n} satisfies Friend\n","language":"ts","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#8839EF;--shiki-dark:#C678DD"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#8839EF;--shiki-dark:#C678DD"},"children":[{"type":"text","value":" default"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"    title"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" '博客名称'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"    desc"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" '博客描述'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"    link"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" '博客地址'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"    avatar"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" '个人头像'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"}"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#8839EF;--shiki-dark:#C678DD"},"children":[{"type":"text","value":" satisfies"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#DF8E1D;--shiki-default-font-style:italic;--shiki-dark:#E5C07B;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":" Friend\n"}]}]}]}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"信息可能会被适当修改，以保证展示效果"}]}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}"}]}],"toc":{"title":"","searchDepth":4,"depth":4,"links":[]}},"_type":"markdown","_id":"content:link.md","_source":"content","_file":"link.md","_stem":"link","_extension":"md","categories":["未分类"]},{"_path":"/2024/08/docker-deploy-outline","_dir":"08","_draft":false,"_partial":false,"_locale":"","title":"Docker部署Outline并使用Github作为OAuth服务","description":"手把手教你用Docker Compose搭建企业级知识库系统！从零开始部署Outline核心服务，搭配PostgreSQL和Redis黄金组合，通过Minio打造私有云存储。深度整合GitHub登录体系，揭秘生产级环境变量配置技巧，附带Nginx反向代理实战指南，让协作知识库安全落地。","date":"2024-08-07T11:24:26.000Z","updated":"2024-08-07T15:30:53.000Z","categories":["技术探索"],"tags":["Docker","Outline","部署服务"],"readingTime":{"text":"12 min read","minutes":11.89,"time":713400,"words":2378},"body":{"type":"root","children":[{"type":"element","tag":"h2","props":{"id":"准备"},"children":[{"type":"text","value":"准备"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"一台服务器（建议至少1c2g）并安装Docker和Docker Compose"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"一个域名，建议为顶级域名"}]}]},{"type":"element","tag":"h2","props":{"id":"服务"},"children":[{"type":"text","value":"服务"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Outline（本体）"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"PostgreSQL（数据库）"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Redis（缓存数据库）"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Minio（对象存储服务）"}]}]},{"type":"element","tag":"h2","props":{"id":"部署"},"children":[{"type":"text","value":"部署"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"请先安装Docker和Docker Compose服务，如果你安装1Panel作为服务器面板，那么已经自带了相关服务，部署分为三部分，第一部分部署Minio并设置文件对象存储服务，第二部分获取GitHub OAuth相关设置，第三部分部署Outline相关服务。"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"你也可以使用兼容AWS S3协议的对象存储服务作为Outline的对象存储，例如：CloudFlare R2，缤纷云，腾讯云OSS等"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"如果你使用了在线对象存储服务，则可跳过部署Minio，直接开始部署Outline。参考你的对象存储服务文档填写相关机密信息和Endpoint。"}]},{"type":"element","tag":"h3","props":{"id":"部署-minio"},"children":[{"type":"text","value":"部署 Minio"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"新建一个文件夹放入部署相关文件，比如"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"/opt/Minio"}]},{"type":"text","value":"，使用以下命令新建相关文件夹并前往目录，然后新建相关文件。"}]},{"type":"element","tag":"pre","props":{"code":"mkdir /opt/Minio &amp;&amp; cd /opt/Minio\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"mkdir /opt/Minio &amp;&amp; cd /opt/Minio\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"以下为"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"docker-compose.yml"}]},{"type":"text","value":"文件示例"}]},{"type":"element","tag":"pre","props":{"code":"version: 3\nservices:\n  minio:\n    image: ${DOCKER_MINIO_IMAGE_NAME}\n    env_file: ./.env # 指定环境变量文件\n    container_name: minio\n    ports:\n      - 9502:9000\n      - 9503:9001\n    restart: always\n    command: server /data --console-address :9000 --address :9001\n    environment:\n      MINIO_ROOT_USER: ${MINIO_ROOT_USER}\n      MINIO_ROOT_PASSWORD: ${MINIO_ROOT_PASSWORD}\n    logging:\n      options:\n        max-size: 5M\n        max-file: 10\n      driver: json-file\n    volumes:\n      - ./minio_data:/data\n    labels:\n      createdBy: Apps\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"version: 3\nservices:\n  minio:\n    image: ${DOCKER_MINIO_IMAGE_NAME}\n    env_file: ./.env # 指定环境变量文件\n    container_name: minio\n    ports:\n      - 9502:9000\n      - 9503:9001\n    restart: always\n    command: server /data --console-address :9000 --address :9001\n    environment:\n      MINIO_ROOT_USER: ${MINIO_ROOT_USER}\n      MINIO_ROOT_PASSWORD: ${MINIO_ROOT_PASSWORD}\n    logging:\n      options:\n        max-size: 5M\n        max-file: 10\n      driver: json-file\n    volumes:\n      - ./minio_data:/data\n    labels:\n      createdBy: Apps\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"你还需要在Minio放置Docker Compose文件的目录新建"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".env"}]},{"type":"text","value":"文件，并填入以下内容，其中相关账密信息建议自行修改提高安全性。"}]},{"type":"element","tag":"pre","props":{"code":"DOCKER_MINIO_IMAGE_NAME=minio/minio:RELEASE.2024-08-03T04-33-23Z.fips\nDOCKER_MINIO_ROOT_USER=admin\nDOCKER_MINIO_ROOT_PASSWORD=admin\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"DOCKER_MINIO_IMAGE_NAME=minio/minio:RELEASE.2024-08-03T04-33-23Z.fips\nDOCKER_MINIO_ROOT_USER=admin\nDOCKER_MINIO_ROOT_PASSWORD=admin\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"使用 Nginx 反向代理 minio 服务，其中 9502 端口为 minio 服务的 http 端口，9503 端口为 minio 服务的 API 端口。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"示例: "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"localhost:9502"}]},{"type":"text","value":"-> "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"https://minio.example.com"}]},{"type":"text","value":" "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"localhost:9503"}]},{"type":"text","value":" -> "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"https://api-minio.example.com"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"部署完成后，请访问"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"https://minio.example.com"}]},{"type":"text","value":"，使用设定的用户名和密码登录。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"登录后，在设置中将"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Region"}]},{"type":"text","value":"设置为"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"cn-1"}]},{"type":"text","value":"，并且在"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Bucket"}]},{"type":"text","value":"中增加一个"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"bucket"}]},{"type":"text","value":"，命名为"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"outline"}]},{"type":"text","value":"用于存储"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"outline"}]},{"type":"text","value":"的数据，并把访问权限设置为"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"私有"}]},{"type":"text","value":"。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"可选操作"}]},{"type":"text","value":"："}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Bucket"}]},{"type":"text","value":"->"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"outline"}]},{"type":"text","value":"->"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Access"}]},{"type":"text","value":"->"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"User"}]},{"type":"text","value":"中增加一个用户，用于 outline 服务访问 minio 服务。"}]},{"type":"element","tag":"h3","props":{"id":"配置github-oauth"},"children":[{"type":"text","value":"配置GitHub OAuth"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"1.访问 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"GitHub"}]},{"type":"text","value":" 并登录 2.进入"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"OAuth Apps"}]},{"type":"text","value":" 页面（也可以依次点击：右上角头像 - Settings - Developer Settings - OAuth Apps） 3.点击"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"New OAuth App"}]},{"type":"text","value":" 4.填写 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Register a new OAuth application"}]},{"type":"text","value":" 表单"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Application name: 可自行填写，例如 outline"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Homepage URL: 填写 Outline 的主页 URL"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Authorization callback URL: 填写 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"<Homepage URL>/auth/oidc.callback"}]},{"type":"text","value":"，其中 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"<Homepage URL>"}]},{"type":"text","value":" 需要替换为Outline 的主页 URL"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"5.点击 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Register application"}]},{"type":"text","value":" 按钮，进入应用详情页面 6.点击"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Generate a new client secret"}]},{"type":"text","value":"按钮 7.记下 Client ID 和 Client secret，后面填写环境变量用（注意 Client secret 仅在创建时显示一次，后续不可再查询；如不慎遗失，可以再次点击按钮重新创建一个）"}]},{"type":"element","tag":"h3","props":{"id":"部署outline"},"children":[{"type":"text","value":"部署Outline"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"跟Minio一样，新建一个文件夹放入部署相关文件，比如"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"/opt/Outline"}]},{"type":"text","value":"，使用以下命令新建相关文件夹并前往目录，然后新建相关文件。"}]},{"type":"element","tag":"pre","props":{"code":"mkdir /opt/Outline &amp;&amp; cd /opt/Outline\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"mkdir /opt/Outline &amp;&amp; cd /opt/Outline\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"以下为"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"docker-compose.yml"}]},{"type":"text","value":"文件示例"}]},{"type":"element","tag":"pre","props":{"code":"version: 3.8\nservices:\n  outline:\n    image: ${DOCKER_OUTLINE_IMAGE_NAME}\n    env_file: ./.env\n    ports:\n      - 9303:3000\n    container_name: outline\n    restart: always\n    networks:\n      - outline\n    extra_hosts:\n      - ${DOCKER_OUTLINE_HOSTNAME}:0.0.0.0\n    depends_on:\n      - postgres\n      - redis\n\n  redis:\n    image: ${DOCKER_REDIS_IMAGE_NAME}\n    env_file: ./.env\n    volumes:\n      - ./redis/redis.conf:/redis.conf # 配置文件持久化\n    container_name: ${DOCKER_REDIS_HOST}\n    restart: always\n    networks:\n      - outline\n    command: [redis-server, /redis.conf] # 启动命令\n\n  postgres:\n    image: ${DOCKER_POSTGRES_IMAGE_NAME}\n    env_file: ./.env\n    environment:\n      POSTGRES_DB: ${DOCKER_POSTGRES_DB}\n      POSTGRES_USER: ${DOCKER_POSTGRES_USER}\n      POSTGRES_PASSWORD: ${DOCKER_POSTGRES_PASSWORD}\n    volumes:\n      - ./database-data:/var/lib/postgresql/data # 数据持久化\n    container_name: ${DOCKER_POSTGRES_HOST}\n    restart: always\n    networks:\n      - outline\n\nnetworks:\n  outline:\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"version: 3.8\nservices:\n  outline:\n    image: ${DOCKER_OUTLINE_IMAGE_NAME}\n    env_file: ./.env\n    ports:\n      - 9303:3000\n    container_name: outline\n    restart: always\n    networks:\n      - outline\n    extra_hosts:\n      - ${DOCKER_OUTLINE_HOSTNAME}:0.0.0.0\n    depends_on:\n      - postgres\n      - redis\n\n  redis:\n    image: ${DOCKER_REDIS_IMAGE_NAME}\n    env_file: ./.env\n    volumes:\n      - ./redis/redis.conf:/redis.conf # 配置文件持久化\n    container_name: ${DOCKER_REDIS_HOST}\n    restart: always\n    networks:\n      - outline\n    command: [redis-server, /redis.conf] # 启动命令\n\n  postgres:\n    image: ${DOCKER_POSTGRES_IMAGE_NAME}\n    env_file: ./.env\n    environment:\n      POSTGRES_DB: ${DOCKER_POSTGRES_DB}\n      POSTGRES_USER: ${DOCKER_POSTGRES_USER}\n      POSTGRES_PASSWORD: ${DOCKER_POSTGRES_PASSWORD}\n    volumes:\n      - ./database-data:/var/lib/postgresql/data # 数据持久化\n    container_name: ${DOCKER_POSTGRES_HOST}\n    restart: always\n    networks:\n      - outline\n\nnetworks:\n  outline:\n"}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"下面配置请逐行详细阅读，并根据实际情况修改，注意相关拼写！"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"跟Minio一样，在放置Docker Compose文件的目录新建"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".env"}]},{"type":"text","value":"文件，并复制填入以下内容："}]},{"type":"element","tag":"pre","props":{"code":"# 镜像设置\nDOCKER_OUTLINE_IMAGE_NAME=docker.getoutline.com/outlinewiki/outline:latest\nDOCKER_POSTGRES_IMAGE_NAME=postgres\nDOCKER_REDIS_IMAGE_NAME=redis\n\n# 容器名称\nDOCKER_REDIS_HOST=outline_redis\nDOCKER_POSTGRES_HOST=outline_postgres\n\n# postgres设置\nDOCKER_POSTGRES_USER=outline\nDOCKER_POSTGRES_PASSWORD=outline\nDOCKER_POSTGRES_DB=outline\n\n# GitHub OAuth设置，填写前面记下的信息\n\nGITHUB_CLIENT_ID=id\nGITHUB_CLIENT_SECRET=secret\n\n# Outline设置\nDOCKER_OUTLINE_HOSTNAME=docs.example.com # outline域名（需要自己使用Nginx反向代理）\n\n# –––––––––––––––– outline必需 –––––––––––––––-\n\nNODE_ENV=production\n\n# 生成一个十六进制编码的32字节随机密钥。你应该在终端使用 openssl rand -hex 32\n# 来生成一个随机值。\nSECRET_KEY=d8e45eahe5d298d976464888dea86c92b72dfa73aj8cb8903454205c02c732b3\n\n# 生成一个唯一的随机密钥。格式不重要，但你仍然可以使用\n# openssl rand -hex 32 在你的终端来产生这个。\nUTILS_SECRET=cf561a25absbd24c58e6d74edd726f60de11fd5c3fb8c289c725a48ab3b7b759\n\n# 对于生产环境，请将这些指向你的数据库，在开发中默认\n# 应该是开箱即用的。\nDATABASE_URL=postgres://${DOCKER_POSTGRES_USER}:${DOCKER_POSTGRES_PASSWORD}@${DOCKER_POSTGRES_HOST}:5432/${DOCKER_POSTGRES_DB}\nDATABASE_CONNECTION_POOL_MIN=\nDATABASE_CONNECTION_POOL_MAX=\n# 取消注释此项以禁用连接到Postgres的SSL\nPGSSLMODE=disable\n\n# 对于redis，你可以指定一个与ioredis兼容的url，像这样\nREDIS_URL=redis://${DOCKER_REDIS_HOST}:6379\n# 或者，如果你想提供额外的连接选项，\n# 使用一个base64编码的JSON连接选项对象。参考ioredis文档\n# 了解可用选项的列表。\n# 示例：使用Redis Sentinel来实现高可用性\n# {sentinels:[{host:sentinel-0,port:26379},{host:sentinel-1,port:26379}],name:mymaster}\n# REDIS_URL=ioredis://eyJzZW50aW5lbHMiOlt7Imhvc3QiOiJzZW50aW5lbC0wIiwicG9ydCI6MjYzNzl9LHsiaG9zdCI6InNlbnRpbmVsLTEiLCJwb3J0IjoyNjM3OX1dLCJuYW1lIjoibXltYXN0ZXIifQ==\n\n# URL应该指向完全合格的、公开可访问的URL。如果使用代理，\n# URL中的端口和PORT可能不同。\nURL=https://${DOCKER_OUTLINE_HOSTNAME}\nPORT=3000\n\n# 查看在运行一个独立的协作\n# 服务器的[文档](docs/SERVICES.md)，在正常操作中不需要设置这个。\n# COLLABORATION_URL=\n\n# 为了支持上传头像和文档附件的图片，必须提供\n# 一个兼容s3的存储。推荐使用AWS S3来实现冗余\n# 但如果你想保持所有文件存储在本地，可以使用\n# 例如minio (https://github.com/minio/minio) 的替代方案。\n\n# 设置S3的更详细指南可以在这里找到：\n# =&gt; https://wiki.generaloutline.com/share/125de1cc-9ff6-424b-8415-0d58c809a40f\n# 这里使用在minio部署时使用的用户名和密码，或者使用在上一节中可选操作中创建的用户，或者填写兼容AWS S3协议的对象存储信息\nAWS_ACCESS_KEY_ID=admin\nAWS_SECRET_ACCESS_KEY=admin\nAWS_REGION=cn-1\n# AWS_S3_ACCELERATE_URL=\nAWS_S3_UPLOAD_BUCKET_URL=https://api-minio.example.com\nAWS_S3_UPLOAD_BUCKET_NAME=outline\nAWS_S3_FORCE_PATH_STYLE=true\nAWS_S3_ACL=private\n\n# 指定要使用的存储系统。可能的值是s3或local之一。\n# 对于local，头像图片和文档附件将被保存在本地磁盘上。\nFILE_STORAGE=s3\n\n# 如果上面为FILE_STORAGE配置了local，则这设置了所有附件/图片的父目录\n# 确保该进程有权限创建\n# 这个路径，并且也有权限向其写入文件。\nFILE_STORAGE_LOCAL_ROOT_DIR=/var/lib/outline/data\n\n# 上传附件允许的最大大小。\nFILE_STORAGE_UPLOAD_MAX_SIZE=262144000\n\n# 覆盖文档导入的最大大小，通常这应该比文档附件的最大大小要低。\n# FILE_STORAGE_IMPORT_MAX_SIZE=\n\n# 覆盖工作区导入的最大大小，这些可能特别大\n# 并且文件是临时的，会在一段时间后自动删除。\n# FILE_STORAGE_WORKSPACE_IMPORT_MAX_SIZE=\n\n# –––––––––––––– 认证 ––––––––––––––\n\n# 第三方登录凭证，至少需要配置Google、Slack、\n# 或Microsoft中的一个才能进行工作安装，否则你将没有登录\n# 选项。\n\n# 要配置Slack认证，你需要在\n# =&gt; https://api.slack.com/apps\n# 创建一个应用程序\n#\n# 在配置Client ID时，添加一个重定向URL到OAuth &amp; Permissions：\n# https://&lt;URL&gt;/auth/slack.callback\n# SLACK_CLIENT_ID=从slack获取一个密钥\n# SLACK_CLIENT_SECRET=获取上面密钥的密钥\n\n# 要配置Google认证，你需要在\n# =&gt; https://console.cloud.google.com/apis/credentials\n# 创建一个OAuth客户端ID\n#\n# 在配置客户端ID时，添加一个已授权的重定向URI：\n# https://&lt;URL&gt;/auth/google.callback\n# GOOGLE_CLIENT_ID=\n# GOOGLE_CLIENT_SECRET=\n\n# 要配置Microsoft/Azure认证，你需要创建一个OAuth客户端。见\n# 指南了解如何设置你的Azure应用：\n# =&gt; https://wiki.generaloutline.com/share/dfa77e56-d4d2-4b51-8ff8-84ea6608faa4\n# AZURE_CLIENT_ID=\n# AZURE_CLIENT_SECRET=\n# AZURE_RESOURCE_APP_ID=\n\n# GitHub认证\n\n# 填写 GitHub OAuth application 的 Client ID 和 Client secret\nOIDC_CLIENT_ID=${GITHUB_CLIENT_ID}\nOIDC_CLIENT_SECRET=${GITHUB_CLIENT_SECRET}\n\n# 填写 GitHub 的 OAuth endpoint，参考 https://docs.github.com/en/apps/oauth-apps/building-oauth-apps/authorizing-oauth-apps#web-application-flow\nOIDC_AUTH_URI=https://github.com/login/oauth/authorize\nOIDC_TOKEN_URI=https://github.com/login/oauth/access_token\n\n# OAuth 授权的权限范围\nOIDC_SCOPES=read:user user:email\n\n# 通过 GitHub API 获取用户基本信息\nOIDC_USERINFO_URI=https://api.github.com/user\nOIDC_USERNAME_CLAIM=name\n\n# 让登录界面显示为“使用 GitHub 继续”\nOIDC_DISPLAY_NAME=GitHub\n\n# –––––––––––––––– 可选 ––––––––––––––––\n\n# 为HTTPS终止提供Base64编码的私钥和证书。仅当你不使用外部反向代理时才需要此项。见文档：\n# https://wiki.generaloutline.com/share/1c922644-40d8-41fe-98f9-df2b67239d45\n# SSL_KEY=\n# SSL_CERT=\n\n# 如果使用Cloudfront/Cloudflare分发或类似的服务，可以在下面设置。\n# 这将导致javascript、样式表和图像的路径被更新为\n# 在CDN_URL中定义的主机名。在CDN配置中，原始服务器\n# 应设置为与URL相同。\n# CDN_URL=\n\n# 在生产环境中自动重定向到https。默认值为true，但如果你能确保\n# SSL在外部负载均衡器处终止，可以设置为false。\nFORCE_HTTPS=false\n\n# 让安装通过发送匿名统计数据到\n# 维护者来检查更新\nENABLE_UPDATES=false\n\n# 应该启动多少个进程。作为一个合理的规则，将你服务器\n# 可用内存除以512来大致估算\nWEB_CONCURRENCY=1\n\n# 如果你的反向代理已经记录了传入的http\n# 请求，而这变得重复，你可以删除这一行\n# DEBUG=http\n\n# 配置服务器日志的最低严重性级别。应该是\n# error, warn, info, http, verbose, debug 和 silly 之一\nLOG_LEVEL=info\n\n# 为了完整的Slack集成，包括搜索和发布到频道，还需要\n# 以下配置，更多细节\n# =&gt; https://wiki.generaloutline.com/share/be25efd1-b3ef-4450-b8e5-c4a4fc11e02a\n#\n# SLACK_VERIFICATION_TOKEN=你的令牌\n# SLACK_APP_ID=A0XXXXXXX\n# SLACK_MESSAGE_ACTIONS=true\n\n# 可选地启用Sentry (sentry.io) 来跟踪错误和性能，\n# 并可选地在UI中添加一个Sentry代理隧道以绕过广告拦截器：\n# https://docs.sentry.io/platforms/javascript/troubleshooting/#using-the-tunnel-option)\n# SENTRY_DSN=\n# SENTRY_TUNNEL=\n\n# 为了支持发送出站的事务性电子邮件，如文档已更新或\n# 你被邀请了，你需要提供SMTP服务器的认证\n# SMTP_HOST=smtp.office365.com\n# SMTP_PORT=587\n# SMTP_USERNAME=\n# SMTP_PASSWORD=\n# SMTP_FROM_EMAIL=\n# SMTP_REPLY_EMAIL=\n# SMTP_TLS_CIPHERS=\n# SMTP_SECURE=false\n\n# 默认界面语言。见translate.getoutline.com查看\n# 可用的语言代码及其大致翻译的百分比。\nDEFAULT_LANGUAGE=zh_CN\n\n# 可选地启用应用程序Web服务器的速率限制器\nRATE_LIMITER_ENABLED=true\n\n# 为速率限制器配置默认的限流参数\nRATE_LIMITER_REQUESTS=1000\nRATE_LIMITER_DURATION_WINDOW=60\n\n# Iframely API配置\n# IFRAMELY_URL=\n# IFRAMELY_API_KEY=\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"# 镜像设置\nDOCKER_OUTLINE_IMAGE_NAME=docker.getoutline.com/outlinewiki/outline:latest\nDOCKER_POSTGRES_IMAGE_NAME=postgres\nDOCKER_REDIS_IMAGE_NAME=redis\n\n# 容器名称\nDOCKER_REDIS_HOST=outline_redis\nDOCKER_POSTGRES_HOST=outline_postgres\n\n# postgres设置\nDOCKER_POSTGRES_USER=outline\nDOCKER_POSTGRES_PASSWORD=outline\nDOCKER_POSTGRES_DB=outline\n\n# GitHub OAuth设置，填写前面记下的信息\n\nGITHUB_CLIENT_ID=id\nGITHUB_CLIENT_SECRET=secret\n\n# Outline设置\nDOCKER_OUTLINE_HOSTNAME=docs.example.com # outline域名（需要自己使用Nginx反向代理）\n\n# –––––––––––––––– outline必需 –––––––––––––––-\n\nNODE_ENV=production\n\n# 生成一个十六进制编码的32字节随机密钥。你应该在终端使用 openssl rand -hex 32\n# 来生成一个随机值。\nSECRET_KEY=d8e45eahe5d298d976464888dea86c92b72dfa73aj8cb8903454205c02c732b3\n\n# 生成一个唯一的随机密钥。格式不重要，但你仍然可以使用\n# openssl rand -hex 32 在你的终端来产生这个。\nUTILS_SECRET=cf561a25absbd24c58e6d74edd726f60de11fd5c3fb8c289c725a48ab3b7b759\n\n# 对于生产环境，请将这些指向你的数据库，在开发中默认\n# 应该是开箱即用的。\nDATABASE_URL=postgres://${DOCKER_POSTGRES_USER}:${DOCKER_POSTGRES_PASSWORD}@${DOCKER_POSTGRES_HOST}:5432/${DOCKER_POSTGRES_DB}\nDATABASE_CONNECTION_POOL_MIN=\nDATABASE_CONNECTION_POOL_MAX=\n# 取消注释此项以禁用连接到Postgres的SSL\nPGSSLMODE=disable\n\n# 对于redis，你可以指定一个与ioredis兼容的url，像这样\nREDIS_URL=redis://${DOCKER_REDIS_HOST}:6379\n# 或者，如果你想提供额外的连接选项，\n# 使用一个base64编码的JSON连接选项对象。参考ioredis文档\n# 了解可用选项的列表。\n# 示例：使用Redis Sentinel来实现高可用性\n# {sentinels:[{host:sentinel-0,port:26379},{host:sentinel-1,port:26379}],name:mymaster}\n# REDIS_URL=ioredis://eyJzZW50aW5lbHMiOlt7Imhvc3QiOiJzZW50aW5lbC0wIiwicG9ydCI6MjYzNzl9LHsiaG9zdCI6InNlbnRpbmVsLTEiLCJwb3J0IjoyNjM3OX1dLCJuYW1lIjoibXltYXN0ZXIifQ==\n\n# URL应该指向完全合格的、公开可访问的URL。如果使用代理，\n# URL中的端口和PORT可能不同。\nURL=https://${DOCKER_OUTLINE_HOSTNAME}\nPORT=3000\n\n# 查看在运行一个独立的协作\n# 服务器的[文档](docs/SERVICES.md)，在正常操作中不需要设置这个。\n# COLLABORATION_URL=\n\n# 为了支持上传头像和文档附件的图片，必须提供\n# 一个兼容s3的存储。推荐使用AWS S3来实现冗余\n# 但如果你想保持所有文件存储在本地，可以使用\n# 例如minio (https://github.com/minio/minio) 的替代方案。\n\n# 设置S3的更详细指南可以在这里找到：\n# =&gt; https://wiki.generaloutline.com/share/125de1cc-9ff6-424b-8415-0d58c809a40f\n# 这里使用在minio部署时使用的用户名和密码，或者使用在上一节中可选操作中创建的用户，或者填写兼容AWS S3协议的对象存储信息\nAWS_ACCESS_KEY_ID=admin\nAWS_SECRET_ACCESS_KEY=admin\nAWS_REGION=cn-1\n# AWS_S3_ACCELERATE_URL=\nAWS_S3_UPLOAD_BUCKET_URL=https://api-minio.example.com\nAWS_S3_UPLOAD_BUCKET_NAME=outline\nAWS_S3_FORCE_PATH_STYLE=true\nAWS_S3_ACL=private\n\n# 指定要使用的存储系统。可能的值是s3或local之一。\n# 对于local，头像图片和文档附件将被保存在本地磁盘上。\nFILE_STORAGE=s3\n\n# 如果上面为FILE_STORAGE配置了local，则这设置了所有附件/图片的父目录\n# 确保该进程有权限创建\n# 这个路径，并且也有权限向其写入文件。\nFILE_STORAGE_LOCAL_ROOT_DIR=/var/lib/outline/data\n\n# 上传附件允许的最大大小。\nFILE_STORAGE_UPLOAD_MAX_SIZE=262144000\n\n# 覆盖文档导入的最大大小，通常这应该比文档附件的最大大小要低。\n# FILE_STORAGE_IMPORT_MAX_SIZE=\n\n# 覆盖工作区导入的最大大小，这些可能特别大\n# 并且文件是临时的，会在一段时间后自动删除。\n# FILE_STORAGE_WORKSPACE_IMPORT_MAX_SIZE=\n\n# –––––––––––––– 认证 ––––––––––––––\n\n# 第三方登录凭证，至少需要配置Google、Slack、\n# 或Microsoft中的一个才能进行工作安装，否则你将没有登录\n# 选项。\n\n# 要配置Slack认证，你需要在\n# =&gt; https://api.slack.com/apps\n# 创建一个应用程序\n#\n# 在配置Client ID时，添加一个重定向URL到OAuth &amp; Permissions：\n# https://&lt;URL&gt;/auth/slack.callback\n# SLACK_CLIENT_ID=从slack获取一个密钥\n# SLACK_CLIENT_SECRET=获取上面密钥的密钥\n\n# 要配置Google认证，你需要在\n# =&gt; https://console.cloud.google.com/apis/credentials\n# 创建一个OAuth客户端ID\n#\n# 在配置客户端ID时，添加一个已授权的重定向URI：\n# https://&lt;URL&gt;/auth/google.callback\n# GOOGLE_CLIENT_ID=\n# GOOGLE_CLIENT_SECRET=\n\n# 要配置Microsoft/Azure认证，你需要创建一个OAuth客户端。见\n# 指南了解如何设置你的Azure应用：\n# =&gt; https://wiki.generaloutline.com/share/dfa77e56-d4d2-4b51-8ff8-84ea6608faa4\n# AZURE_CLIENT_ID=\n# AZURE_CLIENT_SECRET=\n# AZURE_RESOURCE_APP_ID=\n\n# GitHub认证\n\n# 填写 GitHub OAuth application 的 Client ID 和 Client secret\nOIDC_CLIENT_ID=${GITHUB_CLIENT_ID}\nOIDC_CLIENT_SECRET=${GITHUB_CLIENT_SECRET}\n\n# 填写 GitHub 的 OAuth endpoint，参考 https://docs.github.com/en/apps/oauth-apps/building-oauth-apps/authorizing-oauth-apps#web-application-flow\nOIDC_AUTH_URI=https://github.com/login/oauth/authorize\nOIDC_TOKEN_URI=https://github.com/login/oauth/access_token\n\n# OAuth 授权的权限范围\nOIDC_SCOPES=read:user user:email\n\n# 通过 GitHub API 获取用户基本信息\nOIDC_USERINFO_URI=https://api.github.com/user\nOIDC_USERNAME_CLAIM=name\n\n# 让登录界面显示为“使用 GitHub 继续”\nOIDC_DISPLAY_NAME=GitHub\n\n# –––––––––––––––– 可选 ––––––––––––––––\n\n# 为HTTPS终止提供Base64编码的私钥和证书。仅当你不使用外部反向代理时才需要此项。见文档：\n# https://wiki.generaloutline.com/share/1c922644-40d8-41fe-98f9-df2b67239d45\n# SSL_KEY=\n# SSL_CERT=\n\n# 如果使用Cloudfront/Cloudflare分发或类似的服务，可以在下面设置。\n# 这将导致javascript、样式表和图像的路径被更新为\n# 在CDN_URL中定义的主机名。在CDN配置中，原始服务器\n# 应设置为与URL相同。\n# CDN_URL=\n\n# 在生产环境中自动重定向到https。默认值为true，但如果你能确保\n# SSL在外部负载均衡器处终止，可以设置为false。\nFORCE_HTTPS=false\n\n# 让安装通过发送匿名统计数据到\n# 维护者来检查更新\nENABLE_UPDATES=false\n\n# 应该启动多少个进程。作为一个合理的规则，将你服务器\n# 可用内存除以512来大致估算\nWEB_CONCURRENCY=1\n\n# 如果你的反向代理已经记录了传入的http\n# 请求，而这变得重复，你可以删除这一行\n# DEBUG=http\n\n# 配置服务器日志的最低严重性级别。应该是\n# error, warn, info, http, verbose, debug 和 silly 之一\nLOG_LEVEL=info\n\n# 为了完整的Slack集成，包括搜索和发布到频道，还需要\n# 以下配置，更多细节\n# =&gt; https://wiki.generaloutline.com/share/be25efd1-b3ef-4450-b8e5-c4a4fc11e02a\n#\n# SLACK_VERIFICATION_TOKEN=你的令牌\n# SLACK_APP_ID=A0XXXXXXX\n# SLACK_MESSAGE_ACTIONS=true\n\n# 可选地启用Sentry (sentry.io) 来跟踪错误和性能，\n# 并可选地在UI中添加一个Sentry代理隧道以绕过广告拦截器：\n# https://docs.sentry.io/platforms/javascript/troubleshooting/#using-the-tunnel-option)\n# SENTRY_DSN=\n# SENTRY_TUNNEL=\n\n# 为了支持发送出站的事务性电子邮件，如文档已更新或\n# 你被邀请了，你需要提供SMTP服务器的认证\n# SMTP_HOST=smtp.office365.com\n# SMTP_PORT=587\n# SMTP_USERNAME=\n# SMTP_PASSWORD=\n# SMTP_FROM_EMAIL=\n# SMTP_REPLY_EMAIL=\n# SMTP_TLS_CIPHERS=\n# SMTP_SECURE=false\n\n# 默认界面语言。见translate.getoutline.com查看\n# 可用的语言代码及其大致翻译的百分比。\nDEFAULT_LANGUAGE=zh_CN\n\n# 可选地启用应用程序Web服务器的速率限制器\nRATE_LIMITER_ENABLED=true\n\n# 为速率限制器配置默认的限流参数\nRATE_LIMITER_REQUESTS=1000\nRATE_LIMITER_DURATION_WINDOW=60\n\n# Iframely API配置\n# IFRAMELY_URL=\n# IFRAMELY_API_KEY=\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"启动服务后，使用 Nginx 反向代理 Outline 服务，其中 9303 端口为 outline 服务的 http 端口"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"示例: "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"localhost:9303"}]},{"type":"text","value":" -> "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"https://docs.example.com"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"浏览器访问你部署的Outline主页（例如"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"https://docs.example.com"}]},{"type":"text","value":"），选择"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"使用GitHub登录"}]},{"type":"text","value":"，如果配置正确，会跳到GitHub的授权页面，使用你的"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"GitHub"}]},{"type":"text","value":"相关信息授权登录即可。"}]}],"toc":{"title":"","searchDepth":4,"depth":4,"links":[{"id":"准备","depth":2,"text":"准备"},{"id":"服务","depth":2,"text":"服务"},{"id":"部署","depth":2,"text":"部署","children":[{"id":"部署-minio","depth":3,"text":"部署 Minio"},{"id":"配置github-oauth","depth":3,"text":"配置GitHub OAuth"},{"id":"部署outline","depth":3,"text":"部署Outline"}]}]}},"_type":"markdown","_id":"content:posts:2024:08:docker-deploy-outline.md","_source":"content","_file":"posts/2024/08/docker-deploy-outline.md","_stem":"posts/2024/08/docker-deploy-outline","_extension":"md","_original_dir":"/posts"},{"_path":"/2024/09/1panel-appstore-refused","_dir":"09","_draft":false,"_partial":false,"_locale":"","title":"记一次被1Panel官方应用商店拒绝合并","description":"记录一次1Panel官方应用商店仓库提交应用被拒绝合并的情况","date":"2024-09-07T11:24:26.000Z","updated":"2024-09-07T15:30:53.000Z","categories":["技术探索"],"tags":["1Panel","Docker"],"readingTime":{"text":"5 min read","minutes":4.585,"time":275100,"words":917},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"我也算是个1Panel老用户了，从他们还没出Lts版本之前我就一直在用，它们的应用商店是可以通过本地撰写配置文件来实现自定义安装的，因此你可以导入第三方应用商店仓库来帮助你安装更多的应用，官方的应用商店也提供了途径允许你去自己提交应用。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"理论只要项目满足下列条件，就可以尝试提交："}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"活跃的开源项目"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"有官方Docker镜像"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"项目比较知名（GitHub高Star）"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"然后最近在研究Ghost博客系统，它可以通过Docker部署，这玩意在国外非常出名，但是国内生态很一般，甚至官方中文也没有，网上中文教程也不是很多。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"我想了想，本着一个促进传播的想法，我写了个1Panel应用商店可用的配置文件，本地也进行了安装测试，工作很完美！可以一键安装并自动设置其要求的数据库（MySQL，MariaDB），各种设置做的总体来说挺易用的，毕竟1Panel应用商店的交互逻辑本身就还不错。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"看了下Ghost应该也算满足官方要求的上面条件，也希望能有更多需要这个博客系统的人能更加便捷的安装它，就整理了一下去提交了一个官方应用商店仓库的"},{"type":"element","tag":"a","props":{"href":"https://github.com/1Panel-dev/appstore/pull/2125","rel":["nofollow"]},"children":[{"type":"text","value":"GitHub拉取请求"}]},{"type":"text","value":"。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"大概是过了两三天吧，收到了回信："}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"","src":"https://r2-file.101045700.xyz/2024/image_editor_output_image2047887735-17266569364718465991064078587678.webp"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Emm，虽然我赞同你的实话实说，但是这个理由从逻辑上似乎还是难以说通。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"直接说的话其实有些扶持自家产品之嫌了，不愿意其他竞品上架。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"我们不做情绪化的理解，理性点说的话，不大合适。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"首先，如我前面所说，Ghost博客系统在国内的生态很差，简体中文都是爱好者后期添加的，其他主题和插件更是稀缺。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"而Halo在国内的生态可以说一直在稳步发展，可以说在寻找自己用的博客系统的用户应该不会选择去绕过Halo，去硬选Ghost博客系统。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"其次，这样很容易寒了用户的心，我整理写出配置文件大概花了一个小时吧，也不算特别费事。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"但是在基本条件都符合的情况下你采取这样一个方式拒绝，属实是不大合适，格局有那么一点的小。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"多的我也不说了，1Panel是个优秀的产品，我们不能奢求它一定成为我们希望的样子。但我希望它不要被绑上商业化的标签，不要再活成第二个宝塔。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"补充："}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"有人说我可以提交到第三方应用商店仓库，比如"},{"type":"element","tag":"a","props":{"href":"https://github.com/okxlin/appstore","rel":["nofollow"]},"children":[{"type":"text","value":"okxlin/appstore"}]},{"type":"text","value":"，但是我说一下我对它的评价，只是个人主观观点。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在我看来这个第三方应用商店仓库有那么一些的乱，各种提交的应用有些质量不大行，起码配置文件和介绍写的不怎么规范。我在之前曾经为其贡献过Mix-Space和NodeBB，后面我在自己拉取使用的时候感觉是真的乱，包括一些与官方应用商店重叠的应用，以及里面部分应用你居然还需要到目录下手动docker compose -d 来启动。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"我感谢为此做出贡献的所有人们，但我应该不会去使用它，后面我打算自己写一个干净一些的商店仓库集合。"}]}],"toc":{"title":"","searchDepth":4,"depth":4,"links":[]}},"_type":"markdown","_id":"content:posts:2024:09:1panel-appstore-refused.md","_source":"content","_file":"posts/2024/09/1panel-appstore-refused.md","_stem":"posts/2024/09/1panel-appstore-refused","_extension":"md","_original_dir":"/posts"},{"_path":"/2024/10/shiroi-docker-deployment","_dir":"10","_draft":false,"_partial":false,"_locale":"","title":"GitHub Action构建Shiroi Docker镜像","description":"Mix-Space，它属于前后端分离博客系统，你可以把前端和后端分离部署在不同的地方，在之前你可以把前端部署在Vercel云函数上，达到缓解服务器压力和提升访问速度的效果。","date":"2024-10-21T11:24:26.000Z","categories":["技术探索"],"tags":["Mix-Space","Docker"],"readingTime":{"text":"10 min read","minutes":9.31,"time":558600,"words":1862},"body":{"type":"root","children":[{"type":"element","tag":"h2","props":{"id":"前言"},"children":[{"type":"text","value":"前言"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Mix-Space，它属于前后端分离博客系统，你可以把前端和后端分离部署在不同的地方，在之前你可以把前端部署在Vercel云函数上，达到缓解服务器压力和提升访问速度的效果。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"但是随着Vercel调整Hobby免费套餐的额度，Vercel免费套餐已经越来越不够用了，这个时候我们可以通过Docker将Shiro部署到自己的服务器上来解决问题，但是我在使用Shiroi（Shiro的闭源捐赠版）的时候遇到了问题：原作者innei并没有提供它的可用Docker镜像。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"这样的话你就需要在自己服务器上对Shiroi进行构建，但是对于配置较低（低于2G内存）的云服务器来说这是比较困难的，基本上会导致服务器爆内存假死。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Innei给出的解决方案是使用Github Action完成构建，将构建后的产物直接推送到你的服务器上，达到缓解服务器压力的作用。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"但是这个方案在我看来存在以下局限性："}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"需要你在服务器安装相关依赖：Node.js，PM2，Sharp，但是部分用户（比如我）使用的是1Panel管理服务器，不大想要在服务器安装额外依赖。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"输出目录被固定在了服务器的"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"root"}]},{"type":"text","value":"目录，不好更改。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"你需要向GitHub仓库存储你的服务器登录信息，比如SSH密钥等。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"项目本身有回滚功能，但一般用户可能不需要此功能，也会占用大量的服务器空间。"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"总之我是不大想要折腾这套方案，那么有啥更好的办法嘛？"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"欸，你说Docker部署不就行了，虽然Innei没给你Docker镜像，但是我们可以自己造啊！"}]},{"type":"element","tag":"h2","props":{"id":"思路"},"children":[{"type":"text","value":"思路"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"我们当然不能直接在自己服务器上构建镜像，构建Docker镜像产生的资源占用并不会比直接构建站点静态文件要少。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"那我们可以把innei的思路拿过来用一下，用Github Action进行Docker镜像构建不就可以了？"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"但是光构建也不行，你还需要找个地方把镜像放下来，而我也不想使用直接推送服务器的办法，这也需要在Github这里存储服务器登录信息，虽然是"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"secret"}]},{"type":"text","value":"存储应该能保证安全性，但是谁又能说准这个事情呢？"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"而且部分用户服务器在国内，Github Action的主动推送速度也不见得一定多好。"}]},{"type":"element","tag":"h2","props":{"id":"选择"},"children":[{"type":"text","value":"选择"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"最后我的选择方案是使用Github Action进行构建，然后将镜像传到Github Packages，Github Packages默认会对私有库镜像进行私有，也保障镜像不会直接泄露。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Docker 对镜像仓库的管理共分为 3 个层级，依次是命名空间 (namespace) 、镜像仓库 (repository) 和 标签 (tag)："}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"命名空间以名称作为标识，一个命名空间可管理多个镜像仓库。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"镜像仓库通过名称标识，一个镜像仓库中可保存一个镜像（image）的多个版本。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"镜像版本通过标签进行区分。"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"基于以上层级关系，一个完整的镜像路径 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"{namespace}/{repository}:{tag}"}]},{"type":"text","value":" 可以唯一确定一个镜像。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"新建一个私有库（注意一定是私有仓库）并在"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".github/workflows"}]},{"type":"text","value":"目录下新建yml工作流文件，填入如下内容："}]},{"type":"element","tag":"pre","props":{"code":"name: Docker\n\non:\n  push:\n    branches:\n      - main\n  schedule:\n     - cron: '0 3 * * *'\n\n  repository_dispatch:\n    types: [trigger-workflow]\n\npermissions: write-all\nconcurrency:\n  group: ${{ github.workflow }}-${{ github.ref }}\n  cancel-in-progress: true\n\nenv:\n  PNPM_VERSION: 9.x.x\n  HASH_FILE: build_hash\n\njobs:\n  prepare:\n    name: Prepare\n    runs-on: ubuntu-latest\n    if: ${{ github.event.head_commit.message != 'Update hash file' }}\n\n    outputs:\n      hash_content: ${{ steps.read_hash.outputs.hash_content }}\n\n    steps:\n      - name: Checkout\n        uses: actions/checkout@v4\n      - name: Read HASH_FILE content\n        id: read_hash\n        run: |\n          content=$(cat ${{ env.HASH_FILE }}) || true\n          echo \"hash_content=$content\" >> \"$GITHUB_OUTPUT\"\n  check:\n    name: Check Should Rebuild\n    runs-on: ubuntu-latest\n    needs: prepare\n    outputs:\n      canceled: ${{ steps.use_content.outputs.canceled }}\n\n    steps:\n      - uses: actions/checkout@v4\n        with:\n          repository: innei-dev/shiroi\n          token: ${{ secrets.GH_PAT }}\n          fetch-depth: 0\n          lfs: true\n\n      - name: Use content from prev job and compare\n        id: use_content\n        env:\n          FILE_HASH: ${{ needs.prepare.outputs.hash_content }}\n        run: |\n          file_hash=$FILE_HASH\n          current_hash=$(git rev-parse --short HEAD)\n          echo \"File Hash: $file_hash\"\n          echo \"Current Git Hash: $current_hash\"\n          if [ \"$file_hash\" == \"$current_hash\" ]; then\n            echo \"Hashes match. Stopping workflow.\"\n            echo \"canceled=true\" >> $GITHUB_OUTPUT\n          else\n            echo \"Hashes do not match. Continuing workflow.\"\n          fi\n\n  build:\n    name: Build artifact\n    runs-on: ubuntu-latest\n    needs: check\n    if: ${{needs.check.outputs.canceled != 'true'}}\n\n    outputs:\n      sha_short: ${{ steps.store.outputs.sha_short }}\n      branch: ${{ steps.store.outputs.branch }}\n\n    steps:\n    - uses: actions/checkout@v4\n      with:\n        repository: innei-dev/shiroi\n        token: ${{ secrets.GH_PAT }}\n        fetch-depth: 0\n        lfs: true\n\n    - name: Login to Registry\n      uses: docker/login-action@v3\n      with:\n        registry: ghcr.io\n        username: ${{ github.actor }}\n        password: ${{ secrets.GITHUB_TOKEN }}\n\n    - name: Build Docker Image\n      run: |\n        docker build -t ghcr.io/${{ secrets.DOCKER_NAMESPACE }}/shiroi:latest .\n\n    - name: Push Docker Image to Github\n      run: |\n        docker push ghcr.io/${{ secrets.DOCKER_NAMESPACE }}/shiroi:latest\n\n    - name: Store artifact commit version\n      shell: bash\n      id: store\n      run: |\n        sha_short=$(git rev-parse --short HEAD)\n        branch_name=$(git rev-parse --abbrev-ref HEAD)\n        echo \"sha_short=$sha_short\" >> \"$GITHUB_OUTPUT\"\n        echo \"branch=$branch_name\" >> \"$GITHUB_OUTPUT\"\n  store:\n    name: Store artifact commit version\n    runs-on: ubuntu-latest\n    needs: [build]\n    steps:\n\n      - name: Checkout\n        uses: actions/checkout@v4\n        with:\n          persist-credentials: false\n          fetch-depth: 0\n\n      - name: Use outputs from build\n        env:\n          SHA_SHORT: ${{ needs.build.outputs.sha_short }}\n          BRANCH: ${{ needs.build.outputs.branch }}\n        run: |\n          echo \"SHA Short from build: $SHA_SHORT\"\n          echo \"Branch from build: $BRANCH\"\n      - name: Write hash to file\n        env:\n          SHA_SHORT: ${{ needs.build.outputs.sha_short }}\n\n        run: |\n          echo \"SHA_SHORT: $SHA_SHORT\"\n          echo $SHA_SHORT > ${{ env.HASH_FILE }}\n      - name: Commit files\n        run: |\n          git config --local user.email \"41898282+github-actions[bot]@users.noreply.github.com\"\n          git config --local user.name \"github-actions[bot]\"\n          git add ${{ env.HASH_FILE }}\n          git status\n          git commit -a -m \"Update hash file\"\n      - name: Push changes\n        uses: ad-m/github-push-action@master\n        with:\n          github_token: ${{ secrets.GITHUB_TOKEN }}\n          branch: ${{ github.ref }}\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"name: Docker\n\non:\n  push:\n    branches:\n      - main\n  schedule:\n     - cron: '0 3 * * *'\n\n  repository_dispatch:\n    types: [trigger-workflow]\n\npermissions: write-all\nconcurrency:\n  group: ${{ github.workflow }}-${{ github.ref }}\n  cancel-in-progress: true\n\nenv:\n  PNPM_VERSION: 9.x.x\n  HASH_FILE: build_hash\n\njobs:\n  prepare:\n    name: Prepare\n    runs-on: ubuntu-latest\n    if: ${{ github.event.head_commit.message != 'Update hash file' }}\n\n    outputs:\n      hash_content: ${{ steps.read_hash.outputs.hash_content }}\n\n    steps:\n      - name: Checkout\n        uses: actions/checkout@v4\n      - name: Read HASH_FILE content\n        id: read_hash\n        run: |\n          content=$(cat ${{ env.HASH_FILE }}) || true\n          echo \"hash_content=$content\" >> \"$GITHUB_OUTPUT\"\n  check:\n    name: Check Should Rebuild\n    runs-on: ubuntu-latest\n    needs: prepare\n    outputs:\n      canceled: ${{ steps.use_content.outputs.canceled }}\n\n    steps:\n      - uses: actions/checkout@v4\n        with:\n          repository: innei-dev/shiroi\n          token: ${{ secrets.GH_PAT }}\n          fetch-depth: 0\n          lfs: true\n\n      - name: Use content from prev job and compare\n        id: use_content\n        env:\n          FILE_HASH: ${{ needs.prepare.outputs.hash_content }}\n        run: |\n          file_hash=$FILE_HASH\n          current_hash=$(git rev-parse --short HEAD)\n          echo \"File Hash: $file_hash\"\n          echo \"Current Git Hash: $current_hash\"\n          if [ \"$file_hash\" == \"$current_hash\" ]; then\n            echo \"Hashes match. Stopping workflow.\"\n            echo \"canceled=true\" >> $GITHUB_OUTPUT\n          else\n            echo \"Hashes do not match. Continuing workflow.\"\n          fi\n\n  build:\n    name: Build artifact\n    runs-on: ubuntu-latest\n    needs: check\n    if: ${{needs.check.outputs.canceled != 'true'}}\n\n    outputs:\n      sha_short: ${{ steps.store.outputs.sha_short }}\n      branch: ${{ steps.store.outputs.branch }}\n\n    steps:\n    - uses: actions/checkout@v4\n      with:\n        repository: innei-dev/shiroi\n        token: ${{ secrets.GH_PAT }}\n        fetch-depth: 0\n        lfs: true\n\n    - name: Login to Registry\n      uses: docker/login-action@v3\n      with:\n        registry: ghcr.io\n        username: ${{ github.actor }}\n        password: ${{ secrets.GITHUB_TOKEN }}\n\n    - name: Build Docker Image\n      run: |\n        docker build -t ghcr.io/${{ secrets.DOCKER_NAMESPACE }}/shiroi:latest .\n\n    - name: Push Docker Image to Github\n      run: |\n        docker push ghcr.io/${{ secrets.DOCKER_NAMESPACE }}/shiroi:latest\n\n    - name: Store artifact commit version\n      shell: bash\n      id: store\n      run: |\n        sha_short=$(git rev-parse --short HEAD)\n        branch_name=$(git rev-parse --abbrev-ref HEAD)\n        echo \"sha_short=$sha_short\" >> \"$GITHUB_OUTPUT\"\n        echo \"branch=$branch_name\" >> \"$GITHUB_OUTPUT\"\n  store:\n    name: Store artifact commit version\n    runs-on: ubuntu-latest\n    needs: [build]\n    steps:\n\n      - name: Checkout\n        uses: actions/checkout@v4\n        with:\n          persist-credentials: false\n          fetch-depth: 0\n\n      - name: Use outputs from build\n        env:\n          SHA_SHORT: ${{ needs.build.outputs.sha_short }}\n          BRANCH: ${{ needs.build.outputs.branch }}\n        run: |\n          echo \"SHA Short from build: $SHA_SHORT\"\n          echo \"Branch from build: $BRANCH\"\n      - name: Write hash to file\n        env:\n          SHA_SHORT: ${{ needs.build.outputs.sha_short }}\n\n        run: |\n          echo \"SHA_SHORT: $SHA_SHORT\"\n          echo $SHA_SHORT > ${{ env.HASH_FILE }}\n      - name: Commit files\n        run: |\n          git config --local user.email \"41898282+github-actions[bot]@users.noreply.github.com\"\n          git config --local user.name \"github-actions[bot]\"\n          git add ${{ env.HASH_FILE }}\n          git status\n          git commit -a -m \"Update hash file\"\n      - name: Push changes\n        uses: ad-m/github-push-action@master\n        with:\n          github_token: ${{ secrets.GITHUB_TOKEN }}\n          branch: ${{ github.ref }}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"这样就可以实现简单的构建并上传Github Registry镜像，需要你在仓库的"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"secret"}]},{"type":"text","value":"设置中配置一个机密变量："}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"GH_PAT"}]},{"type":"text","value":"：有权限访问Shiroi仓库的Github Access Token。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"DOCKER_NAMESPACE"}]},{"type":"text","value":"：镜像的命名空间，其中不要有任何大写字符，为了好记和防冲突可能性尽量选择使用个人Github用户名的小写字符。"}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"由于 GitHub action 的限制，当一个仓库在 3 个月内没有活动时，工作流会被禁用。\n@innei"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"所以我们采用innei的办法，每次构建结束后上传一个存储哈希值的文件，来保持仓库活动，而且在构建前对仓库哈希值进行对比，也不会出现重复构建的情况。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"参考上面修改环境"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"secret"}]},{"type":"text","value":"后，运行工作流（注意先开启你仓库设置中Github Action写入文件的权限），这样就会生成哈希值文件并且构建镜像了。"}]},{"type":"element","tag":"h2","props":{"id":"使用"},"children":[{"type":"text","value":"使用"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"保存工作流文件，等待运行完毕，你应该可以在仓库侧边"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Packages"}]},{"type":"text","value":"或者个人Github账号主页的"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Package"}]},{"type":"text","value":"里找到镜像文件。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在你个人服务器上拉取镜像前，你需要先在你的服务器上配置Docker私有仓库，值得注意的是你的Gitea实例必须是HTTPS地址，不然Docker会拒绝拉取不安全的私有仓库。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在你的服务器上输入以下指令登录Github Resgistry私有仓库"}]},{"type":"element","tag":"pre","props":{"code":"docker login ghcr.io\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"docker login ghcr.io\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"然后会提示你输入账号和有访问权限的Github Access Token，确认登录后你就可以拉取你的私有仓库镜像了，如果你是使用的1Panel的话，可以在容器的仓库设置直接设置私有仓库。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"然后你也可以使用下面的compose文件进行配置安装Shiroi："}]},{"type":"element","tag":"pre","props":{"code":"services:\n  shiro:\n    container_name: Shiroi\n    image:\n    restart: always\n    environment:\n      - NEXT_SHARP_PATH=/usr/local/lib/node_modules/sharp\n      - NEXT_PUBLIC_API_URL=https://api.example.com/api/v2\n      - NEXT_PUBLIC_GATEWAY_URL=https://api.example.com\n    ports:\n      - 127.0.0.1:2323:2323\n    networks:\n      - 1panel-network\nnetworks:\n  1panel-network:\n    external: true\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"services:\n  shiro:\n    container_name: Shiroi\n    image:\n    restart: always\n    environment:\n      - NEXT_SHARP_PATH=/usr/local/lib/node_modules/sharp\n      - NEXT_PUBLIC_API_URL=https://api.example.com/api/v2\n      - NEXT_PUBLIC_GATEWAY_URL=https://api.example.com\n    ports:\n      - 127.0.0.1:2323:2323\n    networks:\n      - 1panel-network\nnetworks:\n  1panel-network:\n    external: true\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"image"}]},{"type":"text","value":"这里填写你在软件包仓库这里看到的容器镜像信息，当然这是适用于1Panel的，常规部署也可以用下面这个"}]},{"type":"element","tag":"pre","props":{"code":"services:\n  shiro:\n    container_name: Shiroi\n    image:\n    restart: always\n    environment:\n      - NEXT_SHARP_PATH=/usr/local/lib/node_modules/sharp\n      - NEXT_PUBLIC_API_URL=https://api.example.com/api/v2\n      - NEXT_PUBLIC_GATEWAY_URL=https://api.example.com\n    ports:\n      - 127.0.0.1:2323:2323\n    networks:\n      - mx-network\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"services:\n  shiro:\n    container_name: Shiroi\n    image:\n    restart: always\n    environment:\n      - NEXT_SHARP_PATH=/usr/local/lib/node_modules/sharp\n      - NEXT_PUBLIC_API_URL=https://api.example.com/api/v2\n      - NEXT_PUBLIC_GATEWAY_URL=https://api.example.com\n    ports:\n      - 127.0.0.1:2323:2323\n    networks:\n      - mx-network\n"}]}]},{"type":"element","tag":"h2","props":{"id":"后话"},"children":[{"type":"text","value":"后话"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"这样你就算是简单完成了，本文本质上偏专业系，而非喂饭文，如果有疑问可以评论区提问或者搭配搜索引擎食用本文。"}]}],"toc":{"title":"","searchDepth":4,"depth":4,"links":[{"id":"前言","depth":2,"text":"前言"},{"id":"思路","depth":2,"text":"思路"},{"id":"选择","depth":2,"text":"选择"},{"id":"使用","depth":2,"text":"使用"},{"id":"后话","depth":2,"text":"后话"}]}},"_type":"markdown","_id":"content:posts:2024:10:shiroi-docker-deployment.md","_source":"content","_file":"posts/2024/10/shiroi-docker-deployment.md","_stem":"posts/2024/10/shiroi-docker-deployment","_extension":"md","_original_dir":"/posts"},{"_path":"/2024/10/write-1panel-app","_dir":"10","_draft":false,"_partial":false,"_locale":"","title":"编写1Panel应用商店第三方程序","description":"1Panel 是我目前在使用的一个服务器管理面板，它的社区版开源且免费，整体面板设计简洁快速，不需要登录，在基本体验上似乎是比隔壁宝塔要强一些。","date":"2024-10-17T11:24:26.000Z","categories":["技术探索"],"tags":["1Panel"],"readingTime":{"text":"20 min read","minutes":19.76,"time":1185600,"words":3952},"body":{"type":"root","children":[{"type":"element","tag":"h2","props":{"id":"前言"},"children":[{"type":"text","value":"前言"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"1Panel 是我目前在使用的一个服务器管理面板，它的社区版开源且免费，整体面板设计简洁快速，不需要登录，在基本体验上似乎是比隔壁宝塔要强一些。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"不过他被很多小白和部分用户不喜爱的原因是它的应用是通过 Docker 容器化进行部署的。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"采用 Docker 部署的坏处是应用整体内存占用会略高一些，而且配置容器组网是劝退很多小白的原因，配置不好，应用连不上数据库，网站反代不对等等。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"但是 Docker 容器化部署的好处也是不少的，比如没有构建应用这一步，就使得应用在拉取完毕镜像以后即刻就能启动，就跟二进制应用文件差不多的感觉，不需要等上很久，也不需要太多服务器性能用于构建，在部署 Node.js 应用时效果尤为显著。而且配置文件简单，只需要了解 Docker Compose 配置文件格式就能上手，整体体验对于大规模部署是很好的。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"当然 1Panel 也是知道小白们可能玩不明白 Docker 的，所以它还有应用商店，里面都是预先写好的 Docker Compose 文件模板，点击安装就能够一键部署，并且都自动为你做好网络设置，同时你还可以设计自己的应用上传到服务器，也可以一键安装，这样就出现了 1Panel 官方应用商店和第三方应用商店的存储库，只需要拉取仓库到服务器就能畅享海量应用。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"实际上 1Panel 应用的结构很简单，只需要几个文件，就能够设计好你想部署的应用，今天我也来简单讲一下如何设计这个应用。"}]},{"type":"element","tag":"h2","props":{"id":"注意"},"children":[{"type":"text","value":"注意"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"值得注意的事情是，1Panel 应用商店的本质其实就是一个个 Docker Compose 编排文件的图形体现，所以实际上需要你的应用有公共可访问的 Docker 镜像才能正常使用。"}]},{"type":"element","tag":"h2","props":{"id":"格式"},"children":[{"type":"text","value":"格式"}]},{"type":"element","tag":"h3","props":{"id":"初始化模板"},"children":[{"type":"text","value":"初始化模板"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"从"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"1panel 1.3"}]},{"type":"text","value":"及以上版本开始，可以在安装了 1Panel 的服务器使用"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"1panel app init <应用的key> <应用的版本>"}]},{"type":"text","value":"指令来快速初始化应用模板文件（注意不是 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"1pctl"}]},{"type":"text","value":"命令）"}]},{"type":"element","tag":"h3","props":{"id":"文件夹格式"},"children":[{"type":"text","value":"文件夹格式"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"应用的文件夹格式大概是长下面这个样子："}]},{"type":"element","tag":"pre","props":{"code":"├──halo // 承载应用的文件夹，这里以halo为例\n    ├── logo.png // 应用的 logo\n    ├── data.yml // 应用声明文件\n    ├── README.md // 应用的 README 文件\n    ├── 2.2.0 // 应用版本 注意不要以 v 开头\n    │&nbsp;&nbsp; ├── data.yml // 应用的参数配置，下面有详细介绍\n    │&nbsp;&nbsp; ├── data // 挂载出来的目录\n    |   ├── scripts // 脚本目录 存放 init.sh upgrade.sh uninstall.sh\n    │&nbsp;&nbsp; └── docker-compose.yml // docker-compose 文件\n    └── 2.3.2\n        ├── data.yml\n        ├── data\n        └── docker-compose.yml\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"├──halo // 承载应用的文件夹，这里以halo为例\n    ├── logo.png // 应用的 logo\n    ├── data.yml // 应用声明文件\n    ├── README.md // 应用的 README 文件\n    ├── 2.2.0 // 应用版本 注意不要以 v 开头\n    │&nbsp;&nbsp; ├── data.yml // 应用的参数配置，下面有详细介绍\n    │&nbsp;&nbsp; ├── data // 挂载出来的目录\n    |   ├── scripts // 脚本目录 存放 init.sh upgrade.sh uninstall.sh\n    │&nbsp;&nbsp; └── docker-compose.yml // docker-compose 文件\n    └── 2.3.2\n        ├── data.yml\n        ├── data\n        └── docker-compose.yml\n"}]}]},{"type":"element","tag":"h3","props":{"id":"应用-logo"},"children":[{"type":"text","value":"应用 Logo"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"用于在应用概览和应用详情页面展示，应用的 Logo 为 png 格式，长宽比最好是"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"180 * 180 px"}]},{"type":"text","value":"，把它放在应用的根目录下，例如"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"/halo/logo.png"}]},{"type":"text","value":"，不要使用诸如 webp，jpg，svg 这样的格式。"}]},{"type":"element","tag":"h3","props":{"id":"应用声明文件"},"children":[{"type":"text","value":"应用声明文件"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"声明你的应用的基本信息，让 1Panel 知道你的应用的一些基本信息，比如叫什么名字，干什么用的等等，是位于应用根目录下的"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"data.yml"}]},{"type":"text","value":"文件，格式差不多如下："}]},{"type":"element","tag":"pre","props":{"code":"# 下边这一部分推荐填写，虽然 1Panel 的应用商店官方 Wiki 没有声明它到底有何用\nname: Halo\ntags:\n  - 建站\ntitle: 强大易用的开源建站工具\ntype: 建站\ndescription: 强大易用的开源建站工具\n# 下边这一部分为应用声明信息部分，注意填写正确！\nadditionalProperties:  #固定参数\n    key: halo   #应用的 key，仅限英文，用于在 Linux 创建文件夹\n    name: Halo  #应用名称\n    tags:\n        - WebSite #应用标签，可以有多个，请参照标签列表\n    shortDescZh: 强大易用的开源建站工具 #应用中文描述，不要超过 30 个字\n    shortDescEn: Powerful and easy-to-use open source website builder #应用英文描述\n    type: website  #应用类型，区别于应用分类，只能有一个，请参照下方的类型列表\n    crossVersionUpdate: true  #是否可以跨大版本升级\n    limit: 0  #应用安装数量限制，0 代表无限制\n    website: https://halo.run/  #应用的官网地址\n    github: https://github.com/halo-dev/halo #应用 GitHub 的仓库地址\n    document: https://docs.halo.run/ #应用的文档地址\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"# 下边这一部分推荐填写，虽然 1Panel 的应用商店官方 Wiki 没有声明它到底有何用\nname: Halo\ntags:\n  - 建站\ntitle: 强大易用的开源建站工具\ntype: 建站\ndescription: 强大易用的开源建站工具\n# 下边这一部分为应用声明信息部分，注意填写正确！\nadditionalProperties:  #固定参数\n    key: halo   #应用的 key，仅限英文，用于在 Linux 创建文件夹\n    name: Halo  #应用名称\n    tags:\n        - WebSite #应用标签，可以有多个，请参照标签列表\n    shortDescZh: 强大易用的开源建站工具 #应用中文描述，不要超过 30 个字\n    shortDescEn: Powerful and easy-to-use open source website builder #应用英文描述\n    type: website  #应用类型，区别于应用分类，只能有一个，请参照下方的类型列表\n    crossVersionUpdate: true  #是否可以跨大版本升级\n    limit: 0  #应用安装数量限制，0 代表无限制\n    website: https://halo.run/  #应用的官网地址\n    github: https://github.com/halo-dev/halo #应用 GitHub 的仓库地址\n    document: https://docs.halo.run/ #应用的文档地址\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"我们对必填应用声明信息部分从上往下进行详细的介绍："}]},{"type":"element","tag":"h3","props":{"id":"key"},"children":[{"type":"text","value":"key"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"诸如 halo 这样的名字，它其实就是你应用文件夹的名字，注意此处一定要与应用文件夹的名字保持一致，不然会导致应用无法正常部署安装。"}]},{"type":"element","tag":"h3","props":{"id":"name"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"应用的名称部分，用于 1Panel 商店列表中展示和应用详情上方展示，填写好了能提高应用的辨认度。"}]},{"type":"element","tag":"h3","props":{"id":"tags"},"children":[{"type":"text","value":"tags"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"应用的标签，决定了应用在应用商店所属的分类，可以填写多个。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"标签列表和其对应的分类如下："}]},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{},"children":[{"type":"text","value":"值"}]},{"type":"element","tag":"th","props":{},"children":[{"type":"text","value":"所属分类"}]},{"type":"element","tag":"th","props":{},"children":[{"type":"text","value":"值"}]},{"type":"element","tag":"th","props":{},"children":[{"type":"text","value":"所属分类"}]},{"type":"element","tag":"th","props":{},"children":[{"type":"text","value":"值"}]},{"type":"element","tag":"th","props":{},"children":[{"type":"text","value":"所属分类"}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"WebSite"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"建站"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Storage"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"云存储"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Email"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"邮件服务"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Server"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Web 服务器"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"AI"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"AI/大模型"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Game"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"休闲游戏"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Runtime"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"运行环境"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"BI"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"BI"}]},{"type":"element","tag":"td","props":{},"children":[]},{"type":"element","tag":"td","props":{},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Database"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"数据库"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Security"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"安全"}]},{"type":"element","tag":"td","props":{},"children":[]},{"type":"element","tag":"td","props":{},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Tool"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"实用工具"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"DevTool"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"开发工具"}]},{"type":"element","tag":"td","props":{},"children":[]},{"type":"element","tag":"td","props":{},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"DevOps"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"DevOps"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Middleware"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"中间件"}]},{"type":"element","tag":"td","props":{},"children":[]},{"type":"element","tag":"td","props":{},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Local"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"本地"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Media"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"多媒体"}]},{"type":"element","tag":"td","props":{},"children":[]},{"type":"element","tag":"td","props":{},"children":[]}]}]}]},{"type":"element","tag":"h3","props":{"id":"shortdesczhen"},"children":[{"type":"text","value":"shortDescZh/En"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"应用的中文/英文描述，用于应用在应用商店列表中和应用详情页上方快速介绍应用，不要太长（中文不超过 30 字）"}]},{"type":"element","tag":"h3","props":{"id":"type"},"children":[{"type":"text","value":"type"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"应用的用途分类，这里主要决定了 1Panel 会怎么对待你的应用，比如"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"website"}]},{"type":"text","value":"类型的可以在其网站功能中一键进行反代和分配域名。"}]},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{},"children":[{"type":"text","value":"值"}]},{"type":"element","tag":"th","props":{},"children":[{"type":"text","value":"说明"}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"website"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"website 即网站应用程序类型，支持在网站中一键部署和反代，WordPress 和 Halo 都是此 type"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"runtime"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"mysql openresty redis 等类型的应用，倾向于应用的关键运行环境"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"tool"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"phpMyAdmin redis-commander jenkins 等类型的应用，倾向于应用的维护工具等"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"crossversionupdate"},"children":[{"type":"text","value":"crossVersionUpdate"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"决定了应用是否可以跨大版本进行升级，一般来说都可以吧。"}]},{"type":"element","tag":"h3","props":{"id":"limit"},"children":[{"type":"text","value":"limit"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"决定了这个应用最多能部署多少个，一般为"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"0"}]},{"type":"text","value":"无限制，但是有些应用它确实不能重复安装，比如 Openresty 这样的反向代理服务。"}]},{"type":"element","tag":"h3","props":{"id":"website"},"children":[{"type":"text","value":"website"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"应用的官网地址，但不是所有应用都有官网地址，如果真没有那就填写应用的 Github 仓库地址吧，本质上就是一个联系地址"}]},{"type":"element","tag":"h3","props":{"id":"github"},"children":[{"type":"text","value":"github"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"应用的 Github 仓库地址，本质上提交到 1Panel 应用商店的应用都是开源应用，所以一般都有这么个开源地址，你本地定制可以按情况来。"}]},{"type":"element","tag":"h3","props":{"id":"document"},"children":[{"type":"text","value":"document"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"应用的使用文档地址，按需填写吧，不是所有应用都有完善的使用文档。"}]},{"type":"element","tag":"h2","props":{"id":"应用参数配置文件"},"children":[{"type":"text","value":"应用参数配置文件"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"它也是"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"data.yml"}]},{"type":"text","value":"，但是它在应用的版本号目录下，注意不要和应用声明文件搞混了。"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"本文件主要用于生成安装时要填写的 form 表单，在应用版本文件夹下面 可以无表单，但是需要有这个 data.yml 文件，并且包含 formFields 字段。\n@1Panel 应用商店仓库官方 Wiki"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"以 Halo 的 Form 表单为例："}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"Halo 安装表单示例图（来自 1Panel 官方应用商店仓库）","src":"https://user-images.githubusercontent.com/31820853/226111412-9c7b25a1-83f2-4621-8789-7ef85a2695dd.png"},"children":[]},{"type":"text","value":"\n如果要生成一个上面这样子的表单，你需要这么填写应用参数配置文件（来自官方 Wiki 示例）："}]},{"type":"element","tag":"pre","props":{"code":"additionalProperties:  #固定参数\n    formFields:\n        - default: \"\"\n          envKey: PANEL_DB_HOST  #docker-compose 文件中的参数\n          key: mysql  #依赖应用的 key , 例如 mysql\n          labelEn: Database Service  #英文的 label\n          labelZh: 数据库服务  #中文的 label\n          required: true  #是否必填\n          type: service  #如果需要依赖其他应用，例如数据库，使用此 type\n        - default: halo\n          envKey: PANEL_DB_NAME\n          labelEn: Database\n          labelZh: 数据库名\n          random: true  #是否在 default 文字后面，增加随机字符串\n          required: true\n          rule: paramCommon  #校验规则\n          type: text  #需要手动填写的，使用此 type\n        - default: halo\n          envKey: PANEL_DB_USER\n          labelEn: User\n          labelZh: 数据库用户\n          random: true\n          required: true\n          rule: paramCommon\n          type: text\n        - default: halo\n          envKey: PANEL_DB_USER_PASSWORD\n          labelEn: Password\n          labelZh: 数据库用户密码\n          random: true\n          required: true\n          rule: paramComplexity\n          type: password  #密码字段使用此 type\n        - default: admin\n          envKey: HALO_ADMIN\n          labelEn: Admin Username\n          labelZh: 超级管理员用户名\n          required: true\n          rule: paramCommon\n          type: text\n        - default: halo\n          envKey: HALO_ADMIN_PASSWORD\n          labelEn: Admin Password\n          labelZh: 超级管理员密码\n          random: true\n          required: true\n          rule: paramComplexity\n          type: password\n        - default: http://localhost:8080\n          edit: true\n          envKey: HALO_EXTERNAL_URL\n          labelEn: External URL\n          labelZh: 外部访问地址\n          required: true\n          rule: paramExtUrl\n          type: text\n        - default: 8080\n          edit: true\n          envKey: PANEL_APP_PORT_HTTP\n          labelEn: Port\n          labelZh: 端口\n          required: true\n          rule: paramPort\n          type: number #端口使用此 type\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"additionalProperties:  #固定参数\n    formFields:\n        - default: \"\"\n          envKey: PANEL_DB_HOST  #docker-compose 文件中的参数\n          key: mysql  #依赖应用的 key , 例如 mysql\n          labelEn: Database Service  #英文的 label\n          labelZh: 数据库服务  #中文的 label\n          required: true  #是否必填\n          type: service  #如果需要依赖其他应用，例如数据库，使用此 type\n        - default: halo\n          envKey: PANEL_DB_NAME\n          labelEn: Database\n          labelZh: 数据库名\n          random: true  #是否在 default 文字后面，增加随机字符串\n          required: true\n          rule: paramCommon  #校验规则\n          type: text  #需要手动填写的，使用此 type\n        - default: halo\n          envKey: PANEL_DB_USER\n          labelEn: User\n          labelZh: 数据库用户\n          random: true\n          required: true\n          rule: paramCommon\n          type: text\n        - default: halo\n          envKey: PANEL_DB_USER_PASSWORD\n          labelEn: Password\n          labelZh: 数据库用户密码\n          random: true\n          required: true\n          rule: paramComplexity\n          type: password  #密码字段使用此 type\n        - default: admin\n          envKey: HALO_ADMIN\n          labelEn: Admin Username\n          labelZh: 超级管理员用户名\n          required: true\n          rule: paramCommon\n          type: text\n        - default: halo\n          envKey: HALO_ADMIN_PASSWORD\n          labelEn: Admin Password\n          labelZh: 超级管理员密码\n          random: true\n          required: true\n          rule: paramComplexity\n          type: password\n        - default: http://localhost:8080\n          edit: true\n          envKey: HALO_EXTERNAL_URL\n          labelEn: External URL\n          labelZh: 外部访问地址\n          required: true\n          rule: paramExtUrl\n          type: text\n        - default: 8080\n          edit: true\n          envKey: PANEL_APP_PORT_HTTP\n          labelEn: Port\n          labelZh: 端口\n          required: true\n          rule: paramPort\n          type: number #端口使用此 type\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"是不是看的眼晕了，我们这里拆出来解释下它这个东西："}]},{"type":"element","tag":"pre","props":{"code":"        - default: \"\"\n          envKey: PANEL_DB_HOST  #docker-compose 文件中的参数\n          key: mysql  #依赖应用的 key , 例如 mysql\n          labelEn: Database Service  #英文的 label\n          labelZh: 数据库服务  #中文的 label\n          required: true  #是否必填\n          type: service  #如果需要依赖其他应用，例如数据库，使用此 type\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"        - default: \"\"\n          envKey: PANEL_DB_HOST  #docker-compose 文件中的参数\n          key: mysql  #依赖应用的 key , 例如 mysql\n          labelEn: Database Service  #英文的 label\n          labelZh: 数据库服务  #中文的 label\n          required: true  #是否必填\n          type: service  #如果需要依赖其他应用，例如数据库，使用此 type\n"}]}]},{"type":"element","tag":"h3","props":{"id":"dafault"},"children":[{"type":"text","value":"dafault"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"应用这个变量值的默认格式，填写上什么应用的设置变量默认就会填写什么东西，比如说你要设置这个应用的默认前端站点是"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"example.com"}]},{"type":"text","value":"就在这里这样填写上它，应用就会默认把"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"example.com"}]},{"type":"text","value":"做前端默认站点值。"}]},{"type":"element","tag":"h3","props":{"id":"envkey"},"children":[{"type":"text","value":"envKey"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"对应了你的应用的 compose 编排文件中环境变量设置部分，比如"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"environment"}]},{"type":"text","value":"下的值，但其实简单点说就是会传递一个变量值给文件，比如"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"HOST"}]},{"type":"text","value":"变量可以在 compose 文件中通过"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"${HOST}"}]},{"type":"text","value":"来引用它，不难理解吧。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"譬如在如下 Halo 例子中的引用："}]},{"type":"element","tag":"pre","props":{"code":"services:\n  halo:\n    image: halohub/halo:2.2.0\n    container_name: ${CONTAINER_NAME}\n    restart: always\n    networks:\n      - 1panel-network\n    volumes:\n      - ./data:/root/.halo2\n    ports:\n      - ${PANEL_APP_PORT_HTTP}:8090\n    command:\n      - --spring.r2dbc.url=r2dbc:pool:${HALO_PLATFORM}://${PANEL_DB_HOST}:${HALO_DB_PORT}/${PANEL_DB_NAME}\n      - --spring.r2dbc.username=${PANEL_DB_USER}\n      - --spring.r2dbc.password=${PANEL_DB_USER_PASSWORD}\n      - --spring.sql.init.platform=${HALO_PLATFORM}\n      - --halo.external-url=${HALO_EXTERNAL_URL}\n      - --halo.security.initializer.superadminusername=${HALO_ADMIN}\n      - --halo.security.initializer.superadminpassword=${HALO_ADMIN_PASSWORD}\n    labels:\n      createdBy: \"Apps\"\n\nnetworks:\n  1panel-network:\n    external: true\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"services:\n  halo:\n    image: halohub/halo:2.2.0\n    container_name: ${CONTAINER_NAME}\n    restart: always\n    networks:\n      - 1panel-network\n    volumes:\n      - ./data:/root/.halo2\n    ports:\n      - ${PANEL_APP_PORT_HTTP}:8090\n    command:\n      - --spring.r2dbc.url=r2dbc:pool:${HALO_PLATFORM}://${PANEL_DB_HOST}:${HALO_DB_PORT}/${PANEL_DB_NAME}\n      - --spring.r2dbc.username=${PANEL_DB_USER}\n      - --spring.r2dbc.password=${PANEL_DB_USER_PASSWORD}\n      - --spring.sql.init.platform=${HALO_PLATFORM}\n      - --halo.external-url=${HALO_EXTERNAL_URL}\n      - --halo.security.initializer.superadminusername=${HALO_ADMIN}\n      - --halo.security.initializer.superadminpassword=${HALO_ADMIN_PASSWORD}\n    labels:\n      createdBy: \"Apps\"\n\nnetworks:\n  1panel-network:\n    external: true\n"}]}]},{"type":"element","tag":"h3","props":{"id":"key-1"},"children":[{"type":"text","value":"key"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"这个虽然出现在了 1Panel 的官方 Wiki 示例中，但是似乎实际他们已经弃用这样写了，部分应用会依赖其他服务，比如 Halo 会有依赖 MySQL 数据库，这个时候你就在这里填写上它就能去引用它，1Panel 给的这个例子有点旧，我们使用下面的格式来实现引用外部数据库："}]},{"type":"element","tag":"pre","props":{"code":"        - child:\n            default: \"\"\n            envKey: PANEL_DB_HOST\n            required: true\n            type: service\n          default: mysql\n          envKey: PANEL_DB_TYPE\n          labelEn: Database Service\n          labelZh: 数据库服务\n          required: true\n          type: apps\n          values:\n            - label: MySQL\n              value: mysql\n            - label: MariaDB\n              value: mariadb\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"        - child:\n            default: \"\"\n            envKey: PANEL_DB_HOST\n            required: true\n            type: service\n          default: mysql\n          envKey: PANEL_DB_TYPE\n          labelEn: Database Service\n          labelZh: 数据库服务\n          required: true\n          type: apps\n          values:\n            - label: MySQL\n              value: mysql\n            - label: MariaDB\n              value: mariadb\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"这样你就可以为你的应用接入选择数据库的方式了，但是我也不是很懂这个，实际写起来直接 Ctrl+C 其他已实现接入外部数据库的应用范例似乎是个好办法。"}]},{"type":"element","tag":"h3","props":{"id":"labelenzh"},"children":[{"type":"text","value":"labelEn/Zh"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"这个我感觉并不需要过多的介绍，已经在上面写的比较明白了，应用这个项的中英文描述。"}]},{"type":"element","tag":"h3","props":{"id":"required"},"children":[{"type":"text","value":"required"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"决定这个变量值是否是必填的，在它为"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"true"}]},{"type":"text","value":"的情况下不填写它是不能继续安装的，你可以视情况决定这个东西。"}]},{"type":"element","tag":"h3","props":{"id":"type-1"},"children":[{"type":"text","value":"type"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"看着似乎表格很明白但实际写起来还是挺头疼的东西，自己按表格查询吧，我自己也对这个东西非常头疼，差不多它的设定决定了你的应用这个设置变量只能填什么东西。"}]},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{},"children":[{"type":"text","value":"值"}]},{"type":"element","tag":"th","props":{},"children":[{"type":"text","value":"说明"}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"service"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"type: service"}]},{"type":"text","value":" 如果该应用需要依赖其他组件，如 mysql redis 等，可以通过 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"key: mysql"}]},{"type":"text","value":" 定义依赖的名称，在创建应用时会要求先创建依赖的应用。"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"password"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"type: password"}]},{"type":"text","value":" 敏感信息，如密码相关的字段会默认不显示明文。"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"text"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"type: text"}]},{"type":"text","value":" 一般内容，比如数据库名称，默认明文显示。"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"number"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"type: number"}]},{"type":"text","value":" 一般用在端口相关的配置上，只允许输入数字。"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"select"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"type: select"}]},{"type":"text","value":" 选项，比如 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"true"}]},{"type":"text","value":", "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"false"}]},{"type":"text","value":"，日志等级等。"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"通过官方给的下方的例子对照查询了解："}]},{"type":"element","tag":"td","props":{},"children":[]}]}]}]},{"type":"element","tag":"pre","props":{"code":"# type: service，定义一个 mysql 的 service 依赖。\n- default: \"\"\n    envKey: DB_HOST\n    key: mysql\n    labelEn: Database Service\n    labelZh: 数据库服务\n    required: true\n    type: service\n\n# type: password\n- default: Np2qgqtiUayA857GpuVI0Wtg\n    edit: true\n    envKey: DB_PASSWORD\n    labelEn: Database password\n    labelZh: 数据库密码\n    required: true\n    type: password\n\n# type: text\n- default: 192.168.100.100\n    disabled: true.\n    envKey: REDIS_HOST\n    labelEn: Redis host\n    labelZh: Redis 主机\n    type: text\n\n# type: number\n- default: 3306\n    disabled: true\n    envKey: DB_PORT\n    labelEn: Database port\n    labelZh: 数据库端口\n    rule: paramPort\n    type: number\n\n# type: select\n- default: \"ERROR\"\n    envKey: LOG_LEVEL\n    labelEn: Log level\n    labelZh: 日志级别\n    required: true\n    type: select\n    values:\n        - label: DEBUG\n          value: \"DEBUG\"\n        - label: INFO\n          value: \"INFO\"\n        - label: WARNING\n          value: \"WARNING\"\n        - label: ERROR\n          value: \"ERROR\"\n        - label: CRITICAL\n          value: \"CRITICAL\"\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"# type: service，定义一个 mysql 的 service 依赖。\n- default: \"\"\n    envKey: DB_HOST\n    key: mysql\n    labelEn: Database Service\n    labelZh: 数据库服务\n    required: true\n    type: service\n\n# type: password\n- default: Np2qgqtiUayA857GpuVI0Wtg\n    edit: true\n    envKey: DB_PASSWORD\n    labelEn: Database password\n    labelZh: 数据库密码\n    required: true\n    type: password\n\n# type: text\n- default: 192.168.100.100\n    disabled: true.\n    envKey: REDIS_HOST\n    labelEn: Redis host\n    labelZh: Redis 主机\n    type: text\n\n# type: number\n- default: 3306\n    disabled: true\n    envKey: DB_PORT\n    labelEn: Database port\n    labelZh: 数据库端口\n    rule: paramPort\n    type: number\n\n# type: select\n- default: \"ERROR\"\n    envKey: LOG_LEVEL\n    labelEn: Log level\n    labelZh: 日志级别\n    required: true\n    type: select\n    values:\n        - label: DEBUG\n          value: \"DEBUG\"\n        - label: INFO\n          value: \"INFO\"\n        - label: WARNING\n          value: \"WARNING\"\n        - label: ERROR\n          value: \"ERROR\"\n        - label: CRITICAL\n          value: \"CRITICAL\"\n"}]}]},{"type":"element","tag":"h3","props":{"id":"rule"},"children":[{"type":"text","value":"rule"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在上面的例子中部分登场，主要是校验用户是否书写这个东西的格式是正确的，比如防止某些用户在端口设置这里填写域名的东西，这个"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"rule"}]},{"type":"text","value":"就会强制这个填写栏必须填写什么格式。"}]},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{},"children":[{"type":"text","value":"值"}]},{"type":"element","tag":"th","props":{},"children":[{"type":"text","value":"规则"}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"paramPort"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"用于限制端口范围为 1-65535"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"paramExtUrl"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"格式为 http(s)://(域名/ip):(端口)"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"paramCommon"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"英文、数字、.-和_，长度 2-30"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"paramComplexity"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"支持英文、数字、.%@$!&~_-,长度 6-30，特殊字符不能在首尾"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"应用-compose-文件"},"children":[{"type":"text","value":"应用 Compose 文件"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"位于应用版本号目录下的"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"docker-compose.yml"}]},{"type":"text","value":"文件，注意有格式要求，下面是示例"}]},{"type":"element","tag":"h3","props":{"id":"示例文件"},"children":[{"type":"text","value":"示例文件"}]},{"type":"element","tag":"pre","props":{"code":"services:\n  ghost:\n    container_name: ${CONTAINER_NAME}\n    restart: always\n    networks:\n      - 1panel-network\n    ports:\n      - \"${PANEL_APP_PORT_HTTP}:2368\"\n    volumes:\n      - ./data:/var/lib/ghost/content\n    environment:\n      - database__client=${PANEL_DB_TYPE}\n      - database__connection__host=${PANEL_DB_HOST}\n      - database__connection__user=${PANEL_DB_USER}\n      - database__connection__password=${PANEL_DB_USER_PASSWORD}\n      - database__connection__database=${PANEL_DB_NAME}\n      - database__connection__port=${PANEL_DB_PORT}\n      - url=${GHOST_EXTERNAL_URL}\n    image: ghost:5.96.2\n    labels:\n      createdBy: \"Apps\"\n\nnetworks:\n  1panel-network:\n    external: true\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"services:\n  ghost:\n    container_name: ${CONTAINER_NAME}\n    restart: always\n    networks:\n      - 1panel-network\n    ports:\n      - \"${PANEL_APP_PORT_HTTP}:2368\"\n    volumes:\n      - ./data:/var/lib/ghost/content\n    environment:\n      - database__client=${PANEL_DB_TYPE}\n      - database__connection__host=${PANEL_DB_HOST}\n      - database__connection__user=${PANEL_DB_USER}\n      - database__connection__password=${PANEL_DB_USER_PASSWORD}\n      - database__connection__database=${PANEL_DB_NAME}\n      - database__connection__port=${PANEL_DB_PORT}\n      - url=${GHOST_EXTERNAL_URL}\n    image: ghost:5.96.2\n    labels:\n      createdBy: \"Apps\"\n\nnetworks:\n  1panel-network:\n    external: true\n"}]}]},{"type":"element","tag":"h3","props":{"id":"要求"},"children":[{"type":"text","value":"要求"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"头部没有"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"version"}]},{"type":"text","value":"的变量，记得把它删去。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"必须为应用定义"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"container_name"}]},{"type":"text","value":"这个设置，且后面必须是"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"${CONTAINER_NAME}"}]},{"type":"text","value":"，这样 1Panel 才能在安装时对其正确配置。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"必须配置应用网络为"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"1panel-network"}]},{"type":"text","value":"，这样应用之间才能正常互联，我在部分第三方应用商店库发现它们不是很注重这个，当然这事也可以视情况而论，但是建议是都在 1Panel 官方网络下。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"端口"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"ports"}]},{"type":"text","value":"这里设置也是必须为其默认定义的"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"${PANEL_APP_PORT_HTTP}:8090"}]},{"type":"text","value":"这样的格式，这样 1Panel 才能正确设置应用的开放端口"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"文件尾部也必须跟示例文件一样，填写了"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"networks"}]},{"type":"text","value":"配置，直接"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Ctrl+C"}]},{"type":"text","value":"过去就好。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"应用的"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"image"}]},{"type":"text","value":"镜像标签必须和文件夹表示的版本号一致，比如这个版本号文件夹写的是"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"5.96.2"}]},{"type":"text","value":"，那么其文件内部"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"image"}]},{"type":"text","value":"标签也必须那样写，不然会影响应用检测和安装更新！"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"记得填写上面的"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"labels"}]},{"type":"text","value":"标签，直接"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Ctrl+C"}]},{"type":"text","value":"过去就行，当然这个也不算必填项，只是一种规范罢了。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"记得为应用定义重启相关，比如"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"always"}]},{"type":"text","value":"等等，这样保证应用在遇到问题后可以恢复（雾）"}]}]},{"type":"element","tag":"h2","props":{"id":"脚本"},"children":[{"type":"text","value":"脚本"}]},{"type":"element","tag":"h3","props":{"id":"介绍"},"children":[{"type":"text","value":"介绍"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"1Panel 在 安装之前、升级之前、卸载之后支持执行 .sh 脚本\n分别对应 init.sh upgrade.sh uninstall.sh\n存放目录 (以 halo 为例) : halo/2.2.0/scripts"}]},{"type":"element","tag":"h2","props":{"id":"本地测试"},"children":[{"type":"text","value":"本地测试"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"我十分建议你发布前先在自己已安装 1Panel 的服务器上进行测试，确定它是否可以正常安装"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"将应用目录上传到 1Panel 的"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"/opt/1panel/resource/apps/local"}]},{"type":"text","value":"文件夹下\n注意："},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"/opt"}]},{"type":"text","value":" 为 1Panel 默认安装目录，请根据自己的实际情况修改\n上传完成后，目录结构如下："}]},{"type":"element","tag":"pre","props":{"code":"├──halo\n    ├── logo.png\n    ├── data.yml\n    ├── README.md\n    ├── 2.2.0\n     &nbsp;&nbsp; ├── data.yml\n     &nbsp;&nbsp; ├── data\n     &nbsp;&nbsp; └── docker-compose.yml\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"├──halo\n    ├── logo.png\n    ├── data.yml\n    ├── README.md\n    ├── 2.2.0\n     &nbsp;&nbsp; ├── data.yml\n     &nbsp;&nbsp; ├── data\n     &nbsp;&nbsp; └── docker-compose.yml\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在 1Panel 应用商店中，点击更新应用列表按钮同步本地应用。"}]},{"type":"element","tag":"h2","props":{"id":"收尾"},"children":[{"type":"text","value":"收尾"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"测试正常后，你就可以去提交官方库或者第三方应用商店库了，或者你自己用，都可以，不过我还是建议你本着分享精神，把它提交到官方或其他第三方应用商店仓库里去。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"官方的要求和拒绝率比较高，一般来说提交第三方仓库也挺好的，这里列举目前个人已知仓库："}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://github.com/AuroraStarTeam/1panel-app-store","rel":["nofollow"]},"children":[{"type":"text","value":"AuroraStarTeam/1panel-app-store"}]},{"type":"text","value":"，由我所属个人组织极光星进行维护，理念是干净整洁，但是个人经验可能不够丰富。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://github.com/okxlin/appstore","rel":["nofollow"]},"children":[{"type":"text","value":"okxlin/appstore"}]},{"type":"text","value":"，流行和最早的第三方商店库，应用很多，但是也很乱。"}]}]},{"type":"element","tag":"h2","props":{"id":"参考文档"},"children":[{"type":"text","value":"参考文档："}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://github.com/1Panel-dev/appstore/wiki/%E5%A6%82%E4%BD%95%E6%8F%90%E4%BA%A4%E8%87%AA%E5%B7%B1%E6%83%B3%E8%A6%81%E7%9A%84%E5%BA%94%E7%94%A8","rel":["nofollow"]},"children":[{"type":"text","value":"如何提交自己想要的应用（1Panel 官方应用商店仓库 Wiki）"}]}]}]}],"toc":{"title":"","searchDepth":4,"depth":4,"links":[{"id":"前言","depth":2,"text":"前言"},{"id":"注意","depth":2,"text":"注意"},{"id":"格式","depth":2,"text":"格式","children":[{"id":"初始化模板","depth":3,"text":"初始化模板"},{"id":"文件夹格式","depth":3,"text":"文件夹格式"},{"id":"应用-logo","depth":3,"text":"应用 Logo"},{"id":"应用声明文件","depth":3,"text":"应用声明文件"},{"id":"key","depth":3,"text":"key"},{"id":"name","depth":3,"text":"name"},{"id":"tags","depth":3,"text":"tags"},{"id":"shortdesczhen","depth":3,"text":"shortDescZh/En"},{"id":"type","depth":3,"text":"type"},{"id":"crossversionupdate","depth":3,"text":"crossVersionUpdate"},{"id":"limit","depth":3,"text":"limit"},{"id":"website","depth":3,"text":"website"},{"id":"github","depth":3,"text":"github"},{"id":"document","depth":3,"text":"document"}]},{"id":"应用参数配置文件","depth":2,"text":"应用参数配置文件","children":[{"id":"dafault","depth":3,"text":"dafault"},{"id":"envkey","depth":3,"text":"envKey"},{"id":"key-1","depth":3,"text":"key"},{"id":"labelenzh","depth":3,"text":"labelEn/Zh"},{"id":"required","depth":3,"text":"required"},{"id":"type-1","depth":3,"text":"type"},{"id":"rule","depth":3,"text":"rule"}]},{"id":"应用-compose-文件","depth":2,"text":"应用 Compose 文件","children":[{"id":"示例文件","depth":3,"text":"示例文件"},{"id":"要求","depth":3,"text":"要求"}]},{"id":"脚本","depth":2,"text":"脚本","children":[{"id":"介绍","depth":3,"text":"介绍"}]},{"id":"本地测试","depth":2,"text":"本地测试"},{"id":"收尾","depth":2,"text":"收尾"},{"id":"参考文档","depth":2,"text":"参考文档："}]}},"_type":"markdown","_id":"content:posts:2024:10:write-1panel-app.md","_source":"content","_file":"posts/2024/10/write-1panel-app.md","_stem":"posts/2024/10/write-1panel-app","_extension":"md","_original_dir":"/posts"},{"_path":"/2024/12/break-change-2024","_dir":"12","_draft":false,"_partial":false,"_locale":"","title":"破坏型迁移：站点反复横跳与稳定工作","description":null,"date":"2024-12-07T10:24:26.000Z","categories":["日志记录"],"tags":["迁移"],"readingTime":{"text":"2 min read","minutes":1.545,"time":92700,"words":309},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Hi~我是Mikuの鬆（PaloMiku），好久不见。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"我在自己博客上又做了破坏性迁移，出于多方面考虑，博客域名将迁移到blog子域名上，评论数据等将不会被保留，部分文章被删除（有部分2023年以及之前的文章仍在修订迁移）。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"说来惭愧，因为个人能力问题，所以在站点撰写文章上是可以明显看出水分和个人能力不足。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"我的很多时间可能还是花在了调整站点架构，域名迁移，服务器调整上。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在本次破坏性迁移后，站点可以保证在2026年9月前在不遇到任何意外情况的前提下，将不再进行域名与服务器迁移工作，可以基本保证站点稳定性。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"为什么？"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"因为本站基本服务结构（服务器和域名）已经可以确定在2026年9月前不会到期，所以就算我人没了，它也会工作到2026年9月18日结束。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"华为云华东上海服务器（2026年12月到期）","src":"https://file.101045700.xyz/2024/12/06458ae7237f9879b28bd19ba42984c8.webp"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"本站域名Whois信息","src":"https://file.101045700.xyz/2024/12/7529e5bea4285b3d5a3fc3bf0f90fb49.webp"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"同时服务器系统已更换为"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Huawei Cloud EulerOS"}]},{"type":"text","value":"以保证服务器持续工作稳定性，本站后续更新依旧会保持缓慢进展。"}]}],"toc":{"title":"","searchDepth":4,"depth":4,"links":[]}},"_type":"markdown","_id":"content:posts:2024:12:break-change-2024.md","_source":"content","_file":"posts/2024/12/break-change-2024.md","_stem":"posts/2024/12/break-change-2024","_extension":"md","_original_dir":"/posts"},{"_path":"/2024/12/oyiso-tianligpt","_dir":"12","_draft":false,"_partial":false,"_locale":"","title":"为Oyiso主题引入TianliGPT摘要","description":null,"date":"2024-12-07T10:24:26.000Z","categories":["技术探索"],"tags":["Oyiso","WordPress"],"readingTime":{"text":"3 min read","minutes":2.295,"time":137700,"words":459},"body":{"type":"root","children":[{"type":"element","tag":"h2","props":{"id":"前言"},"children":[{"type":"text","value":"前言"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在之前我在使用Hexo主题的时候，当时有些Hexo主题带了TianliGPT摘要功能，当时觉得有点意思并且还买了5万字额度，结果到换系统都没用完（无奈）。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"最近这不是又换回WordPress Oyiso主题了嘛，看了下已经有WordPress主题引入TianliGPT的案例了，对照教程和相关代码照葫芦画瓢把摘要功能又给添上了，也算是解决我那剩下的几万字额度。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"不过现在它已经支持到PostChat了，升级版的对话浮窗，更多功能，无限额度，不过18元/月劝退我了，什么时候我文章够多了再引入这个也不急（穷）"}]},{"type":"element","tag":"h2","props":{"id":"什么是tianligpt"},"children":[{"type":"text","value":"什么是TianliGPT"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"TianliGPT是一个基于GPT-3.5的文字摘要生成工具，你可以将需要提取摘要的文本内容发送给TianliGPT，稍等一会他就可以给你发送一个基于这段文本内容的摘要。"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"实时生成的摘要"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"自动生成，无需人工干预"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"一次生成，再次生成无需消耗key"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"包含文字审核过滤，适用于中国大陆"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"支持中国大陆访问"}]}]},{"type":"element","tag":"h2","props":{"id":"引入"},"children":[{"type":"text","value":"引入"}]},{"type":"element","tag":"h3","props":{"id":"安装插件与设置"},"children":[{"type":"text","value":"安装插件与设置"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"首先前往WordPress PostChat插件的"},{"type":"element","tag":"a","props":{"href":"https://github.com/zhheo/wordpress-plugin-postchat","rel":["nofollow"]},"children":[{"type":"text","value":"Github仓库"}]},{"type":"text","value":"下载插件并在后台上传安装。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"","src":"https://file.101045700.xyz/2024/12/84bce8cfe0ab8276ba0f78f1b3db4e86.webp"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"打开插件设置，在上面填入你的Key，获取Key和购买额度参考上面引导，如果只需要文章摘要可以关闭智能对话功能。"}]},{"type":"element","tag":"h3","props":{"id":"前端引入代码"},"children":[{"type":"text","value":"前端引入代码"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"","src":"https://file.101045700.xyz/2024/12/6a03b5d58939f9f070c358bc812c7070.webp"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"打开Oyiso主题的自定义代码设置，把下方代码填入自定义HTML代码（头部）或者（底部）都可以，替换里面的tianliGPT_key项为你的Key。"}]},{"type":"element","tag":"pre","props":{"code":"<link rel=\"stylesheet\" href=\"https://ai.tianli0.top/static/public/tianli_gpt.min.css\"><script>\nlet tianliGPT_postSelector = '#postchat_postcontent';\nlet tianliGPT_key = '1145141919810'; //填入你的Key\n</script>\n<script src=\"https://ai.tianli0.top/static/public/tianli_gpt.min.js\"></script>\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"<link rel=\"stylesheet\" href=\"https://ai.tianli0.top/static/public/tianli_gpt.min.css\"><script>\nlet tianliGPT_postSelector = '#postchat_postcontent';\nlet tianliGPT_key = '1145141919810'; //填入你的Key\n</script>\n<script src=\"https://ai.tianli0.top/static/public/tianli_gpt.min.js\"></script>\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"保存设置，然后Enjoy it."}]}],"toc":{"title":"","searchDepth":4,"depth":4,"links":[{"id":"前言","depth":2,"text":"前言"},{"id":"什么是tianligpt","depth":2,"text":"什么是TianliGPT"},{"id":"引入","depth":2,"text":"引入","children":[{"id":"安装插件与设置","depth":3,"text":"安装插件与设置"},{"id":"前端引入代码","depth":3,"text":"前端引入代码"}]}]}},"_type":"markdown","_id":"content:posts:2024:12:oyiso-tianligpt.md","_source":"content","_file":"posts/2024/12/oyiso-tianligpt.md","_stem":"posts/2024/12/oyiso-tianligpt","_extension":"md","_original_dir":"/posts"},{"_path":"/2025/01/arch-aur-kazumi","_dir":"01","_draft":false,"_partial":false,"_locale":"","title":"为了一碟醋包了一盘饺子：构建和提交Kazumi AUR包","description":"最近追番的时候看到了一个名为Kazumi的程序，它是一个基于Flutter开发的，可自定义规则的番剧采集程序，支持流媒体在线观看，同时还支持弹幕和实时超分辨率。","date":"2025-01-24T10:24:26.000Z","categories":["技术探索"],"tags":["Arch","AUR"],"image":"https://file.101045700.xyz/2025/01/76ab1468eba28613d3177cea8f63994d.webp","readingTime":{"text":"5 min read","minutes":4.125,"time":247500,"words":825},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"最近追番的时候看到了一个名为Kazumi的程序，它是一个基于Flutter开发的，可自定义规则的番剧采集程序，支持流媒体在线观看，同时还支持弹幕和实时超分辨率。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Github仓库："},{"type":"element","tag":"a","props":{"href":"https://github.com/Predidit/Kazumi","rel":["nofollow"]},"children":[{"type":"text","value":"https://github.com/Predidit/Kazumi"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"那听上去还是很有意思的，我属于看番剧喜欢顺带看点弹幕的那种，就像我明明知道不全，知道会删减，但依然还续着B站大会员也多少跟这有些关系。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"总之我还是比较喜欢Kazumi的，它支持的平台也是不少的，iOS，安卓，Win，Linux，甚至新的鸿蒙Next都有支持。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"不过我是一个ArchLinux+KDE用户，在使用它时就遇到了一些问题。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"首先Kazumi官方提供的Linux安装方式是Deb（Debian）和tar.gz包，或者你也可以通过Flathub安装它。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"但是很显然，Arch它不能用Deb安装，而我也不能用Flathub。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Kazumi Flathub的安装方式对我这个KDE桌面用户来说并不友好，居然还需要安装一整套GNOME组件？这不开玩笑嘛，我为了装个程序还得去装隔壁GNOME桌面，这肯定不行。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"咱们有请万能的AUR来给我们看看，首先我们看到了也是有前人种树的：kazumi-bin，但是很可惜的是截止本文发布时，此包维护者已经很久没有更新过它了。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"","src":"https://file.101045700.xyz/2025/01/de4c7618811b03e971e5092c703f530f.webp"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"还是古早版本，好在Arch安装包是使用PKGBUILD管理的，过程不算复杂，我能很轻松复现它这个过程，更新为最新版本并且安装。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"（为此我还去查了Arch Wiki看了半天软件包构建与AUR包提交资料）"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"我是解决了，但是其他用户呢？也许会有别的Arch用户也想装Kazumi，然后遇到我这个难受的情况。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"所以作为老好人（bushi）的我决定提交下AUR包📦来帮助后人。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"你现在想要在Arch使用我构建的这个包很简单，有yay的情况下直接输入下面命令然后Enter就行了。"}]},{"type":"element","tag":"pre","props":{"code":"yay -S kazumi\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"yay -S kazumi\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"我为了琢磨这个包看了半天时间资料，毕竟我对Linux基础也不算特别好，这更是我第一次提交AUR包，配置公私密钥和构建花费了我俩小时的时间。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://aur.archlinux.org/packages/kazumi","rel":["nofollow"]},"children":[{"type":"text","value":"我构建的AUR包"}]},{"type":"text","value":"是以Kazumi的tar.gz为基底做的，它的PKGBUILD文件如下"}]},{"type":"element","tag":"pre","props":{"code":"# Maintainer: PaloMiku <palomiku@outlook.com>\npkgname=kazumi\npkgver=1.5.3\npkgrel=2\npkgdesc=\"基于自定义规则的番剧采集APP，支持流媒体在线观看，支持弹幕。\"\narch=('x86_64')\nurl='https://github.com/Predidit/Kazumi'\nlicense=('GPL3')\nsource_x86_64=(\"${pkgname}-${pkgver}.tar.gz::https://github.com/Predidit/Kazumi/releases/download/$pkgver/Kazumi_linux_${pkgver}_amd64.tar.gz\" \"icon.png\")\nsha256sums_x86_64=('2e06f4fa252a93324b74098ab336874780b62e5058d6a85e6ed97a54e3f0986c' 'SKIP')\ndepends=('libayatana-appindicator' 'xdg-user-dirs' 'webkit2gtk-4.1')\n\npackage() {\n    install -d \"${pkgdir}/opt/Kazumi\" \"${pkgdir}/usr/bin\"\n\n    bsdtar -xf \"$srcdir/${pkgname}-${pkgver}.tar.gz\" -C \"${pkgdir}/opt/Kazumi\"\n\n    ln -s /opt/Kazumi/kazumi \"${pkgdir}/usr/bin/kazumi\"\n\n    install -Dm644 /dev/stdin \"${pkgdir}/usr/share/applications/kazumi.desktop\" <<EOF\n#!/usr/bin/env xdg-open\n[Desktop Entry]\nName=Kazumi\nComment=Watch Animes online with danmaku support.\nComment[zh_CN]=一款好用的追番软件\nExec=kazumi\nIcon=io.github.Predidit.Kazumi\nTerminal=false\nType=Application\nCategories=AudioVideo;Audio;Video;\nEOF\n\n    # 安装图标\n    install -Dm644 \"${srcdir}/icon.png\" \"${pkgdir}/usr/share/icons/hicolor/128x128/apps/io.github.Predidit.Kazumi.png\"\n}\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"# Maintainer: PaloMiku <palomiku@outlook.com>\npkgname=kazumi\npkgver=1.5.3\npkgrel=2\npkgdesc=\"基于自定义规则的番剧采集APP，支持流媒体在线观看，支持弹幕。\"\narch=('x86_64')\nurl='https://github.com/Predidit/Kazumi'\nlicense=('GPL3')\nsource_x86_64=(\"${pkgname}-${pkgver}.tar.gz::https://github.com/Predidit/Kazumi/releases/download/$pkgver/Kazumi_linux_${pkgver}_amd64.tar.gz\" \"icon.png\")\nsha256sums_x86_64=('2e06f4fa252a93324b74098ab336874780b62e5058d6a85e6ed97a54e3f0986c' 'SKIP')\ndepends=('libayatana-appindicator' 'xdg-user-dirs' 'webkit2gtk-4.1')\n\npackage() {\n    install -d \"${pkgdir}/opt/Kazumi\" \"${pkgdir}/usr/bin\"\n\n    bsdtar -xf \"$srcdir/${pkgname}-${pkgver}.tar.gz\" -C \"${pkgdir}/opt/Kazumi\"\n\n    ln -s /opt/Kazumi/kazumi \"${pkgdir}/usr/bin/kazumi\"\n\n    install -Dm644 /dev/stdin \"${pkgdir}/usr/share/applications/kazumi.desktop\" <<EOF\n#!/usr/bin/env xdg-open\n[Desktop Entry]\nName=Kazumi\nComment=Watch Animes online with danmaku support.\nComment[zh_CN]=一款好用的追番软件\nExec=kazumi\nIcon=io.github.Predidit.Kazumi\nTerminal=false\nType=Application\nCategories=AudioVideo;Audio;Video;\nEOF\n\n    # 安装图标\n    install -Dm644 \"${srcdir}/icon.png\" \"${pkgdir}/usr/share/icons/hicolor/128x128/apps/io.github.Predidit.Kazumi.png\"\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"它的实现方式上半段就是从Kazumi Github仓库下载tar.gz文件然后复制相关依赖文件到指定位置，后半段则是给应用程序列表增加Kazumi应用，这样可以让你不用终端"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"kazumi"}]},{"type":"text","value":"启动它。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"给Kazumi Github仓库也提交了一个"},{"type":"element","tag":"a","props":{"href":"https://github.com/Predidit/Kazumi/pull/660","rel":["nofollow"]},"children":[{"type":"text","value":"Pull requests"}]},{"type":"text","value":"，希望能增加此安装方式，令人高兴的是被合并了。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"","src":"https://file.101045700.xyz/2025/01/cfc871e26ce25d6ed2c5ecb43ba05109.webp"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"希望能够帮到更多人。"}]}],"toc":{"title":"","searchDepth":4,"depth":4,"links":[]}},"_type":"markdown","_id":"content:posts:2025:01:arch-aur-kazumi.md","_source":"content","_file":"posts/2025/01/arch-aur-kazumi.md","_stem":"posts/2025/01/arch-aur-kazumi","_extension":"md","_original_dir":"/posts"},{"_path":"/2025/05/fediverse","_dir":"05","_draft":false,"_partial":false,"_locale":"","title":"浅谈个人与 Fediverse 的过往历史和现状","description":"在 2025 年 5 月，浅谈 Fediverse（联邦宇宙）个人历史，以及讨论下现有情况。","date":"2025-05-20T00:30:00.000Z","categories":["联邦宇宙"],"tags":["Fediverse","Misskey"],"image":"https://blog-files.101045700.xyz/Fediverse/fediverse-lila.webp","readingTime":{"text":"8 min read","minutes":7.025,"time":421500,"words":1405},"body":{"type":"root","children":[{"type":"element","tag":"h2","props":{"id":"前言"},"children":[{"type":"text","value":"前言"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"这应该是我博客重新整合后第一次提起 Fediverse，在之前旧博客也有几篇博文有提到这些，但在博客搬迁时丢失的丢失，删除的删除，总之 "},{"type":"element","tag":"tip","props":{"tip":"这体现了数据备份的重要性"},"children":[{"type":"text","value":"大概就是没有了"}]},{"type":"text","value":"。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"今天这篇文章简单讲讲个人和 Fediverse 吧。"}]},{"type":"element","tag":"h2","props":{"id":"历史"},"children":[{"type":"text","value":"历史"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"个人应该是 23 年踏入的 Fediverse，当时是朋友 "},{"type":"element","tag":"tip","props":{"tip":"个人 Fediverse 领路人，包括后提“轻社区”和纷语联合维护者"},"children":[{"type":"text","value":"Ice Year"}]},{"type":"text","value":" 安利进入的，最早是参与已经似掉的一个轻社区建设项目。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"当时使用的程序是 "},{"type":"element","tag":"tip","props":{"tip":"基于 Misskey 的分支版本，现在已经不再维护。"},"children":[{"type":"text","value":"Firefish"}]},{"type":"text","value":" ，最早只是觉得它很漂亮才去用的，并没有参与 Fedi 社交的感觉。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"当时简中这边有关 Misskey 系列的实例和生态都可说比较少见，所以实际上当时还算是 "},{"type":"element","tag":"tip","props":{"tip":"看什么新用什么"},"children":[{"type":"text","value":"比较潮流"}]},{"type":"text","value":"吧。"}]},{"type":"element","tag":"pic","props":{"caption":"纷语驿站留存的截图，出于隐私保护和其他考虑已处理掉部分信息","src":"https://blog-files.101045700.xyz/Fediverse/2025/Flojoy.webp"},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"后来那个实例似掉了，然后又有了 "},{"type":"element","tag":"tip","props":{"tip":"23 年上线，应该 24 年暴死的？记忆有些模糊了，现在依旧可以在一些较老的实例里检索到其过往贴文和用户信息"},"children":[{"type":"text","value":"纷语驿站"}]},{"type":"text","value":"，虽然也似了吧。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"纷语后来的暴似可以说更加可惜，纯属程序不稳定外加当时维护组经验不足，未能及时恢复运行，拖到最后完全无法修复，只能成为一座墓碑。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"这两年也有用过自己维护一段时间的“极光星“，友人维护的“轻语湾”等，都是基于 "},{"type":"element","tag":"tip","props":{"tip":"基于 Misskey 的分支版本，添加部分特性等，目前绝赞维护中"},"children":[{"type":"text","value":"Sharkey"}]},{"type":"text","value":"建设。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"后来自己也在 Misskey 实例 "},{"type":"element","tag":"tip","props":{"tip":"没错，就是 Summer Pockets REFLECTION BLUE 里那个鸟白岛"},"children":[{"type":"text","value":"鸟白岛 Toshiro"}]},{"type":"text","value":"建号和活跃了一段时间。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"最后大概是定居到了现在的 "},{"type":"element","tag":"a","props":{"href":"https://circle.tkg3.top","rel":["nofollow"]},"children":[{"type":"text","value":"Circlari"}]},{"type":"text","value":"，由我和朋友 "},{"type":"element","tag":"tip","props":{"tip":"轻语湾站长，在前几个包括纷语在内的社区也是联合维护者"},"children":[{"type":"text","value":"辰灿汐"}]},{"type":"text","value":"联合维护，希望 Circlari 能够平安的走下去。"}]},{"type":"element","tag":"h2","props":{"id":"介绍"},"children":[{"type":"text","value":"介绍"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"先简单介绍下前文所提到的三个 Fediverse 程序，他们都是基于 "},{"type":"element","tag":"tip","props":{"tip":"基于 Pump.io 的 ActivityPump 协议的一个开放源代码、去中心化的通信协议。"},"children":[{"type":"text","value":"ActivityPub 协议"}]},{"type":"text","value":"的。"}]},{"type":"element","tag":"h3","props":{"id":"misskey"},"children":[{"type":"text","value":"Misskey"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"开发工作由日本开发者 Syuilo （しゅいろ）开始于2014年。"}]},{"type":"element","tag":"pic","props":{"caption":"Misskey 官网，绝赞可爱捏","src":"https://blog-files.101045700.xyz/Fediverse/MisskeyHome.png"},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在最初开发时， Misskey 的主要功能是网络布告板（BBS），最初它也并不是一个去中心化的服务，但是通过在2018年实现 ActivityPub 协议，这使 Misskey 实现了去中心化，并受到了更多人的认可和使用，一直延续至今。"}]},{"type":"element","tag":"alert","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Misskey这个名称，来自开发者Syuilo当时正在热衷于听的艺术家May'n的歌曲《Brain Diver》的歌词。"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"自那以后，任何人都能参与开发 Misskey 了，直到现在，其开发工作仍然在积极进行当中。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"要论个人对 Misskey 的印象，Misskey 是一个相当友好的 Fediverse 程序，其操作难度和部署占用等远低于前辈 "},{"type":"element","tag":"tip","props":{"tip":"简中也称“长毛象”，同样基于 ActivityPub 协议的 Fediverse 程序，比 Misskey 出现晚但加入 ActivityPub 早"},"children":[{"type":"text","value":"Mastodon"}]},{"type":"text","value":"，个人感受上论起功能性和 UI 界面是强于长毛象的，个人推荐新人 Fediverse 站长和用户都去使用它，"},{"type":"element","tag":"del","props":{},"children":[{"type":"text","value":"当然我不是歧视长毛象，只是 Misskey 真的个人感觉更为简单一些。"}]}]},{"type":"element","tag":"h3","props":{"id":"firefish"},"children":[{"type":"text","value":"Firefish"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"开发工作始于2022年，基于 Misskey 的魔改分支版本， "},{"type":"element","tag":"tip","props":{"tip":"2025年2月已完全终止维护，程序主站已停止运行"},"children":[{"type":"text","value":"已经不再维护"}]},{"type":"text","value":"，其一些魔改甚至影响到了现在的 Misskey 功能和设计。"}]},{"type":"element","tag":"pic","props":{"caption":"个人在 Firefish 时期留存的截图（当时个人网名与现在也有不同），已处理部分信息","src":"https://blog-files.101045700.xyz/Fediverse/2025/Firefish.webp"},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Firefish 可以说在 Misskey 早期时候是相当不错的分支版本，与 Misskey 有一些设计不同， "},{"type":"element","tag":"tip","props":{"tip":"比如 Misskey 在今年4月才加入 Beta 的聊天功能，在很早之前的 Firefish 已经出现"},"children":[{"type":"text","value":"一些功能在当时对比 Misskey 还是有很大区别的"}]},{"type":"text","value":"。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Firefish 的结束维护也有一段很难说的故事，我虽然有记忆但难以整理写出来，有兴趣可以自己去查一下。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"现在 Fediverse 仍有部分实例在运行着 Firefish，简中实例代表应该是 DVD Chat。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"个人还是喜欢 Firefish 的一些理念和设计的，对它结束维护感到真挺可惜的，现在已经运行最新版 Firefish 的可以通过降级后迁移其他 Misskey 程序。"}]},{"type":"element","tag":"h3","props":{"id":"sharkey"},"children":[{"type":"text","value":"Sharkey"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"具体什么时候开始开发的个人已难以考据，它也是基于 Misskey 的分支版本， "},{"type":"element","tag":"tip","props":{"tip":"Sharkey 在早期相比 Misskey 有着许多突出变化和优势，随着 Misskey 的更新，已逐渐追平"},"children":[{"type":"text","value":"现在相比 Misskey 的最大特色"}]},{"type":"text","value":"应该是“兼容 Mastodon 的 API，包括 OAuth2”。"}]},{"type":"element","tag":"pic","props":{"caption":"现在的 Circlari 是基于 Sharkey Stelpolva 运行的","src":"https://blog-files.101045700.xyz/Fediverse/2025/Circlari.webp"},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"总体来说作为 Misskey 系的分支版本可能对 Mastodon 系兼容会更好，开发相对激进，现在用户量也不少。"}]},{"type":"element","tag":"h2","props":{"id":"个人与联邦宇宙"},"children":[{"type":"text","value":"个人，与联邦宇宙"}]},{"type":"element","tag":"h3","props":{"id":"个人"},"children":[{"type":"text","value":"个人"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"认真谈无法在这里谈太多原因，个人更多是把它作为微博客来使用的，分享些许短篇生活方面的帖子等，也能够通过它与更多联邦宇宙中的人进行交流。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"个人也无法忍受中心化平台所带来的一些问题等。"}]},{"type":"element","tag":"h3","props":{"id":"联邦宇宙"},"children":[{"type":"text","value":"联邦宇宙"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"联邦宇宙的使用没有门槛！你只需要有某一个实例的账号，就可以关注、评论、点赞其他实例上的用户及其文章。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"这些账号的域名不一样也没有关系，只要 "},{"type":"element","tag":"tip","props":{"tip":"协议不同也不是完全不能通信，比如 Bluesky（AT协议）和 ActivityPub 协议程序之间也有人维护了连通网站，本质是转换协议的机器人账号"},"children":[{"type":"text","value":"使用协议相同，就能通信"}]},{"type":"text","value":"。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"加入联邦宇宙的门槛并不高，除了有开放注册的大量实例外，自己也可以轻松自建实例加入它。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"相对于传统平台的所有人“共聚一堂”，联邦宇宙以各个实例为点，连点成线。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"tip","props":{"tip":"那么中继应该就是空间站了，乐"},"children":[{"type":"text","value":"如宇宙中的星星之间，互相联系和通讯"}]},{"type":"text","value":"。"}]},{"type":"element","tag":"h2","props":{"id":"现状"},"children":[{"type":"text","value":"现状"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"因为某些平台的抽象操作，联邦宇宙在这两年的用户上涨速度飞快。"}]},{"type":"element","tag":"pic","props":{"caption":"数据来自 FediDB，图片截取日期为 2025年5月20日","src":"https://blog-files.101045700.xyz/Fediverse/2025/FediDBHome.webp"},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在程序用户占比方面，截至目前， "},{"type":"element","tag":"tip","props":{"tip":"这里对比不是很公平，Misskey 这里不包括 Misskey 的分支版本，而 Mastodon 的分支版本很少"},"children":[{"type":"text","value":"老大哥 Mastodon 的用户占比为 72.2%，而 Misskey 的占比则为 1.2%"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"总之来说，看到这个趋势我是感到喜忧参半的，喜的当然是用户越来越多，但忧的也是用户越来越多。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"早年的联邦宇宙小的时候， "},{"type":"element","tag":"tip","props":{"tip":"实际上联邦宇宙本身特性就注定了它的一些问题"},"children":[{"type":"text","value":"可能秩序还好一些"}]},{"type":"text","value":"，现在除了新增用户大量涌入单一实例外，也要小心部分无规则用户，对于只是想简单交流的我，最大感受就是实例管理上黑名单越来越长。"}]}],"toc":{"title":"","searchDepth":4,"depth":4,"links":[{"id":"前言","depth":2,"text":"前言"},{"id":"历史","depth":2,"text":"历史"},{"id":"介绍","depth":2,"text":"介绍","children":[{"id":"misskey","depth":3,"text":"Misskey"},{"id":"firefish","depth":3,"text":"Firefish"},{"id":"sharkey","depth":3,"text":"Sharkey"}]},{"id":"个人与联邦宇宙","depth":2,"text":"个人，与联邦宇宙","children":[{"id":"个人","depth":3,"text":"个人"},{"id":"联邦宇宙","depth":3,"text":"联邦宇宙"}]},{"id":"现状","depth":2,"text":"现状"}]}},"_type":"markdown","_id":"content:posts:2025:05:fediverse.md","_source":"content","_file":"posts/2025/05/fediverse.md","_stem":"posts/2025/05/fediverse","_extension":"md","_original_dir":"/posts"},{"_path":"/2025/05/gal-up","_dir":"05","_draft":false,"_partial":false,"_locale":"","title":"旮沓给木太好玩辣——2025年上半Gal历程个人总结","description":"注意！本文包含以下要素： Ciallo～(∠・ω< )⌒★ ,炒冷饭大师雪碧社😡 ,Key 社你真的...😭","date":"2025-05-18T16:30:00.000Z","categories":["旮瘩给木"],"tags":["Galgame"],"image":"https://blog-files.101045700.xyz/Gal2025Up/SPRB/AP2.webp","readingTime":{"text":"38 min read","minutes":37.91,"time":2274600,"words":7582},"body":{"type":"root","children":[{"type":"element","tag":"alert","props":{"type":"warning"},"children":[{"type":"element","tag":"template","props":{"v-slot:title":""},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"注意！"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"本文可能含有部分剧透，请谨慎阅读！"}]}]},{"type":"element","tag":"h2","props":{"id":"前言"},"children":[{"type":"text","value":"前言"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在以前我完全不玩Gal，可能对于Gal的偏见甚至可能还停留在“黄油”阶段（现在谁再说Gal全是黄油我必狠狠教育他一通😋）"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"总之我玩Gal的历程还很短，正式来说应该就是去年12月开始玩的，那时候玩的都是些许比较短的作品，没啥体统。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"大概是一月多买了 "},{"type":"element","tag":"tip","props":{"tip":"倒不至于 49 年入国军，而且现在 Deck 是真的便宜"},"children":[{"type":"text","value":"Steamdeck LCD"}]},{"type":"text","value":" ，之后用它玩了一些自己库里有的独立游戏，比如夜雀食堂，星露谷物语一类的。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"然后很快我就发现了它的”正确用法“（迫真）。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"今年3月，在 Steam 上《爱上火车 Last Run!!》史低的时候，我使用捆绑包（Kr & Ps捆绑售卖）购入了这部作品，把它作为了我 Gal 的正式入坑作。"}]},{"type":"element","tag":"h2","props":{"id":"爱上火车"},"children":[{"type":"text","value":"爱上火车！"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"我在选择《爱上火车》作为入坑作时候，应该是衡量了一下的，当时在我这跟它打擂台的作品应该是 "},{"type":"element","tag":"tip","props":{"tip":"虽然后面我也买了吧"},"children":[{"type":"text","value":"《苍之彼方的四重奏》"}]},{"type":"text","value":" ，最后一番思考后还是选择了它作为我的入坑作，这正式打开了我对于 Gal 的大门。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"","src":"https://blog-files.101045700.xyz/Gal2025Up/Maitetsu/Home.webp"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"tip","props":{"tip":"毕竟隔壁有跟朋友推荐入坑作是拔作岛的，当然我不是说这游戏不好"},"children":[{"type":"text","value":"有一部好的 Gal 入坑作是很重要的"}]},{"type":"text","value":" ，我属于没有人跟我推荐然后自己跑去选了这部游戏。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"说了这么多，也正式说一下我的一些感想和整理，首先介绍我的本游戏 XP 角色：波莱特，八六。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"游戏进入个人线几乎无难度，基本玩过一次都知道怎么进对应角色个人线，部分个人线需先完成其他个人线才能解锁，在第一次游玩时可选个人线为：八六（个人极度不推荐第一次游玩就选择），波莱特，日日姬。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"我的实际游玩以后，在我心里首先是“崇敬”，它像是一个可以随时拿出来反复回味的精致模型一样，让我想要为之珍藏和 "},{"type":"element","tag":"tip","props":{"tip":"虽然是去安利了一个"},"children":[{"type":"text","value":"安利给我的朋友"}]},{"type":"text","value":"。"}]},{"type":"element","tag":"h3","props":{"id":"简介"},"children":[{"type":"text","value":"简介"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"《爱上火车》系列由日本 Lose 社 发布于2016年3月25日，而我游玩的是于2020年发布的《爱上火车Last Run!!》，其为系列前作《爱上火车 Pure Station-》的加长版，新增原有线路的后日谈及新线路，并重写了总集线，字数高达200万字。本作由Cura担当原画与人物设计，进行豹负责剧本，并由tO(と)主导演出效果。中日文版同步在日本与海外进行发售。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"结合部分现实原型构筑了一个铁路衰败晚期的架空世界，游戏文本中存在大量铁路专业术语，并贴心地做了解释，不论 "},{"type":"element","tag":"tip","props":{"tip":"优秀的内置Wiki系统和浅显易懂的讲解"},"children":[{"type":"text","value":"是否是铁路迷都能享受作品的剧情魅力"}]},{"type":"text","value":"。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"游戏内部有着将近400张 CG，200多首 BGM ，游戏全程使用了 "},{"type":"element","tag":"a","props":{"href":"https://zh.wikipedia.org/wiki/E-mote","rel":["nofollow"]},"children":[{"type":"text","value":"E-mote"}]},{"type":"text","value":" 技术和包括男主在内的全角色配音，每个角色都有专属的OP与ED，购买游戏还送原生音轨，实在是太良心了。"}]},{"type":"element","tag":"h3","props":{"id":"感想"},"children":[{"type":"text","value":"感想"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"本作作为实际意义上的R18，实际采用了HCG与主线分开的形式设计，不打补丁，不看HCG，也不会影响任何游戏体验，给所有玩家都有了很好的选择"}]},{"type":"element","tag":"alert","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"不推荐在通关主线前看任何HCG！忠告！"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"八六啊😢","src":"https://blog-files.101045700.xyz/Gal2025Up/Maitetsu/86.webp"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"游戏整体系统设计很舒服，UI本身设计比较协调好用，游戏中可以通过下方滑块来显示章节进度，还有拖动式章节进度选择（这点真的绝赞！未读章节会使用红点提示。）。\n"},{"type":"element","tag":"img","props":{"alt":"","src":"https://blog-files.101045700.xyz/Gal2025Up/Maitetsu/UI1.webp"},"children":[]},{"type":"text","value":"\n本作使用的 E-mote 技术在这也有了优势体现，几乎没有静止的画面，并且在 CG 鉴赏这里，玩家可以进行十几项微调以求拍出最好的 CG 照片。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"E-mote 技术把角色的立绘分为几个部分并进行细微的移动，达成动态画面的效果。你可以看到角色随着呼吸胸脯上下起伏，脸部的微动以及眨眼等小动作，会使整个画面看起来更灵动，这样的视觉效果将在所有线路中全程伴随着玩家，在Gal界里也是非常少见的（我目前玩的就只有火车用了这项技术）。\n"},{"type":"element","tag":"img","props":{"alt":"","src":"https://blog-files.101045700.xyz/Gal2025Up/Maitetsu/UI2.webp"},"children":[]},{"type":"text","value":"\n在存档系统方面，不同于常规Gal的框框式保存，它使用的是类似于电脑文件夹保存，要使用的时候可以根据条件“保存时间、场景顺序“进行排列分类，新颖又方便。\n"},{"type":"element","tag":"img","props":{"alt":"","src":"https://blog-files.101045700.xyz/Gal2025Up/Maitetsu/UI3.webp"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"del","props":{},"children":[{"type":"text","value":"同时，HCG内容丰富，玩法多样，大小多少皆有。"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"首先无疑《爱上火车》讲的是火车的故事，游戏中存在着的大量铁路专业术语也强调着这个事实。“对铁路不感兴趣的玩家会觉得无聊吗？”"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"这个问题我可以明确回答：在Gal里，无聊的从来不是强专业性剧本，而是剧本内容本身。只要处理得当，一定是很有趣的。”"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在我整个游戏流程中，开始的时候可能确实对于各种铁路专业名词有感到昏昏欲睡，但在随着游戏的不断进行，我开始不自觉的专心致志跟随着他们的故事历程，开始思考想象游戏对话为玩家描述的场面，研究着蒸汽火车的构造， "},{"type":"element","tag":"tip","props":{"tip":"上课时候都没这么专心"},"children":[{"type":"text","value":"开始记忆和了解那些专业名词的含义"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"可以说在我整个游戏历程（40h标准时长，重玩时长50h）里， "},{"type":"element","tag":"tip","props":{"tip":"标准三主角线，总集，仲国线"},"children":[{"type":"text","value":"游戏给了我最佳的视听体验和心路历程变化"}]},{"type":"text","value":"，即使在我已经反复游玩过的现在，我偶尔也打开游戏打开鉴赏听一下音乐和看看章节或者Wiki。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"它是我最爱的 Galgame 之一，尽管游戏某些部分对我可能较为难以接受，但在我心目中，它确实可以排在前列。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"题外：不过现在比起铁路拟人化，痛车类更符合潮流。据萌娘百科记载，痛战斗机是这类的先祖，早在一战期间，就有了，不过当时二次元文化应该还尚未形成。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"","src":"https://blog-files.101045700.xyz/Gal2025Up/Maitetsu/RussiaFire.webp"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"同时，你也能看到俄罗斯的二次元定制导弹服务（现在没了，但不会永远没有）。"}]},{"type":"element","tag":"h3","props":{"id":"尾声"},"children":[{"type":"text","value":"尾声"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"虽然 Lose 似了，跑去卖音声了，但是这并不代表《爱上火车》系列本身不行，我作为一个 Gal 圈资历尚浅的玩家，也无法对于 Lose 解散一事做出十分客观的评价，所以我就不评价这件事了。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在我心中，永远留着它的一个位置。"}]},{"type":"element","tag":"h2","props":{"id":"苍之彼方的四重奏"},"children":[{"type":"text","value":"苍之彼方的四重奏"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"我在第一次游玩完成《爱上火车》系列的几天后，在《苍之彼方的四重奏》在 Steam 迎来第二次史低时，选择购入并游玩了这部作品。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"游戏进入个人线难度中等，可在无攻略情况下通过游戏经验完成全个人线，整体不算难进个人线。"}]},{"type":"element","tag":"h3","props":{"id":"简介-1"},"children":[{"type":"text","value":"简介"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"《"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"苍之彼方的四重奏"}]},{"type":"text","value":"》（日语：蒼の彼方のフォーリズム，英语：Aokana: Four Rhythm Across the Blue）是由Sprite（雪碧社）制作的电子游戏，于2014年11月28日发售，并有 "},{"type":"element","tag":"tip","props":{"tip":"烂作，改百合是什么抽象操作"},"children":[{"type":"text","value":"动画"}]},{"type":"text","value":"、漫画、小说、Fan Disc、Drama CD等衍生作品。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"个人游玩的是2019年9月28日上线的 Steam 版，基础分辨率提升至2K，由 HIKARI FIELD 发行中文版。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"","src":"https://blog-files.101045700.xyz/Gal2025Up/Aokana/Home.webp"},"children":[]}]},{"type":"element","tag":"h3","props":{"id":"感想-1"},"children":[{"type":"text","value":"感想"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"先我在游玩前不算很看好这部作品，但在实际游玩后，还是给了我很不错的体验，中间还有动画的前情提要，整体给了我很强的追番感觉，包括也很热血，但在玩完以后，可能对其印象还是略有不足。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"tip","props":{"tip":"基于最新游玩体验"},"children":[{"type":"text","value":"个人心目角色排序"}]},{"type":"text","value":"：美咲，真白，明日香，莉佳。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"以上排序有较强个人 XP 因素影响，但说剧情方面，莉佳给的戏份真的是“紫毛女路人”，外加其个人线路塑造的反派角色存在较大争议（我个人也不是很喜欢），但莉佳确实符合我首先 XP 😢，可惜整体戏份真的太少了。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"个人可能对空竞不是很感冒，所以对于着重塑造空竞的明日香线感受较为一般，当然这并非主要原因，除了 XP 是较大因素影响，可能我也对明日香线塑造的“空竞天才”明日香略感不真实？可能我还是更喜欢更真实的东西吧。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"","src":"https://blog-files.101045700.xyz/Gal2025Up/Aokana/CG1.webp"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"鸢泽美咲，一个 XP 和剧情上都对我口的角色，在角色塑造上也是最为立体的。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"“美咲，请你救救我～🥺”，鸢神既是晶也的阴影，同时也是救星。两人在追逐梦想的过程中相互救赎，相互进步， 美咲给我的感受就是这样，一脸无所谓的怠惰感，对什么都装出用三分力，实则好胜心极强，努力到无可救药又或是刻意不敢努力，害怕被否定，害怕被轻视，害怕认清自己的上限，让大家认清自己也是凡人，只有用这种办法去确认自己的价值。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在明日香线中明显缺失了对晶也过去的故事展开，缺失了那段我们很想了解的晶也从大家认知的天才陨落的完整历史。美咲是天才吗？或者说，究竟什么样的人叫做天才？ 明日香是天才，因为她能把受挫的悲伤转化为前进的动力，不会害怕失败。 美咲也是天才，只要有人相信她是天才她就能进步，所以她也是天才。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"所以仅为个人观点，个人感觉美咲才是真女主线。"}]},{"type":"element","tag":"h3","props":{"id":"炒冷饭大师雪碧社"},"children":[{"type":"text","value":"炒冷饭大师雪碧社"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"雪碧社，成立于2010年，并在同年公布了该会社的第一个企划《恋爱，选举与巧克力》，恋选在2010年的美少女年度大赏取得了综合排名第六名的好成绩，作为雪碧的处女作可谓是开门红。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在2014年发布了《苍之彼方的四重奏》，在倒闭前成功发售了《苍之彼方的四重奏-Extra1》，作为人气角色有坂真白的后日谈，Extra1的发售并没有减缓雪碧社倒闭进程，反而因为 "},{"type":"element","tag":"tip","props":{"tip":"我是￥27 入的Steam官中版，原价甚至史低价入从非纯 XP 真白来说还是不值"},"children":[{"type":"text","value":"单线作售价过高"}]},{"type":"text","value":"和过短的剧情被人诟病。\n"},{"type":"element","tag":"img","props":{"alt":"","src":"https://blog-files.101045700.xyz/Gal2025Up/Aokana/Extra1.webp"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在这几年，反复仰卧起坐的雪碧社发布了苍彼和恋巧的高清重制版（炒冷饭一流），但是倒闭前的策划《苍之彼方的四重奏-Zwei》和复活后在2022年的策划《苍之彼方的四重奏-if01》全部杳无音信。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"","src":"https://blog-files.101045700.xyz/Gal2025Up/Aokana/If01.webp"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"然后2024年8月29日，雪碧一直宣传的10周年纪念作《Everlasting Flowers》（中文译名《永恒之花》）正式发售（评价较低）。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"如今，未萌的if线已经推迟三年还未发售，未萌if线的官网页面也已经无法访问。同时在官网更新的最新企划规划中，未萌if的企划似乎被无限搁置，游戏的发售时间改为待定。加上雪碧即使被炎上也坚决不做明日香后日谈和莉佳后日谈的行为，雪碧似乎在告诉大家：以后要和苍彼系列切割了。"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"","src":"https://blog-files.101045700.xyz/Gal2025Up/Aokana/Extra2.webp"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"总之还是比较不高兴的，好在雪碧还是在2022年端出了《苍之彼方的四重奏-Extra2》稍微满足了我这个美咲粉（Steam版我还是买不起），我只能祝雪碧百合全年龄大卖了。"}]},{"type":"element","tag":"h2","props":{"id":"魔女的夜宴"},"children":[{"type":"text","value":"魔女的夜宴"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在玩柚子社游戏之前早已听闻柚子社大名（雾）， "},{"type":"element","tag":"tip","props":{"tip":"实在是玩不下去千恋万花这种传说类，轻点骂😭"},"children":[{"type":"text","value":"魔宴是我玩完以上两部 Galgame 之后选择的第一部柚子社作品"}]},{"type":"text","value":"。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"","src":"https://blog-files.101045700.xyz/Gal2025Up/SOW/Home.webp"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"个人在4月游戏史低时在 Steam 购入 FHD 官中版，但在3月末实际已经玩了学习版并且推进了一部分进程。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"魔宴有两个非常出名的梗，在玩游戏之前我就已经听过了：分别是援桌骑士和Ciallo～(∠・ω< )⌒★。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"游戏进入个人线难度稍高，尤其是和奏线需要先完成一次游戏 "},{"type":"element","tag":"tip","props":{"tip":"也包括单身线在内"},"children":[{"type":"text","value":"任意个人线"}]},{"type":"text","value":"才 "},{"type":"element","tag":"tip","props":{"tip":"我真的也很喜欢好兄弟"},"children":[{"type":"text","value":"可进入"}]},{"type":"text","value":"，可能需要看一些攻略才能精准进入其他女主个人线，本作发售较早，所以没有柚子社后面游戏会有的流程图系统。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"","src":"https://blog-files.101045700.xyz/Gal2025Up/SOW/0721.webp"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"个人 XP 角色顺位："},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"宁宁（0721）"}]},{"type":"text","value":"，和奏，憧子，巡（怪猎天尊美咕噜），䌷"}]},{"type":"element","tag":"h3","props":{"id":"简介-2"},"children":[{"type":"text","value":"简介"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"《魔女的夜宴》（サノバウィッチ）是由柚子社制作发行的恋爱文字冒险游戏，于 2015年2月27日面向 PC 平台发售。英文版由NekoNyan代理，于2018年10月27日在Steam、NekoNyan的网上商城还有其他平台发售，并发行实体版。中文版由HIKARI FIELD代理，于 "},{"type":"element","tag":"tip","props":{"tip":"柚子厨特有的0721"},"children":[{"type":"text","value":"2023年7月21日"}]},{"type":"text","value":"在Steam发售。"}]},{"type":"element","tag":"h3","props":{"id":"感想-2"},"children":[{"type":"text","value":"感想"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"魔宴带给了我极佳的印象和体验，柚子社优秀的系统设计值得加分，虽然 H 是游戏内主线构成元素，缺失 H 可能会看不懂主线，不过个人不喜游戏内 HCG，剧情还是很棒的，男主也是柚子社男主里领先的。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"以下线路介绍和线路个人感想涉及剧透较低。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"共通线"}]},{"type":"text","value":"：共通线最开头的图书馆战神剧情真的把我震惊到了，游戏开局就把期待值拉满，长度适中，宁宁和美咕噜剧情比较多，学姐较少，太花心基本送进单身线。有关紬的信息等在共通线较少，基本只介绍魔女身份和代价，其他信息基本都放在个人线。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"宁宁线"}]},{"type":"text","value":"：核心女主，剧情量断档式领先，且有专门的二周目。剧情多花样多。个人上来就直接玩的宁宁线，在之前一周目结局真的给我吓一跳，个人对柚子社游戏了解较少，以为真发了把刀子给我。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"回到主页发现了“Restart”并且结束后才知道柚子社都发假刀😅"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"因幡巡线"}]},{"type":"text","value":"：本线偏发糖，俩人的对话十分腻歪，剧情设定等与其他线一对比不是很严谨，个人在游戏上来推完宁宁线后接着推了和奏线，完成了她们的后日谈，然后游戏就搁置了很久才继续推，推的第三条线就是美咕噜学妹。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"总体来说还是比较欢乐的，但个人重推欲望较低（个人玩Gal习惯多次重推感兴趣的角色线）"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"憧子线"}]},{"type":"text","value":"：黄段子女王（不是），学姐线还是给我很大的情绪波动感受的，也是伏笔埋的很深的角色。在之前学姐常常能梦到男主他妈的时候我曾经有过他俩会不会有亲戚关系的想法什么的，结果是更深的关系。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"我很喜欢这条线保科（男主）的表现，是心目中完美的充满责任感男主的存在，或者说保科表现整体游戏上都很不错，但这根线真的十分富有责任感。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"和奏线"}]},{"type":"text","value":"：感觉是送的隐藏线路，短是真的短（俩小时基本完事），遗憾是真遗憾，整体带给了我很多惊喜，中间还送了一段专属 MV，在本线路也有与其他线路上因为选择不同，所导致和奏不同的线路表现等。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"观众大喊 Braveman 我真的笑了，这条线总之我也很喜欢，但真的好短😢，对保科魔法刻画较少，更偏向日常。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"䌷线"}]},{"type":"text","value":"：个人对于这根线的感想较差，暂时不列出了。"}]},{"type":"element","tag":"h3","props":{"id":"后言"},"children":[{"type":"text","value":"后言"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"魔宴带给了我时而欢笑，时而消沉的游戏体验，整体剧情男女主设计很不错，虽然无法做到女主们尽善尽美，但是确实带给我很好的体验，确实是值得一玩的佳作。"}]},{"type":"element","tag":"h2","props":{"id":"恋爱与选举与巧克力"},"children":[{"type":"text","value":"恋爱与选举与巧克力"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"个人了解和去玩本游戏属于它十周年重制版发布外加之前玩了雪碧社的《苍之彼方的四重奏》，作为雪碧社炒冷饭又一力作，个人在简单了解它的剧情以后第一印象是“味太重“。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"不过玩了之后感觉实际还行，游戏个人未完成全部剧情，改的番剧倒是完整看完了。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在Circlari Fediverse上有"},{"type":"element","tag":"a","props":{"href":"https://circle.tkg3.top/notes/a6xshc5pw888001o","rel":["nofollow"]},"children":[{"type":"text","value":"个人完整贴文"}]},{"type":"text","value":"表述个人基本感想。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"","src":"https://blog-files.101045700.xyz/Gal2025Up/Lce/Home.webp"},"children":[]}]},{"type":"element","tag":"h3","props":{"id":"简介-3"},"children":[{"type":"text","value":"简介"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"《恋爱与选举与巧克力》（日语：恋と選挙とチョコレート）是由Sprite在2010年10月29日发售的恋爱冒险游戏，是 Sprite 创社后与 Fairys 共同制作的首款游戏，并有 PSP 版游戏和衍生的动画及漫画等作品。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"PC高清重置版（High Resolution）于2020年12月25日发售。高清重置版将分辨率由原版 800x600（4:3）提升到最高 4K 等多种 16:9 分辨率，并追加 CG，取消原版一周目强制锁定千里线、部分重要剧情强制自动推进等限制。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"官方中文版由 HIKARI FIELD 代理，基于高清重置版制作，于2025年3月28日发行。"}]},{"type":"element","tag":"h3","props":{"id":"个人贴文原文"},"children":[{"type":"text","value":"个人贴文原文"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"之前玩了雪碧社的《苍之彼方的四重奏》，今年他们在Steam上架了十周年重置版的《恋爱与选举与巧克力》，这游戏是雪碧社第一部作品，2010年推出，现在在Steam推出的是高清重置版。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"由于对苍彼的认可和大概看游戏似乎还可以，我便去搞来一个玩玩，它在一开始给我这个没品鉴过多少Galgame的留下了比较差劲的印象，感觉就是那种“味儿大”，选举加校园还有党争，让我想起了去年被骂的某个角色好看但是主线也是学生会选举党争的某部动漫。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"总之这种剧本放在今天可能并不完全会被大众所广泛接受，十几年前搞这种非典型认知的学校设计倒确实有些意思，毕竟这也确实是十几年前的游戏。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"也能看出来，本作剧本是想整点活，什么民意调查、政策对于普通学生的影响、贿选等等等等现实选举中存在的东西都被放了进去，并且做了比较详实的设定补充。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"不过整体来看，有些现实过了头，所以说对于我这种一开始奔着和苍彼同样的“校园青春恋爱喜剧”去看的玩家来说可能比较难以接受，就是那种既当不成乐子看，也当不了严肃故事看的感觉。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"抛开选举和党争这种胃疼因素，这游戏角色个人线塑造很成功，它是真的把角色的缺点与不堪给你写了出来，而不是存在那种“完美”角色，也没有简单带过角色不堪的历史，让你一点一点理解和接受她们的全部，和她们修成正果。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"可能带有一些“青春疼痛文学”的感觉吧，放在现在来说并不能被大多数人所接受可能，但是在它诞生的那个年代，大家好像都是这样（Clannad，石头门），而恋巧似乎已经是其中比较温柔的那个了吧。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"总的来说，我还是需要为我之前的一些没完全理解的负面看法对它道个歉，可能它的各种元素在今天看来有些过时，但在我细细品鉴过剧情后，我最终认可了它。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"附：在之前被负面看法左右放下游戏那段时间我又去看了它改的番剧，虽然这样可能会让我回游戏被提前剧透了不少， "},{"type":"element","tag":"tip","props":{"tip":"起码比起同样是雪碧社的苍彼改的番来说，这个番优秀太多了，细看还是值得去看看的"},"children":[{"type":"text","value":"但番也确实是我对这游戏看法转变和回归的契机"}]},{"type":"text","value":"。"}]},{"type":"element","tag":"h2","props":{"id":"拔作岛"},"children":[{"type":"text","value":"拔作岛"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"名字叫拔作岛但并不是单纯拔作，个人先玩的学习版，已购入第一部 Steam 官中版。"}]},{"type":"element","tag":"pic","props":{"caption":"从左至右：麻沙音、文乃、奈奈濑、雏见、美岬","src":"https://blog-files.101045700.xyz/Gal2025Up/Others/Ba1.webp"},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"虽然抽象但实际上也是剧情作，且实际上很有笑点和热血，个人感觉实际上值得一玩。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"无个人线进入难度（三主角第一部），有隐藏路线（文乃线），个人截至写文时未完成游戏全部线路，仅 "},{"type":"element","tag":"tip","props":{"tip":"后日谈还是不看的好"},"children":[{"type":"text","value":"完成奈奈濑和雏见路线"}]}]},{"type":"element","tag":"h3","props":{"id":"简介-4"},"children":[{"type":"text","value":"简介"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"《生活在拔作一样的岛上我该怎么办才好？》（抜きゲーみたいな島に住んでる貧乳はどうすりゃいいですか？），简称《拔作岛（ぬきたし）》，是Qruppo在2018年7月27日发售的恋爱冒险类型成人游戏，亦是它的首部作品。当中由浮丸つぼね和如月千幸共同担当原画，仓骨治人和神近ゆう合作撰写剧本。续作《拔作岛2》在2019年7月26日开售。改编漫画在2020年12月25日开始连载，由まめおじたん作画，单行本由集英社出版。"}]},{"type":"element","tag":"h3","props":{"id":"感想-3"},"children":[{"type":"text","value":"感想"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"每根女主个人线都会有一个对应“反派”附属。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"奈奈濑线属于用最好的牌（青梅竹马 + 初恋 + 傲娇骚话Bitch + 料理人妻 + 运动天才）做了最平淡的路线，且对其剧情迫害过于严重（听说迫害一直延伸到了第二部），且本线文乃结局也较为悲惨，剧本罪大恶极。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"虽然在学校是给人轻浮的印象，但内心是个相当纯情的少女，为了规避 ghs 条款才把自己塑造成 Bitch 的形象，并且也是男主妹妹（橘麻沙音）最中意的对象之一。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"雏见线个人觉得是 "},{"type":"element","tag":"tip","props":{"tip":"我不是 loli 控，但剧情真的很好"},"children":[{"type":"text","value":"完整度最高且非常精彩的个人线"}]},{"type":"text","value":"，由于男主在本线作为间谍参与 FS 组织，因此该线对于 FS 有更深层次的描述。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"本作虽然背景抽象，但个人游玩感受不错，剧情方面也有些许可圈可点之处，个人还没玩拔作岛第二部，听说第二部才是真神。"}]},{"type":"element","tag":"h2","props":{"id":"summer-pockets-reflection-blue"},"children":[{"type":"text","value":"Summer Pockets REFLECTION BLUE"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"他来了，本场超级真神，朋友 "},{"type":"element","tag":"badge","props":{"img":"https://blog.iceyear.eu.org/img/avatar_hu_a03d367ff590d53f.webp","link":"https://blog.iceyear.eu.org"},"children":[{"type":"text","value":"Ice Year"}]},{"type":"text","value":"反复安利后个人去玩的神作，在个人反复吃上几把刀子以后依旧十分喜爱的神作，个人心目中极高地位的神作。（反复强调）"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"太阳的光辉照亮了一个又一个那样的日常"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n不知不觉中，那些回忆已经消失在记忆的彼方"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n唯一无法忘却的，就只有在那天所感受到的，那份耀眼的光芒"}]}]},{"type":"element","tag":"h3","props":{"id":"简介-5"},"children":[{"type":"text","value":"简介"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"《Summer Pocket》有两个版本，一个是《Summer Pocket》，一个是《Summer Pocket：Reflection Blue》，两个版本的区别在于《Summer Pocket：Reflection Blue》增加了三个可攻略角色。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"","src":"https://blog-files.101045700.xyz/Gal2025Up/SPRB/Home.webp"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"《Summer Pockets》是Visual Art’s游戏品牌Key制作并于2018年6月29号发售的一部美少女游戏。2016年12月9日，Key官方推特公布形象封面与四位女主角的人设草图等初步情报，这部作品的主题句是“唯有那份眩目，未曾忘却（眩しさだけは　忘れなかった。）”，讲述了男主角和岛上的女孩在濑户内海的一个名为鸟白岛的离岛上相遇和交流发生的故事。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"2019年12月7日，Key宣布推出追加角色与剧情等的扩充版游戏《Summer Pockets REFLECTION BLUE》，并于2020年6月26日发售。2021年12月29日VISUAL ARTS于时间特番直播中正式宣布《Summer Pockets》将改编成动画。"}]},{"type":"element","tag":"h3","props":{"id":"感想-4"},"children":[{"type":"text","value":"感想"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在游玩 SPRB 的 40 个小时（基本主线）里，它真切的带给了我欢笑与眼泪， "},{"type":"element","tag":"tip","props":{"tip":"鼻涕都进喉咙里了，得亏是躺床上玩没让别人看到"},"children":[{"type":"text","value":"半夜游玩哭了好几次"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"前面的基本线都可以说是“好笑有有些泪点的中上级作品”，AP 线则是把整个作品上升到了可以说是满分神作的高度。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"前面所有的铺垫，伏笔，都在为了 AP 线服务。你要想正确理解和评价这款游戏，就必须得先以全线通关为前提。少玩一点都没法正确理解这游戏的水平。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"夏日的阳光和欢笑"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"一开始游玩时候，真的有种“想要查询制作组精神状态”的感想。游戏很多地方都有“不正经”而充满欢笑的选项，也有让人十分意料之外的展开。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"游戏开场就有一个老奶奶问主角为什么来岛上，选项给了四个文艺的选项，在后面的剧情里，也因为小岛上的消息灵通，这个选项越传越奇怪，什么折了翼失了恋，家里的小狗去世了的奇怪传言无时无刻拷打着男主，每个线都要经历一次，看到这个选项已经开始笑了。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"","src":"https://blog-files.101045700.xyz/Gal2025Up/SPRB/X1.webp"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"除了开头经典老奶奶外号拷打男主以外，游戏里让人印象最深的就是下图（bushi），能够引用四处以上的“萝莉控”。"}]},{"type":"element","tag":"pic","props":{"caption":"我真的不是萝莉控","src":"https://blog-files.101045700.xyz/Gal2025Up/SPRB/UmiLolik.webp"},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"整体来说，游戏有很多幽默点，但又同时能够在该让你哭出来的时候就哭出来😭。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"一般的Gal在选项设计上，给出的选项频率低、数量少，主要的用途还是用于决定后续的角色进线以及影响结局。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"《Summer Pockets》则不一样，游戏的选择大致分为两种，一种是在大地图界面的“今天找谁做什么”选项（这种选项影响进线）"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"","src":"https://blog-files.101045700.xyz/Gal2025Up/SPRB/Map.webp"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"另一种是对话中的选项，这些选项的可选数量非常多，而且出现频率很高，但这些选项很多时候都是殊途同归的效果，只是会触发不一样的演出片段，不会对结局造成任何的影响。"}]},{"type":"element","tag":"pic","props":{"caption":"我相信你会做出正确的选择","src":"https://blog-files.101045700.xyz/Gal2025Up/SPRB/Q1.webp"},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"偏偏就是这些对结局毫无影响的选项， "},{"type":"element","tag":"tip","props":{"tip":"上次有这种感觉还是在玩星铁的时候"},"children":[{"type":"text","value":"给到了玩家放飞自我的欢乐"}]},{"type":"text","value":"。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"这些问题总会在正常选项里混入几个充满奇奇怪怪但是又让人忍不住想去选的选项，就好像有人递给你一个橘子告诉你非常酸，你就会觉得反正酸不死反而很想去试试看到底有多酸的感觉。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"这样的选项设计无疑是成功的。进线与娱乐选项泾渭分明，给了玩家丰富的作死空间，又不用玩家为作死而负责。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"除了游戏本身，收集也是一种乐趣"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"夏日口袋系列可以说是我玩过一众Gal里可玩性最高的一批，内置了两个啸游戏——乒乓球和 "},{"type":"element","tag":"tip","props":{"tip":"Dokemon"},"children":[{"type":"text","value":"岛可梦"}]},{"type":"text","value":"，以及一个能让收集狂魔狂喜的成就系统。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"岛可梦通过设置诱饵捕捉岛可梦然后和他人对战，有着属性相克，技能释放，必杀技，排行榜，称号等元素，是不是有些既视感了？（）"}]},{"type":"element","tag":"pic","props":{"caption":"我可是要励志成为最强的岛可梦斗士啊","src":"https://blog-files.101045700.xyz/Gal2025Up/SPRB/Dokemon.webp"},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"而乒乓球那就真是乒乓球了，只不过带技能的，球飞来时单击屏幕上对应的落点即可（Steamdeck触摸屏玩家十分开心），也有些让人哭笑不得的元素，比如被诅咒嗨梨👻叫以及球拍破了用手打这种事情😅"}]},{"type":"element","tag":"pic","props":{"caption":"呃呃呃呃呃呃呃呃呃呃呃呃呃呃呃——————","src":"https://blog-files.101045700.xyz/Gal2025Up/SPRB/PingPong.webp"},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"想要游戏达成全成就白金，乒乓球和岛可梦玩家们必然一战。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"之前也说过，游戏中选项会导致后续演出略微不同但都能回到正轨，成就系统就是为了这些不同的小演出而服务的。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"玩家去到不同的地方，和不同的人说不同的话，都可能获得这些名称古怪带着一丝中二病的成就。整体可玩性很高，而且很有趣。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"","src":"https://blog-files.101045700.xyz/Gal2025Up/SPRB/Record.webp"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Key社，我哭死..."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"那可是 Key 社啊，出过 Clannad 的那个 Key 社，我上一秒还在笑，下一秒剧情就能急转直下，再过一段便要你眼泪决堤。AP线真的要哭死在床上。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"","src":"https://blog-files.101045700.xyz/Gal2025Up/SPRB/AP1.webp"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"这部作品让我感触最深的地方在于它所描绘的基本的亲情。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"白羽作为母亲照料羽未的 ALKA 线让我感触颇深，看着他们在一起的欢乐的时光， "},{"type":"element","tag":"tip","props":{"tip":"值得一提，我推AP线时候刚好母亲节"},"children":[{"type":"text","value":"我渐渐能理解到父母看我的眼光，理解他们给予我的爱，这些感触不时让我眼角泛起泪花。"}]}]},{"type":"element","tag":"h3","props":{"id":"尾言"},"children":[{"type":"text","value":"尾言"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"","src":"https://blog-files.101045700.xyz/Gal2025Up/SPRB/AP2.webp"},"children":[]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"有与重要的人创造回忆的夏天；有把短暂的时光变成炫目回忆的夏天；有从小小的冒险开始，缔结起深厚情谊的夏天；有知晓永不放弃能带来多少可能性的夏天。"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"这个夏天，这场夏日之旅，是我最难忘的回忆。"}]},{"type":"element","tag":"h2","props":{"id":"收尾和杂谈"},"children":[{"type":"text","value":"收尾和杂谈"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在这篇文章的最后，也简单随便聊聊我在 Gal 上的对自己的基本准则和游玩环境吧。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"简单来说可以概括为以下几点："}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"游玩不断线，要玩一个个人线就一次性玩到底（至少玩到后日谈前）"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"NTR 一边凉快去，个人只追求纯爱。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"HCG 可以有，但个人基本 80% 时候都会按住 Ctrl Skip"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"补丁是基本要去打的，有HCG参考第三点。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"tip","props":{"tip":"当然你也可以理解为防止传出奇怪的声音"},"children":[{"type":"text","value":"耳机是必须要戴的，要的就是极致的视听体验（看番时也是必须戴耳机）"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"主玩剧情作，拔作不是不能玩，但是主要还是喜欢剧情比重较大的作品。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"主要还是躺在床上用 Steamdeck 玩 Gal 比较多。"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"个人游玩设备和环境基本是 Arch Linux （Steamdeck+Arch PC），虽然这让我吃了不少苦头（比如 CG 放不出来），但是还是要激流勇进不是（实际上俩设备都额外装了Win双系统）"}]}],"toc":{"title":"","searchDepth":4,"depth":4,"links":[{"id":"前言","depth":2,"text":"前言"},{"id":"爱上火车","depth":2,"text":"爱上火车！","children":[{"id":"简介","depth":3,"text":"简介"},{"id":"感想","depth":3,"text":"感想"},{"id":"尾声","depth":3,"text":"尾声"}]},{"id":"苍之彼方的四重奏","depth":2,"text":"苍之彼方的四重奏","children":[{"id":"简介-1","depth":3,"text":"简介"},{"id":"感想-1","depth":3,"text":"感想"},{"id":"炒冷饭大师雪碧社","depth":3,"text":"炒冷饭大师雪碧社"}]},{"id":"魔女的夜宴","depth":2,"text":"魔女的夜宴","children":[{"id":"简介-2","depth":3,"text":"简介"},{"id":"感想-2","depth":3,"text":"感想"},{"id":"后言","depth":3,"text":"后言"}]},{"id":"恋爱与选举与巧克力","depth":2,"text":"恋爱与选举与巧克力","children":[{"id":"简介-3","depth":3,"text":"简介"},{"id":"个人贴文原文","depth":3,"text":"个人贴文原文"}]},{"id":"拔作岛","depth":2,"text":"拔作岛","children":[{"id":"简介-4","depth":3,"text":"简介"},{"id":"感想-3","depth":3,"text":"感想"}]},{"id":"summer-pockets-reflection-blue","depth":2,"text":"Summer Pockets REFLECTION BLUE","children":[{"id":"简介-5","depth":3,"text":"简介"},{"id":"感想-4","depth":3,"text":"感想"},{"id":"尾言","depth":3,"text":"尾言"}]},{"id":"收尾和杂谈","depth":2,"text":"收尾和杂谈"}]}},"_type":"markdown","_id":"content:posts:2025:05:gal-up.md","_source":"content","_file":"posts/2025/05/gal-up.md","_stem":"posts/2025/05/gal-up","_extension":"md","_original_dir":"/posts"},{"_path":"/2025/05/maitetsu-video-fix","_dir":"05","_draft":false,"_partial":false,"_locale":"","title":"《爱上火车》在 Linux 下的视频播放修复","description":"本文介绍了《爱上火车》系列在 Linux Proton 环境下播放游戏内视频的修复","date":"2025-05-19T10:30:00.000Z","categories":["旮瘩给木"],"tags":["Galgame"],"image":"https://blog-files.101045700.xyz/MaitetsuVideoFix/Home.webp","readingTime":{"text":"6 min read","minutes":5.845,"time":350700,"words":1169},"body":{"type":"root","children":[{"type":"element","tag":"alert","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://www.xiaoheihe.cn/app/bbs/link/153105496","rel":["nofollow"]},"children":[{"type":"text","value":"本文类似版本"}]},{"type":"text","value":"个人首发于小黑盒，你在此看到的版本为基于小黑盒版本的专业向二次修订版。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"本次修订版本发布于个人博客，目前仅在小黑盒和个人博客发布过本文。"}]}]},{"type":"element","tag":"h2","props":{"id":"小剧场"},"children":[{"type":"element","tag":"tip","props":{"tip":"基于今天和朋友的聊天以及之前看到的一些聊天梗做的夸张虚构，图一乐就行了。"},"children":[{"type":"text","value":"小剧场"}]}]},{"type":"element","tag":"chat","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"{:2025-05-19 16:30:00}"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"{朋友}"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"鬆啊，马上要 520 了，不去陪女朋友在这写博客啊，你是打算运用你在《爱上火车》《苍之彼方的四重奏》《魔女的夜宴》《恋爱与选举与巧克力》《拔作岛》《夏日口袋》中学到的技巧来哄你的女朋友嘛。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"{:鬆撤回了一条消息}"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"{.鬆}"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"我真不会哄女朋友😭，今天发完文章明天还得思考怎么哄女朋友。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"{朋友}"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"太惨了，现充不会哄女朋友，今天帮我看看电脑问题呗。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"{.鬆}"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"不看，说这样的风凉话你自己研究去。"}]}]},{"type":"element","tag":"h2","props":{"id":"前言"},"children":[{"type":"text","value":"前言"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"之前文章也提到过，我是一个 Steamdeck Gal 玩家，而且是用 Linux 跑 Galgame 的“勇者”。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"既然都用 Linux 跑 Gal 了，那么会遇到各种奇奇怪怪问题都算正常了。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在 Linux 游玩《爱上火车 LastRun!!》时，我就遇到了相关组件缺失问题，使用环境为Proton 9.0，会出现人物线开场动画无法正常播放问题。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"Maitetsu Home","src":"https://blog-files.101045700.xyz/Gal2025Up/Maitetsu/Home.webp"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"一开始我尝试使用Proton GE环境再次运行进行尝试，但单纯使用ProtonGE环境后反而问题更加严重，到剧情线开场动画会直接黑屏卡死。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"ProtonDB","src":"https://blog-files.101045700.xyz/MaitetsuVideoFix/ProtonDB.webp"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在四处寻找解决方法时，发现ProtonDB下的一位用户提出了解决方案，使用Protontricks进行补丁修补，经过验证，问题得到了很好的解决。"}]},{"type":"element","tag":"h2","props":{"id":"为什么不用-wine"},"children":[{"type":"text","value":"为什么不用 Wine？"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"这个综合原因是有很多的，但简单来说就是笔者是购买的 Steam 官方中文版，使用 Steam Proton 进行运行游戏，很难切换 Proton 以外的第三方兼容层。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"使用第三方版本在 Deck 的 Gamescope 游戏桌面启动和切换也不方便和不美观。"}]},{"type":"element","tag":"alert","props":{"type":"question"},"children":[{"type":"element","tag":"template","props":{"v-slot:title":""},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"值得注意！"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"tip","props":{"tip":"似乎很多 Linux Galgame 玩家都使用它（雾）"},"children":[{"type":"text","value":"笔者使用的 Linux 发行版为 Arch Linux"}]},{"type":"text","value":"，桌面环境为 GNOME，后文教程也主要围绕其进行，对于其他发行版，大部分情况下也就是安装方式和软件包存在差异。"}]}]},{"type":"element","tag":"h2","props":{"id":"安装-protontricks"},"children":[{"type":"text","value":"安装 Protontricks"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"对于 Steam 官方中文版，我们需要先安装 Protontricks 来实现对其补丁和环境修复。"}]},{"type":"element","tag":"h3","props":{"id":"arch-linux-命令安装"},"children":[{"type":"text","value":"Arch Linux 命令安装"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"对于 Arch Linux 且非 Flathub 用户来说，安装 Protontricks 相当简单，而且不需要额外的权限配置。"}]},{"type":"element","tag":"copy","props":{"code":"sudo pacman -S protontricks"},"children":[]},{"type":"element","tag":"h3","props":{"id":"flathub-安装"},"children":[{"type":"text","value":"Flathub 安装"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"对于其他 Linux 发行版，首先你先去安装 Flatpak，然后我们可以通过 Flathub 来安装 Protontricks。"}]},{"type":"element","tag":"h4","props":{"id":"切换国内-flathub-官方源"},"children":[{"type":"text","value":"切换国内 Flathub 官方源"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"我们可以通过以下指令为 Flatpak 切换中国大陆地区的下载源提高下载速度。"}]},{"type":"element","tag":"h5","props":{"id":"上海交通大学"},"children":[{"type":"text","value":"上海交通大学"}]},{"type":"element","tag":"copy","props":{"code":"sudo flatpak remote-modify flathub --url=https://mirror.sjtu.edu.cn/flathub"},"children":[]},{"type":"element","tag":"h5","props":{"id":"中国科学技术大学"},"children":[{"type":"text","value":"中国科学技术大学"}]},{"type":"element","tag":"copy","props":{"code":"sudo flatpak remote-modify flathub --url=https://mirrors.ustc.edu.cn/flathub"},"children":[]},{"type":"element","tag":"h4","props":{"id":"获取-protontricks-和-flatseal"},"children":[{"type":"text","value":"获取 Protontricks 和 Flatseal"}]},{"type":"element","tag":"h5","props":{"id":"软件中心安装"},"children":[{"type":"text","value":"软件中心安装"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"前往 GNOME 软件中心搜索并获取 Protontricks 和 Flatseal"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"","src":"https://blog-files.101045700.xyz/MaitetsuVideoFix/Fl_Protontricks.webp"},"children":[]}]},{"type":"element","tag":"h5","props":{"id":"命令安装"},"children":[{"type":"text","value":"命令安装"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"我们也可以通过以下命令从 Flatpak 安装程序："}]},{"type":"element","tag":"copy","props":{"code":"flatpak install flathub com.github.Matoking.protontricks"},"children":[]},{"type":"element","tag":"copy","props":{"code":"flatpak install flathub com.github.tchx84.Flatseal"},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"","src":"https://blog-files.101045700.xyz/MaitetsuVideoFix/Sh_Protontricks.webp"},"children":[]}]},{"type":"element","tag":"h2","props":{"id":"权限配置"},"children":[{"type":"text","value":"权限配置"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"我们需要通过 Flatseal 为 Protontricks 配置相关权限保证它能读写文件和正常运行，首先打开 Flatseal 并找到 Protontricks。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"","src":"https://blog-files.101045700.xyz/MaitetsuVideoFix/Flatseal01.webp"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"向下翻找到文件系统相关配置，把这四个全部打开（勾选），为程序分配全部文件系统访问权限，然后关闭 Flatseal，此处配置操作结束。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"","src":"https://blog-files.101045700.xyz/MaitetsuVideoFix/Flatseal02.webp"},"children":[]}]},{"type":"element","tag":"h2","props":{"id":"修补组件"},"children":[{"type":"text","value":"修补组件"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"接下来打开 Protontricks，会出现一个提示框让我们选择需要打补丁的游戏，我们以爱上火车做例子，在此处选择对应的游戏并且选择 OK"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"如果报错请先确定你是否已经通过 Proton 启动过一次游戏，不然此处可能会报错找不到游戏相关 Proton 文件。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"","src":"https://blog-files.101045700.xyz/MaitetsuVideoFix/Protontricks-01.webp"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在一番确定（可能有选择默认 Proton 容器）操作后，我们可以来到如下页面。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"","src":"https://blog-files.101045700.xyz/MaitetsuVideoFix/Protontricks-02.webp"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在此处我们选择“安装Windows DLL 或组件”来为游戏安装缺失的相关组件，以爱上火车为例，需要安装 DirectShow 和 WMP9 组件来修补视频播放。"}]},{"type":"element","tag":"alert","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"如果下载组件失败，你可能需要配置海外网络环境。"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"选定完需要修补的组件后，单击“确定“开始修补安装，期间可能会弹窗和出现安装页面，全部遵循其标准顺序确定或安装。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"","src":"https://blog-files.101045700.xyz/MaitetsuVideoFix/Protontricks-03.webp"},"children":[]}]},{"type":"element","tag":"h2","props":{"id":"测试"},"children":[{"type":"text","value":"测试"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"我们关闭Protontricks然后启动游戏测试效果，测试发现游戏内开场动画已经可以正常得到播放，很显然我们修补成功了！"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"","src":"https://blog-files.101045700.xyz/MaitetsuVideoFix/MaitetsuGames.webp"},"children":[]}]}],"toc":{"title":"","searchDepth":4,"depth":4,"links":[{"id":"小剧场","depth":2,"text":"小剧场"},{"id":"前言","depth":2,"text":"前言"},{"id":"为什么不用-wine","depth":2,"text":"为什么不用 Wine？"},{"id":"安装-protontricks","depth":2,"text":"安装 Protontricks","children":[{"id":"arch-linux-命令安装","depth":3,"text":"Arch Linux 命令安装"},{"id":"flathub-安装","depth":3,"text":"Flathub 安装","children":[{"id":"切换国内-flathub-官方源","depth":4,"text":"切换国内 Flathub 官方源","children":[{"id":"上海交通大学","depth":5,"text":"上海交通大学"},{"id":"中国科学技术大学","depth":5,"text":"中国科学技术大学"}]},{"id":"获取-protontricks-和-flatseal","depth":4,"text":"获取 Protontricks 和 Flatseal","children":[{"id":"软件中心安装","depth":5,"text":"软件中心安装"},{"id":"命令安装","depth":5,"text":"命令安装"}]}]}]},{"id":"权限配置","depth":2,"text":"权限配置"},{"id":"修补组件","depth":2,"text":"修补组件"},{"id":"测试","depth":2,"text":"测试"}]}},"_type":"markdown","_id":"content:posts:2025:05:maitetsu-video-fix.md","_source":"content","_file":"posts/2025/05/maitetsu-video-fix.md","_stem":"posts/2025/05/maitetsu-video-fix","_extension":"md","_original_dir":"/posts"},{"_path":"/takagi","_dir":"posts","_draft":false,"_partial":false,"_locale":"","title":"君と光：我与高木圈的故事","description":"一切要始于一次好奇的探寻…. 我算是搭上了高木圈的末班车…","date":"2024-03-07T11:24:26.000Z","updated":"2024-03-08T15:30:53.000Z","categories":["动漫番剧"],"tags":["动漫","番剧","高木"],"readingTime":{"text":"6 min read","minutes":5.125,"time":307500,"words":1025},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在 2022 年的那个暑假，天气很热，在这样一个天气，没有什么是比家里蹲吹风扇，刷 B 站更好的事情了（Doge），于是我打开了 B 站，然后它给我推送了一个视频：“”西片太太开车预警“，我有点好奇的点进了这个视频，然后就有了一种莫名其妙的感觉：”这是什么番，我要看一看。”"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在评论区的引导下，我在B站搜索到了《擅长捉弄的高木同学》第二季（当时B站并没有第一季，然而现在上线了也把视频那段删了，悲），我决定先看一看第二季，于是我打开了第二季第一集…"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"25 分钟后…. 我：”甜啊！太甜了！“"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"于是我前往某些地方从第一季开始看，然后无法自拔…"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"没错，就这样我成为了一个高木粉！（十分草率）"}]},{"type":"element","tag":"h2","props":{"id":"机缘"},"children":[{"type":"text","value":"机缘"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"光看没人聊可不行啊？然后碰巧 QQ 有 QQ 频道这个功能，我便莫名其妙的去搜索高木同学，于是就加入了 QQ 频道，但此时我处于潜水状态，我选择再去二刷番剧（扭动），然后我在频道内搜寻相关资源打算存下来收藏看，但此时却发现频道还在使用万恶的百度网盘共享文件，这玩意的下载速度…简直要命，不过好在频道有一位大佬提供了番剧直链，我得以获取到了视频资源。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"但作为一个爱折腾的人，碰巧此时，我对建站产生了兴趣并正在研究建站。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在网上看到有人搭建资源站以后，我产生了一个改变了我以后在高木圈做的事情的想法：建一个资源站，让大家都能在线下载和预览高木同学的相关资源。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"于是在一番钻研和鼓捣以后，2022 年 10 月，我建立了一个属于高木的资源站。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"此时我在做的事情就是搬砖，把资源搬过去，不过这是一件麻烦的事情，我在频道把我的资源站拿了出来，然后此时对我之后建设起了重要贡献的人出现了－－牧丰。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"他看到了资源站并表示愿意帮我填充资源，这肯定是一件好事，能减少我的工作量，也能更快的完成资源站的基本建设。 于是在他的帮助下，我完成了基本资源建设，资源站就这样放在那。"}]},{"type":"element","tag":"h2","props":{"id":"深入"},"children":[{"type":"text","value":"深入"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"再往后随着我们兴趣的提升，已经不能简单的鼓捣一个资源站了，于是2023年末期有了木创社的雏形——一个Github组织，建设了高木Wiki站，高木Fan社区（项目还是暴死了），我也结识了更多朋友，比如南栀，还有WaterApple，Ice Year等等，不尽其数，遇到了他们，大家也度过了一段快乐的时光。"}]},{"type":"element","tag":"h2","props":{"id":"结语"},"children":[{"type":"text","value":"结语"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"本段结语来自Ice Year的文章《君と光》（灵感丧失）"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"2023 年 10 月 12 日，《擅长捉弄人的高木同学》的漫画也正式完结。在夏日祭的烟火之下，相互的表明心意与拥抱圆满了一直脑补的场景（喜极而泣）。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"或许以后，了解高木同学的人可能终将会会逐渐减少吧，甚至哪怕是高木和西片也终将走向平常的生活（原高木同学可以印证） 然而，这种 “一期一会”，我想也正是《擅长捉弄人的高木同学》想表现的，没有惊天动地，没有缠绵萦绕，只是日常。细节与碎片中，更表现了高木与西片相遇的珍贵，也表现了观者与其相遇的珍贵。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"认真体悟其中的美好和温暖，这便是意义所在吧。多年以后，当回想起曾经的温暖的时候，“君と光 映すだけ”，便足够了。"}]}],"toc":{"title":"","searchDepth":4,"depth":4,"links":[{"id":"机缘","depth":2,"text":"机缘"},{"id":"深入","depth":2,"text":"深入"},{"id":"结语","depth":2,"text":"结语"}]}},"_type":"markdown","_id":"content:posts:takagi.md","_source":"content","_file":"posts/takagi.md","_stem":"posts/takagi","_extension":"md","_original_dir":"/posts"}],"navigation":[{"title":"关于","_path":"/about"},{"title":"云盘","_path":"/drive"},{"title":"Link","_path":"/link"},{"title":"2024","_path":"/2024","children":[{"title":"08","_path":"/2024/08","children":[{"title":"Docker部署Outline并使用Github作为OAuth服务","_path":"/2024/08/docker-deploy-outline"}]},{"title":"09","_path":"/2024/09","children":[{"title":"记一次被1Panel官方应用商店拒绝合并","_path":"/2024/09/1panel-appstore-refused"}]},{"title":"10","_path":"/2024/10","children":[{"title":"GitHub Action构建Shiroi Docker镜像","_path":"/2024/10/shiroi-docker-deployment"},{"title":"编写1Panel应用商店第三方程序","_path":"/2024/10/write-1panel-app"}]},{"title":"12","_path":"/2024/12","children":[{"title":"破坏型迁移：站点反复横跳与稳定工作","_path":"/2024/12/break-change-2024"},{"title":"为Oyiso主题引入TianliGPT摘要","_path":"/2024/12/oyiso-tianligpt"}]}]},{"title":"2025","_path":"/2025","children":[{"title":"01","_path":"/2025/01","children":[{"title":"为了一碟醋包了一盘饺子：构建和提交Kazumi AUR包","_path":"/2025/01/arch-aur-kazumi"}]},{"title":"05","_path":"/2025/05","children":[{"title":"浅谈个人与 Fediverse 的过往历史和现状","_path":"/2025/05/fediverse"},{"title":"旮沓给木太好玩辣——2025年上半Gal历程个人总结","_path":"/2025/05/gal-up"},{"title":"《爱上火车》在 Linux 下的视频播放修复","_path":"/2025/05/maitetsu-video-fix"}]}]},{"title":"君と光：我与高木圈的故事","_path":"/takagi"}]}