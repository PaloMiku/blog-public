import{T as _,P as w,Q as O,r as I,_ as N}from"./CtcbsmkQ.js";import G from"./BJ__i-9K.js";import{r as x,J as v,N as T,Q as u,aN as m,b5 as n,aQ as y,b7 as S,aP as V,bq as B,K as i,l as R,a_ as z,b8 as F,aU as A,aV as L,b4 as f,x as h,aZ as b,aR as p,aT as C,T as $}from"./D6ajeznB.js";import"./D-deoX8n.js";function U(){const t=x("#ff1a8c"),s=x("");function a(){const e=t.value.trim();O(e)?s.value="":s.value="无效的十六进制颜色值，格式应为 #RRGGBB"}function l(e){const c=_[e].hex;t.value=c,w(e),s.value=""}function o(){try{const e=localStorage.getItem("themeColor");if(e)if(e.startsWith("custom:")){const c=e.slice(7);t.value=c}else e in _&&(t.value=_[e].hex)}catch{}}function r(){t.value="#ff1a8c",s.value="",w("pink")}return{customHexColor:t,hexInputError:s,handleColorChange:a,applyPresetColor:l,restoreColor:o,reset:r,THEME_COLORS:_}}const W={class:"color-customize-item"},j={class:"color-input-group"},H={key:0,class:"error-message"},M={class:"preset-colors"},K=["title","onClick"],Q=v({__name:"ColorCustomize",setup(t){const{customHexColor:s,hexInputError:a,handleColorChange:l,applyPresetColor:o}=U();return T(()=>{const r=localStorage.getItem("themeColor");r&&(r.startsWith("custom:")?s.value=r.slice(7):r in _&&(s.value=_[r].hex))}),(r,e)=>(m(),u("div",W,[e[3]||(e[3]=n("div",{class:"item-header"},[n("label",{class:"customize-label"},"主题色"),n("span",{class:"customize-description"},[S("自定义主题的主要色调，可在 "),n("a",{href:"https://htmlcolorcodes.com/zh/",target:"_blank",rel:"noopener noreferrer"},"HTML颜色代码"),S(" 获取颜色代码")])],-1)),n("div",j,[V(n("input",{"onUpdate:modelValue":e[0]||(e[0]=c=>R(s)?s.value=c:null),type:"text",class:"hex-input",placeholder:"#ff1a8c",onInput:e[1]||(e[1]=(...c)=>i(l)&&i(l)(...c)),onBlur:e[2]||(e[2]=(...c)=>i(l)&&i(l)(...c))},null,544),[[B,i(s)]]),n("div",{class:"color-preview",style:z({backgroundColor:i(s)})},null,4)]),i(a)?(m(),u("div",H,F(i(a)),1)):y("",!0),n("div",M,[(m(!0),u(A,null,L(i(_),(c,g)=>(m(),u("button",{key:g,class:"preset-color-btn",style:z({backgroundColor:c.hex}),title:c.label,onClick:d=>i(o)(g)},null,12,K))),128))])]))}}),D=Object.assign(f(Q,[["__scopeId","data-v-8f61b2d6"]]),{__name:"PopoverThemeCustomizerColorCustomize"}),P=[{key:"AIExcerpt",label:"显示智能摘要",description:"在文章正文上方显示 AI 生成的摘要"},{key:"FeaturedArticles",label:"显示精选文章",description:"在首页展示精选文章轮播 (Slide)"},{key:"Comments",label:"显示评论区",description:"在文章下方展示评论区，关闭则全站评论区不可见"}];function X(t){const s=h({get:()=>t.showAIExcerpt,set:e=>{e!==t.showAIExcerpt&&t.toggleAIExcerpt()}}),a=h({get:()=>t.showFeaturedArticles,set:e=>{e!==t.showFeaturedArticles&&t.toggleFeaturedArticles()}}),l=h({get:()=>t.showComments,set:e=>{e!==t.showComments&&t.toggleComments()}});function o(e){switch(e){case"AIExcerpt":return s.value;case"FeaturedArticles":return a.value;case"Comments":return l.value;default:return!1}}function r(e){switch(e){case"AIExcerpt":s.value=!s.value;break;case"FeaturedArticles":a.value=!a.value;break;case"Comments":l.value=!l.value;break}}return{showAIExcerpt:s,showFeaturedArticles:a,showComments:l,getFeatureState:o,toggleFeature:r,FEATURE_TOGGLES:P}}const q={class:"feature-toggles"},J=["checked","onChange"],Z={class:"toggle-content"},Y={class:"toggle-label"},ee={class:"toggle-description"},te=v({__name:"FeatureToggles",setup(t){const s=I(),{showAIExcerpt:a,showFeaturedArticles:l,showComments:o}=X(s);function r(c){switch(c){case"AIExcerpt":return a.value;case"FeaturedArticles":return l.value;case"Comments":return o.value;default:return!1}}function e(c){switch(c){case"AIExcerpt":a.value=!a.value;break;case"FeaturedArticles":l.value=!l.value;break;case"Comments":o.value=!o.value;break}}return(c,g)=>(m(),u("div",q,[(m(!0),u(A,null,L(i(P),d=>(m(),u("label",{key:d.key,class:"toggle-switch"},[n("input",{type:"checkbox",checked:r(d.key),onChange:Ce=>e(d.key)},null,40,J),g[0]||(g[0]=n("span",{class:"toggle-slider"},null,-1)),n("div",Z,[n("span",Y,F(d.label),1),n("span",ee,F(d.description),1)])]))),128))]))}}),se=Object.assign(f(te,[["__scopeId","data-v-4265c807"]]),{__name:"PopoverThemeCustomizerFeatureToggles"}),k={wenkai:'"LXGW WenKai Screen", "Inter", "Noto Sans SC-Local", "Noto Sans SC", system-ui, sans-serif',system:'system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans SC", sans-serif'};function oe(){const t=x("system");function s(o){t.value=o;const r=k[o];document.documentElement.style.setProperty("--font-basic",r),localStorage.setItem("fontPreference",o)}function a(){try{const o=localStorage.getItem("fontPreference");o&&o in k&&(t.value=o,s(o))}catch{}}function l(){t.value="system",s("system")}return{selectedFont:t,applyFont:s,restoreFont:a,reset:l,FONT_VALUES:k}}const ne={class:"font-select-item"},ae={class:"font-button-group"},le=v({__name:"FontSelect",setup(t){const{selectedFont:s,applyFont:a,restoreFont:l}=oe();return T(()=>{l()}),(o,r)=>(m(),u("div",ne,[r[2]||(r[2]=n("div",{class:"item-header"},[n("label",{class:"font-select-label"},"字体"),n("span",{class:"font-description"},"选择博客的显示字体，选择系统字体则优先使用系统本地安装的字体")],-1)),n("div",ae,[n("button",{class:b(["font-toggle-btn",{active:i(s)==="wenkai"}]),onClick:r[0]||(r[0]=e=>i(a)("wenkai"))}," LXGW WenKai ",2),n("button",{class:b(["font-toggle-btn",{active:i(s)==="system"}]),onClick:r[1]||(r[1]=e=>i(a)("system"))}," 系统字体 ",2)])]))}}),re=Object.assign(f(le,[["__scopeId","data-v-3505136a"]]),{__name:"PopoverThemeCustomizerFontSelect"}),E={simplified:"简体中文",traditional:"繁体中文"};function ce(t){const s=h({get:()=>t.language,set:l=>{l!==t.language&&t.toggleLanguage()}});function a(l){return E[l]}return{language:s,getLanguageLabel:a,LANGUAGE_OPTIONS:E}}const ie={class:"language-select-item"},ue={class:"language-button-group"},me=v({__name:"LanguageSelect",setup(t){const s=I(),{language:a}=ce(s);return(l,o)=>(m(),u("div",ie,[o[2]||(o[2]=n("div",{class:"item-header"},[n("label",{class:"language-select-label"},"语言"),n("span",{class:"language-description"},"切换网站的语言版本，支持简体中文和繁体中文")],-1)),n("div",ue,[n("button",{class:b(["language-toggle-btn",{active:i(a)==="simplified"}]),onClick:o[0]||(o[0]=r=>a.value="simplified")}," 简体中文 ",2),n("button",{class:b(["language-toggle-btn",{active:i(a)==="traditional"}]),onClick:o[1]||(o[1]=r=>a.value="traditional")}," 繁体中文 ",2)])]))}}),de=Object.assign(f(me,[["__scopeId","data-v-22a62887"]]),{__name:"PopoverThemeCustomizerLanguageSelect"}),pe={key:0,id:"z-theme-customizer"},ge={class:"customizer-header"},_e={class:"customizer-section"},ve={class:"customizer-section"},fe=v({__name:"ThemeCustomizer",props:{show:{type:Boolean},duration:{},onClose:{type:Function}},emits:["close"],setup(t,{emit:s}){const a=t,l=s,o=I();T(()=>{o.initAIExcerptSetting(),o.initFeaturedArticlesSetting(),o.initCommentsSetting(),o.initLanguageSetting()});function r(){a.onClose?.()||l("close")}return(e,c)=>{const g=N,d=G;return m(),u(A,null,[p($,{name:"float-in"},{default:C(()=>[t.show?(m(),u("div",{key:0,id:"z-theme-customizer-bgmask",onClick:r})):y("",!0)]),_:1}),p($,{name:"float-in"},{default:C(()=>[t.show?(m(),u("div",pe,[n("div",ge,[c[0]||(c[0]=n("h2",null,"中控台",-1)),c[1]||(c[1]=n("p",null,"在这里个性化站点",-1)),n("button",{class:"close-btn","aria-label":"关闭",onClick:r},[p(g,{name:"ph:x-bold"})])]),p(d,{tabs:["显示","功能"],border:""},{tab1:C(()=>[n("div",_e,[p(D),p(re),p(de)])]),tab2:C(()=>[n("div",ve,[p(se)])]),_:1})])):y("",!0)]),_:1})],64)}}}),ye=Object.assign(f(fe,[["__scopeId","data-v-5c61cfcb"]]),{__name:"PopoverThemeCustomizer"});export{ye as default};
