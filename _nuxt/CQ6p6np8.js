import{c as Q,T as J,_ as C,U as Y,m as q,V as ee,W as te,X as F,Y as V,Z as se,t as T}from"./CWL3lM_A.js";import oe from"./C9Ciy6OE.js";import{J as k,A as ne,x as b,M as I,Q as p,aO as g,b6 as e,aS as d,b8 as h,K as m,b5 as x,r as S,aR as L,aQ as z,bt as j,l as le,a$ as G,b9 as P,aV as U,aW as B,N as H,a_ as A,g as ae,o as ie,T as O,aU as y,bB as N}from"./uFNG57UN.js";import{_ as ce}from"./D_m-ULWD.js";import{d as ue}from"./DHEcmuBK.js";import re from"./CYoO6dnU.js";import"./D-deoX8n.js";const de={class:"build-info"},me={class:"info-section info-section--theme"},pe={class:"section-title"},ge={class:"info-section"},ve={class:"section-title"},_e={class:"info-section"},be={class:"section-title"},he={class:"info-section"},fe={class:"section-title"},Ce={class:"info-section"},ye={class:"section-title"},ke=k({__name:"BuildInfo",setup(a){const o=Q(),{public:{arch:n,ci:l,gitHash:s,nodeVersion:c,platform:t}}=ne(),u=s,v=b(()=>{const $=J[l];if(!$)return"";const _=$.startsWith("http")?I("img",{src:$,alt:""}):I(C,{name:$});return I("span",{},[_,` ${l.split(" ")[0]}`])}),r=Object.assign({},...Object.values(ue.catalogs)),[i,M]=Y.split("@"),f=b(()=>[...l?[{label:"构建平台",value:v.value,icon:"ph:rocket-launch-bold"}]:[],{label:"图片存储",value:()=>[I(C,{name:"devicon:cloudflare"})," Cloudflare R2"],icon:"ph:cloud-fill"},{label:"文章许可",value:o.copyright.abbr,icon:"ph:copyright-bold"},{label:"规范域名",value:q(o.url),icon:"ph:globe-bold"}]),D=b(()=>[{label:"Modify",value:ee,icon:"ph:git-commit-bold"},{label:"Hash",value:u,icon:"ph:hash-bold"}]),Z=b(()=>[{label:"Vue",value:r.vue,icon:"simple-icons:vuedotjs"},{label:"Nuxt",value:r.nuxt,icon:"simple-icons:nuxt"},{label:"Content",value:r["@nuxt/content"],icon:"ph:book-bold"}]),K=b(()=>[{label:"Node",value:c,icon:"la:node-js"},{label:i,value:M,icon:"simple-icons:pnpm"},{label:"OS",value:t,icon:"ph:desktop-bold"},{label:"Arch",value:n,icon:"ph:cpu-bold"}]),X=b(()=>[{label:"博客主题",value:"Clarity",icon:"simple-icons:nuxtdotjs"},{label:"站点版本",value:te,icon:"ph:tag-bold"},{label:"Github 仓库",value:()=>I("a",{href:"https://github.com/L33Z22L11/blog-v3",target:"_blank",rel:"noopener noreferrer"},"L33Z22L11/blog-v3"),icon:"ph:github-logo-bold"},{label:"软件协议",value:"MIT License",icon:"ph:scales-bold"}]);return($,_)=>{const w=ce;return g(),p("div",de,[e("div",me,[e("h3",pe,[d(m(C),{name:"lucide:info",class:"section-icon"}),_[0]||(_[0]=h(" 主题信息 ",-1))]),d(w,{items:X.value},null,8,["items"])]),e("div",ge,[e("h3",ve,[d(m(C),{name:"ph:globe-fill",class:"section-icon"}),_[1]||(_[1]=h(" 服务信息 ",-1))]),d(w,{items:f.value},null,8,["items"])]),e("div",_e,[e("h3",be,[d(m(C),{name:"ph:bookmark-fill",class:"section-icon"}),_[2]||(_[2]=h(" 仓库信息 ",-1))]),d(w,{size:"small",items:D.value},null,8,["items"])]),e("div",he,[e("h3",fe,[d(m(C),{name:"ph:stack-fill",class:"section-icon"}),_[3]||(_[3]=h(" 技术栈 ",-1))]),d(w,{size:"small",items:Z.value},null,8,["items"])]),e("div",Ce,[e("h3",ye,[d(m(C),{name:"ph:cpu-fill",class:"section-icon"}),_[4]||(_[4]=h(" 构建信息 ",-1))]),d(w,{size:"small",items:K.value},null,8,["items"])])])}}}),xe=Object.assign(x(ke,[["__scopeId","data-v-e5ba022c"]]),{__name:"PopoverThemeCustomizerBuildInfo"});function $e(){let a="#ff1a8c";if(typeof window<"u"){const t=localStorage.getItem("themeColor");t&&(t.startsWith("custom:")?a=t.slice(7):t in F&&(a=F[t].hex))}const o=S(a),n=S("");function l(){const t=o.value.trim();se(t)?n.value="":n.value="无效的十六进制颜色值，格式应为 #RRGGBB"}function s(t){const u=F[t].hex;o.value=u,V(t),n.value=""}function c(){o.value="#ff1a8c",n.value="",V("pink")}return{customHexColor:o,hexInputError:n,handleColorChange:l,applyPresetColor:s,reset:c,THEME_COLORS:F}}const we={class:"color-customize-item"},Ie={class:"color-input-group"},Fe={key:0,class:"error-message"},Se={class:"preset-colors"},ze=["title","onClick"],Le=k({__name:"ColorCustomize",setup(a){const{customHexColor:o,hexInputError:n,handleColorChange:l,applyPresetColor:s}=$e();return(c,t)=>(g(),p("div",we,[t[3]||(t[3]=e("div",{class:"item-header"},[e("label",{class:"customize-label"},"主题色"),e("span",{class:"customize-description"},[h("自定义主题的主要色调，可在 "),e("a",{href:"https://htmlcolorcodes.com/zh/",target:"_blank",rel:"noopener noreferrer"},"HTML颜色代码"),h(" 获取颜色代码")])],-1)),e("div",Ie,[z(e("input",{"onUpdate:modelValue":t[0]||(t[0]=u=>le(o)?o.value=u:null),type:"text",class:"hex-input",placeholder:"#ff1a8c",onInput:t[1]||(t[1]=(...u)=>m(l)&&m(l)(...u)),onBlur:t[2]||(t[2]=(...u)=>m(l)&&m(l)(...u))},null,544),[[j,m(o)]]),e("div",{class:"color-preview",style:G({backgroundColor:m(o)})},null,4)]),m(n)?(g(),p("div",Fe,P(m(n)),1)):L("",!0),e("div",Se,[(g(!0),p(U,null,B(m(F),(u,v)=>(g(),p("button",{key:v,class:"preset-color-btn",style:G({backgroundColor:u.hex}),title:u.label,onClick:r=>m(s)(v)},null,12,ze))),128))])]))}}),Ae=Object.assign(x(Le,[["__scopeId","data-v-8a45a927"]]),{__name:"PopoverThemeCustomizerColorCustomize"}),W=[{key:"AIExcerpt",label:"显示智能摘要",description:"在文章正文上方显示 AI 生成的摘要"},{key:"FeaturedArticles",label:"显示精选文章",description:"在首页展示精选文章轮播 (Slide)"},{key:"Comments",label:"显示评论区",description:"在文章下方展示评论区，关闭则全站评论区不可见"}];function Te(a){const o=b({get:()=>a.showAIExcerpt,set:t=>{t!==a.showAIExcerpt&&a.toggleAIExcerpt()}}),n=b({get:()=>a.showFeaturedArticles,set:t=>{t!==a.showFeaturedArticles&&a.toggleFeaturedArticles()}}),l=b({get:()=>a.showComments,set:t=>{t!==a.showComments&&a.toggleComments()}});function s(t){switch(t){case"AIExcerpt":return o.value;case"FeaturedArticles":return n.value;case"Comments":return l.value;default:return!1}}function c(t){switch(t){case"AIExcerpt":o.value=!o.value;break;case"FeaturedArticles":n.value=!n.value;break;case"Comments":l.value=!l.value;break}}return{showAIExcerpt:o,showFeaturedArticles:n,showComments:l,getFeatureState:s,toggleFeature:c,FEATURE_TOGGLES:W}}const Me={class:"feature-toggles"},Ee=["checked","onChange"],Pe={class:"toggle-content"},Oe={class:"toggle-label"},Ue={class:"toggle-description"},Ve=k({__name:"FeatureToggles",setup(a){const o=T(),{showAIExcerpt:n,showFeaturedArticles:l,showComments:s}=Te(o);function c(u){switch(u){case"AIExcerpt":return n.value;case"FeaturedArticles":return l.value;case"Comments":return s.value;default:return!1}}function t(u){switch(u){case"AIExcerpt":n.value=!n.value;break;case"FeaturedArticles":l.value=!l.value;break;case"Comments":s.value=!s.value;break}}return(u,v)=>(g(),p("div",Me,[(g(!0),p(U,null,B(m(W),r=>(g(),p("label",{key:r.key,class:"toggle-switch"},[e("input",{type:"checkbox",checked:c(r.key),onChange:i=>t(r.key)},null,40,Ee),v[0]||(v[0]=e("span",{class:"toggle-slider"},null,-1)),e("div",Pe,[e("span",Oe,P(r.label),1),e("span",Ue,P(r.description),1)])]))),128))]))}}),Ge=Object.assign(x(Ve,[["__scopeId","data-v-4265c807"]]),{__name:"PopoverThemeCustomizerFeatureToggles"}),E={wenkai:'"LXGW WenKai Screen", "Inter", "Noto Sans SC-Local", "Noto Sans SC", system-ui, sans-serif',system:'system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans SC", sans-serif'};function Ne(){const a=S("system");function o(s){a.value=s;const c=E[s];document.documentElement.style.setProperty("--font-basic",c),localStorage.setItem("fontPreference",s)}function n(){try{const s=localStorage.getItem("fontPreference");s&&s in E&&(a.value=s,o(s))}catch{}}function l(){a.value="system",o("system")}return{selectedFont:a,applyFont:o,restoreFont:n,reset:l,FONT_VALUES:E}}const Re={class:"font-select-item"},je={class:"font-button-group"},Be=k({__name:"FontSelect",setup(a){const{selectedFont:o,applyFont:n,restoreFont:l}=Ne();return H(()=>{l()}),(s,c)=>(g(),p("div",Re,[c[2]||(c[2]=e("div",{class:"item-header"},[e("label",{class:"font-select-label"},"字体"),e("span",{class:"font-description"},"选择博客的显示字体，选择系统字体则优先使用系统本地安装的字体")],-1)),e("div",je,[e("button",{class:A(["font-toggle-btn",{active:m(o)==="wenkai"}]),onClick:c[0]||(c[0]=t=>m(n)("wenkai"))}," LXGW WenKai ",2),e("button",{class:A(["font-toggle-btn",{active:m(o)==="system"}]),onClick:c[1]||(c[1]=t=>m(n)("system"))}," 系统字体 ",2)])]))}}),He=Object.assign(x(Be,[["__scopeId","data-v-3505136a"]]),{__name:"PopoverThemeCustomizerFontSelect"}),R={simplified:"简体中文",traditional:"繁体中文"};function We(a){const o=b({get:()=>a.language,set:l=>{l!==a.language&&a.toggleLanguage()}});function n(l){return R[l]}return{language:o,getLanguageLabel:n,LANGUAGE_OPTIONS:R}}const De={class:"language-select-item"},Ze={class:"language-button-group"},Ke=k({__name:"LanguageSelect",setup(a){const o=T(),{language:n}=We(o);return(l,s)=>(g(),p("div",De,[s[2]||(s[2]=e("div",{class:"item-header"},[e("label",{class:"language-select-label"},"语言"),e("span",{class:"language-description"},"切换网站的语言版本，支持简体中文和繁体中文")],-1)),e("div",Ze,[e("button",{class:A(["language-toggle-btn",{active:m(n)==="simplified"}]),onClick:s[0]||(s[0]=c=>n.value="simplified")}," 简体中文 ",2),e("button",{class:A(["language-toggle-btn",{active:m(n)==="traditional"}]),onClick:s[1]||(s[1]=c=>n.value="traditional")}," 繁体中文 ",2)])]))}}),Xe=Object.assign(x(Ke,[["__scopeId","data-v-22a62887"]]),{__name:"PopoverThemeCustomizerLanguageSelect"}),Qe={class:"music-settings"},Je={class:"preview-group"},Ye={class:"preview-container"},qe={class:"url-input-group"},et={class:"url-label-row"},tt={key:0,class:"url-hint"},st={class:"settings-group"},ot={class:"toggle-switch"},nt={class:"settings-group"},lt={class:"toggle-switch"},at=k({__name:"MusicSettings",setup(a){const o=T(),n=b({get:()=>o.showMusicLyrics,set:r=>{r!==o.showMusicLyrics&&o.toggleMusicLyrics()}}),l=b({get:()=>o.showGlobalMusicPlayer,set:r=>{r!==o.showGlobalMusicPlayer&&o.toggleGlobalMusicPlayer()}}),s=S("https://music.163.com/#/song?id=760528"),c=S(!1),t=ae({id:"",title:"加载预览歌曲...",artist:"网易云音乐",cover:"",url:"",source:"netease"});function u(r){return(r.match(/(?:id=|\/song\/)(\d+)/)||r.match(/^(\d+)$/))?.[1]??null}function v(){const r=u(s.value.trim());if(!r){t.title="无效的歌曲URL",t.artist="请检查URL格式";return}t.id=r,t.url=`https://music.163.com/#/song?id=${r}`,t.title="加载中...",t.artist="网易云音乐"}return v(),ie(s,()=>{v()}),(r,i)=>{const M=re;return g(),p("div",Qe,[e("div",Je,[i[4]||(i[4]=e("h3",null,"预览",-1)),e("div",Ye,[d(M,{music:t},null,8,["music"])])]),e("div",qe,[e("div",et,[i[5]||(i[5]=e("h3",null,"配置预览歌曲",-1)),e("button",{"aria-label":"显示URL格式说明",class:"url-help-btn",onClick:i[0]||(i[0]=f=>c.value=!c.value)}," ? ")]),z(e("input",{"onUpdate:modelValue":i[1]||(i[1]=f=>s.value=f),type:"text",placeholder:"输入网易云音乐URL或歌曲ID",class:"url-input"},null,512),[[j,s.value]]),d(O,{name:"fade"},{default:y(()=>[c.value?(g(),p("p",tt,[...i[6]||(i[6]=[h(" 支持的格式：",-1),e("br",null,null,-1),h(" • https://music.163.com/#/song?id=760528",-1),e("br",null,null,-1),h(" • https://music.163.com/song/760528",-1),e("br",null,null,-1),h(" • 760528 ",-1)])])):L("",!0)]),_:1})]),e("div",st,[i[9]||(i[9]=e("h3",null,"歌词显示设置",-1)),e("label",ot,[z(e("input",{"onUpdate:modelValue":i[2]||(i[2]=f=>n.value=f),type:"checkbox"},null,512),[[N,n.value]]),i[7]||(i[7]=e("span",{class:"toggle-slider"},null,-1)),i[8]||(i[8]=e("div",{class:"toggle-content"},[e("span",{class:"toggle-label"},"显示歌词"),e("span",{class:"toggle-description"},"在音乐播放时显示歌词")],-1))])]),e("div",nt,[i[12]||(i[12]=e("h3",null,"播放器设置",-1)),e("label",lt,[z(e("input",{"onUpdate:modelValue":i[3]||(i[3]=f=>l.value=f),type:"checkbox"},null,512),[[N,l.value]]),i[10]||(i[10]=e("span",{class:"toggle-slider"},null,-1)),i[11]||(i[11]=e("div",{class:"toggle-content"},[e("span",{class:"toggle-label"},"显示播放器"),e("span",{class:"toggle-description"},"在侧边栏显示全站音乐播放器")],-1))])])])}}}),it=Object.assign(x(at,[["__scopeId","data-v-8bc1f293"]]),{__name:"PopoverThemeCustomizerMusicSettings"}),ct={key:0,id:"z-theme-customizer"},ut={class:"customizer-header"},rt={class:"customizer-section"},dt={class:"customizer-section"},mt={class:"customizer-section"},pt={class:"customizer-section"},gt=k({__name:"ThemeCustomizer",props:{show:{type:Boolean},duration:{},onClose:{type:Function}},emits:["close"],setup(a,{emit:o}){const n=a,l=o,s=T();H(()=>{s.initAIExcerptSetting(),s.initFeaturedArticlesSetting(),s.initCommentsSetting(),s.initLanguageSetting(),s.initMusicLyricsSetting(),s.initGlobalMusicPlayerSetting()});function c(){n.onClose?.()||l("close")}return(t,u)=>{const v=C,r=oe;return g(),p(U,null,[d(O,{name:"float-in"},{default:y(()=>[a.show?(g(),p("div",{key:0,id:"z-theme-customizer-bgmask",onClick:c})):L("",!0)]),_:1}),d(O,{name:"float-in"},{default:y(()=>[a.show?(g(),p("div",ct,[e("div",ut,[u[0]||(u[0]=e("h2",null,"中控台",-1)),u[1]||(u[1]=e("p",null,"在这里个性化站点",-1)),e("button",{class:"close-btn","aria-label":"关闭",onClick:c},[d(v,{name:"ph:x-bold"})])]),d(r,{tabs:["全局","功能","音乐","关于"],border:""},{tab1:y(()=>[e("div",rt,[d(Ae),d(He),d(Xe)])]),tab2:y(()=>[e("div",dt,[d(Ge)])]),tab3:y(()=>[e("div",mt,[d(it)])]),tab4:y(()=>[e("div",pt,[d(xe)])]),_:1})])):L("",!0)]),_:1})],64)}}}),kt=Object.assign(x(gt,[["__scopeId","data-v-1324a542"]]),{__name:"PopoverThemeCustomizer"});export{kt as default};
