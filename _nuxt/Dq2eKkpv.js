import{d as w,r as c,o as N,f as z,h as n,w as i,k as l,l as v,u as s,F as g,j as o,i as r,y as m,q as B,b5 as C,n as I,t as _,p as V,z as F}from"#entry";import{_ as L}from"./BQm2S0f2.js";import{u as M,s as j,a as D}from"./p0smk1q9.js";const G={key:1,style:{"text-align":"center",color:"var(--c-text-2)"}},W={class:"user-info"},$={class:"username"},q={key:0,class:"current-game-section"},E={class:"game-name"},O=w({__name:"SteamStats",setup(T){const{getUserInfo:x}=M(),a=c(null),d=c(!0),u=c(!1),S=e=>j[e]||"#90a0a6",y=e=>D[e]||e;return N(async()=>{try{const e=await x();e?a.value=e:u.value=!0}catch(e){console.error("Failed to load Steam user info:",e),u.value=!0}finally{d.value=!1}}),(e,t)=>{const p=B,k=I,f=C,b=L;return n(),z(b,{title:"Steam"},{default:i(()=>[s(d)?(n(),l(g,{key:0},[t[0]||(t[0]=o("div",{class:"skeleton-avatar"},null,-1)),t[1]||(t[1]=o("div",{class:"skeleton-info"},null,-1))],64)):s(u)?(n(),l("p",G,[r(p,{name:"ph:warning-circle-bold"}),t[2]||(t[2]=m(" Steam 数据加载失败 ",-1))])):s(a)?(n(),l(g,{key:2},[r(f,{to:"/steam",class:"user-card"},{default:i(()=>[r(k,{src:s(a).avatar.medium,alt:s(a).username,class:"user-avatar",loading:"lazy",sizes:"48px"},null,8,["src","alt"]),o("div",W,[o("div",$,_(s(a).username),1),o("div",{class:"status-badge",style:V({"--status-color":S(s(a).status)})},[t[3]||(t[3]=o("span",{class:"status-dot"},null,-1)),m(" "+_(y(s(a).status)),1)],4)])]),_:1}),s(a).currentGame?(n(),l("div",q,[t[4]||(t[4]=o("div",{class:"section-label"},"当前游戏",-1)),o("div",E,_(s(a).currentGame.name),1)])):v("",!0),r(f,{to:"/steam",class:"view-more-btn"},{default:i(()=>[r(p,{name:"ph:arrow-right-bold"}),t[5]||(t[5]=m(" 查看完整信息 ",-1))]),_:1})],64)):v("",!0)]),_:1})}}}),A=Object.assign(F(O,[["__scopeId","data-v-25e0b2f5"]]),{__name:"WidgetSteamStats"});export{A as default};
