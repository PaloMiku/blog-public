import{y as k,x as J,p as Q,z as v,A as q,B as F,C as y,D as Y,E as ee,G as te,H as se,d as p,e as m,h as e,g as d,I as b,J as u,_ as $,K as T,r as x,L as V,M as oe,f as L,N as S,O as G,P as N,t as E,Q as P,F as U,R as B,o as H,n as A,S as ne,U as le,T as z,w as M,V as R}from"./BbWY1yyP.js";import{_ as ae}from"./BUq3y2i6.js";import{d as ie}from"./C2BckFM1.js";import ce from"./B_y3-w5W.js";const ue={class:"build-info"},re={class:"info-section info-section--theme"},de={class:"section-title"},pe={class:"info-section"},me={class:"section-title"},ge={class:"info-section"},ve={class:"section-title"},_e={class:"info-section"},be={class:"section-title"},fe={class:"info-section"},he={class:"section-title"},Ce=k({__name:"BuildInfo",setup(i){const o=J(),{public:{arch:l,ci:a,gitHash:n,nodeVersion:s,platform:t}}=Q(),_=n,C=v(()=>{const w=q[a];if(!w)return"";const g=w.startsWith("http")?F("img",{src:w,alt:""}):F(y,{name:w});return F("span",{},[g,` ${a.split(" ")[0]}`])}),r=Object.assign({},...Object.values(ie.catalogs)),[c,f]=Y.split("@"),h=v(()=>[...a?[{label:"构建平台",value:C.value,icon:"ph:rocket-launch-bold"}]:[],{label:"图片存储",value:()=>[F(y,{name:"devicon:cloudflare"})," Cloudflare R2"],icon:"ph:cloud-fill"},{label:"文章许可",value:o.copyright.abbr,icon:"ph:copyright-bold"},{label:"规范域名",value:ee(o.url),icon:"ph:globe-bold"}]),W=v(()=>[{label:"Modify",value:te,icon:"ph:git-commit-bold"},{label:"Hash",value:_,icon:"ph:hash-bold"}]),K=v(()=>[{label:"Vue",value:r.vue,icon:"simple-icons:vuedotjs"},{label:"Nuxt",value:r.nuxt,icon:"simple-icons:nuxt"},{label:"Content",value:r["@nuxt/content"],icon:"ph:book-bold"}]),Z=v(()=>[{label:"Node",value:s,icon:"la:node-js"},{label:c,value:f,icon:"simple-icons:pnpm"},{label:"OS",value:t,icon:"ph:desktop-bold"},{label:"Arch",value:l,icon:"ph:cpu-bold"}]),X=v(()=>[{label:"博客主题",value:"Clarity",icon:"simple-icons:nuxtdotjs"},{label:"站点版本",value:se,icon:"ph:tag-bold"},{label:"Github 仓库",value:()=>F("a",{href:"https://github.com/L33Z22L11/blog-v3",target:"_blank",rel:"noopener noreferrer"},"L33Z22L11/blog-v3"),icon:"ph:github-logo-bold"},{label:"软件协议",value:"MIT License",icon:"ph:scales-bold"}]);return(w,g)=>{const I=ae;return m(),p("div",ue,[e("div",re,[e("h3",de,[d(u(y),{name:"lucide:info",class:"section-icon"}),g[0]||(g[0]=b(" 主题信息 ",-1))]),d(I,{items:X.value},null,8,["items"])]),e("div",pe,[e("h3",me,[d(u(y),{name:"ph:globe-fill",class:"section-icon"}),g[1]||(g[1]=b(" 服务信息 ",-1))]),d(I,{items:h.value},null,8,["items"])]),e("div",ge,[e("h3",ve,[d(u(y),{name:"ph:bookmark-fill",class:"section-icon"}),g[2]||(g[2]=b(" 仓库信息 ",-1))]),d(I,{size:"small",items:W.value},null,8,["items"])]),e("div",_e,[e("h3",be,[d(u(y),{name:"ph:stack-fill",class:"section-icon"}),g[3]||(g[3]=b(" 技术栈 ",-1))]),d(I,{size:"small",items:K.value},null,8,["items"])]),e("div",fe,[e("h3",he,[d(u(y),{name:"ph:cpu-fill",class:"section-icon"}),g[4]||(g[4]=b(" 构建信息 ",-1))]),d(I,{size:"small",items:Z.value},null,8,["items"])])])}}}),ye=Object.assign($(Ce,[["__scopeId","data-v-e5ba022c"]]),{__name:"PopoverThemeCustomizerBuildInfo"});function ke(){let i="#ff1a8c";if(typeof window<"u"){const t=localStorage.getItem("themeColor");t&&(t.startsWith("custom:")?i=t.slice(7):t in T&&(i=T[t].hex))}const o=x(i),l=x("");function a(){const t=o.value.trim();oe(t)?l.value="":l.value="无效的十六进制颜色值，格式应为 #RRGGBB"}function n(t){const _=T[t].hex;o.value=_,V(t),l.value=""}function s(){o.value="#ff1a8c",l.value="",V("pink")}return{customHexColor:o,hexInputError:l,handleColorChange:a,applyPresetColor:n,reset:s,THEME_COLORS:T}}const $e={class:"color-customize-item"},xe={class:"color-input-group"},we={key:0,class:"error-message"},Ie=k({__name:"ColorCustomize",setup(i){const{customHexColor:o,hexInputError:l,handleColorChange:a}=ke();return(n,s)=>(m(),p("div",$e,[s[5]||(s[5]=e("div",{class:"item-header"},[e("label",{class:"customize-label"},"主题色"),e("span",{class:"customize-description"},[b("自定义主题的主要色调，可在 "),e("a",{href:"https://htmlcolorcodes.com/zh/",target:"_blank",rel:"noopener noreferrer"},"HTML颜色代码"),b(" 获取颜色代码或使用浏览器原生取色器（单击颜色选择器）")])],-1)),e("div",xe,[S(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>N(o)?o.value=t:null),type:"color",class:"color-picker",onInput:s[1]||(s[1]=(...t)=>u(a)&&u(a)(...t))},null,544),[[G,u(o)]]),S(e("input",{"onUpdate:modelValue":s[2]||(s[2]=t=>N(o)?o.value=t:null),type:"text",class:"hex-input",placeholder:"#ff1a8c",onInput:s[3]||(s[3]=(...t)=>u(a)&&u(a)(...t)),onBlur:s[4]||(s[4]=(...t)=>u(a)&&u(a)(...t))},null,544),[[G,u(o)]])]),u(l)?(m(),p("div",we,E(u(l)),1)):L("",!0)]))}}),Fe=Object.assign($(Ie,[["__scopeId","data-v-a977b6a3"]]),{__name:"PopoverThemeCustomizerColorCustomize"}),D=[{key:"AIExcerpt",label:"显示智能摘要",description:"在文章正文上方显示 AI 生成的摘要"},{key:"FeaturedArticles",label:"显示精选文章",description:"在首页展示精选文章轮播 (Slide)"},{key:"Comments",label:"显示评论区",description:"在文章下方展示评论区，关闭则全站评论区不可见"}];function Le(i){const o=v({get:()=>i.showAIExcerpt,set:t=>{t!==i.showAIExcerpt&&i.toggleAIExcerpt()}}),l=v({get:()=>i.showFeaturedArticles,set:t=>{t!==i.showFeaturedArticles&&i.toggleFeaturedArticles()}}),a=v({get:()=>i.showComments,set:t=>{t!==i.showComments&&i.toggleComments()}});function n(t){switch(t){case"AIExcerpt":return o.value;case"FeaturedArticles":return l.value;case"Comments":return a.value;default:return!1}}function s(t){switch(t){case"AIExcerpt":o.value=!o.value;break;case"FeaturedArticles":l.value=!l.value;break;case"Comments":a.value=!a.value;break}}return{showAIExcerpt:o,showFeaturedArticles:l,showComments:a,getFeatureState:n,toggleFeature:s,FEATURE_TOGGLES:D}}const Se={class:"feature-toggles"},Ae=["checked","onChange"],Te={class:"toggle-content"},ze={class:"toggle-label"},Me={class:"toggle-description"},Ee=k({__name:"FeatureToggles",setup(i){const o=P(),{showAIExcerpt:l,showFeaturedArticles:a,showComments:n}=Le(o);function s(_){switch(_){case"AIExcerpt":return l.value;case"FeaturedArticles":return a.value;case"Comments":return n.value;default:return!1}}function t(_){switch(_){case"AIExcerpt":l.value=!l.value;break;case"FeaturedArticles":a.value=!a.value;break;case"Comments":n.value=!n.value;break}}return(_,C)=>(m(),p("div",Se,[(m(!0),p(U,null,B(u(D),r=>(m(),p("label",{key:r.key,class:"toggle-switch"},[e("input",{type:"checkbox",checked:s(r.key),onChange:c=>t(r.key)},null,40,Ae),C[0]||(C[0]=e("span",{class:"toggle-slider"},null,-1)),e("div",Te,[e("span",ze,E(r.label),1),e("span",Me,E(r.description),1)])]))),128))]))}}),Pe=Object.assign($(Ee,[["__scopeId","data-v-4265c807"]]),{__name:"PopoverThemeCustomizerFeatureToggles"}),O={wenkai:'"LXGW WenKai Screen", "Inter", "Noto Sans SC-Local", "Noto Sans SC", system-ui, sans-serif',system:'system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans SC", sans-serif'};function Oe(){const i=x("system");function o(n){i.value=n;const s=O[n];document.documentElement.style.setProperty("--font-basic",s),localStorage.setItem("fontPreference",n)}function l(){try{const n=localStorage.getItem("fontPreference");n&&n in O&&(i.value=n,o(n))}catch{}}function a(){i.value="system",o("system")}return{selectedFont:i,applyFont:o,restoreFont:l,reset:a,FONT_VALUES:O}}const Ge={class:"font-select-item"},Ue={class:"font-button-group"},Ve=k({__name:"FontSelect",setup(i){const{selectedFont:o,applyFont:l,restoreFont:a}=Oe();return H(()=>{a()}),(n,s)=>(m(),p("div",Ge,[s[2]||(s[2]=e("div",{class:"item-header"},[e("label",{class:"font-select-label"},"字体"),e("span",{class:"font-description"},"选择博客的显示字体，选择系统字体则优先使用系统本地安装的字体")],-1)),e("div",Ue,[e("button",{class:A(["font-toggle-btn",{active:u(o)==="wenkai"}]),onClick:s[0]||(s[0]=t=>u(l)("wenkai"))}," LXGW WenKai ",2),e("button",{class:A(["font-toggle-btn",{active:u(o)==="system"}]),onClick:s[1]||(s[1]=t=>u(l)("system"))}," 系统字体 ",2)])]))}}),Ne=Object.assign($(Ve,[["__scopeId","data-v-3505136a"]]),{__name:"PopoverThemeCustomizerFontSelect"}),j={simplified:"简体中文",traditional:"繁体中文"};function Re(i){const o=v({get:()=>i.language,set:a=>{a!==i.language&&i.toggleLanguage()}});function l(a){return j[a]}return{language:o,getLanguageLabel:l,LANGUAGE_OPTIONS:j}}const je={class:"language-select-item"},Be={class:"language-button-group"},He=k({__name:"LanguageSelect",setup(i){const o=P(),{language:l}=Re(o);return(a,n)=>(m(),p("div",je,[n[2]||(n[2]=e("div",{class:"item-header"},[e("label",{class:"language-select-label"},"语言"),e("span",{class:"language-description"},"切换网站的语言版本，支持简体中文和繁体中文")],-1)),e("div",Be,[e("button",{class:A(["language-toggle-btn",{active:u(l)==="simplified"}]),onClick:n[0]||(n[0]=s=>l.value="simplified")}," 简体中文 ",2),e("button",{class:A(["language-toggle-btn",{active:u(l)==="traditional"}]),onClick:n[1]||(n[1]=s=>l.value="traditional")}," 繁体中文 ",2)])]))}}),De=Object.assign($(He,[["__scopeId","data-v-22a62887"]]),{__name:"PopoverThemeCustomizerLanguageSelect"}),We={class:"music-settings"},Ke={class:"url-input-group"},Ze={class:"url-label-row"},Xe={key:0,class:"url-hint"},Je={class:"settings-group"},Qe={class:"toggle-switch"},qe={class:"settings-group"},Ye={class:"toggle-switch"},et=k({__name:"MusicSettings",setup(i){const o=P(),l=v({get:()=>o.showMusicLyrics,set:r=>{r!==o.showMusicLyrics&&o.toggleMusicLyrics()}}),a=v({get:()=>o.showGlobalMusicPlayer,set:r=>{r!==o.showGlobalMusicPlayer&&o.toggleGlobalMusicPlayer()}}),n=x("https://music.163.com/#/song?id=760528"),s=x(!1),t=ne({id:"",title:"加载预览歌曲...",artist:"网易云音乐",cover:"",url:"",source:"netease"});function _(r){return(r.match(/(?:id=|\/song\/)(\d+)/)||r.match(/^(\d+)$/))?.[1]??null}function C(){const r=_(n.value.trim());if(!r){t.title="无效的歌曲URL",t.artist="请检查URL格式";return}t.id=r,t.url=`https://music.163.com/#/song?id=${r}`,t.title="加载中...",t.artist="网易云音乐"}return C(),le(n,()=>{C()}),(r,c)=>{const f=ce;return m(),p("div",We,[c[12]||(c[12]=e("h3",null,"预览",-1)),d(f,{music:t},null,8,["music"]),e("div",Ke,[e("div",Ze,[c[4]||(c[4]=e("h3",null,"配置预览歌曲",-1)),e("button",{"aria-label":"显示URL格式说明",class:"url-help-btn",onClick:c[0]||(c[0]=h=>s.value=!s.value)}," ? ")]),S(e("input",{"onUpdate:modelValue":c[1]||(c[1]=h=>n.value=h),type:"text",placeholder:"输入网易云音乐URL或歌曲ID",class:"url-input"},null,512),[[G,n.value]]),d(z,{name:"fade"},{default:M(()=>[s.value?(m(),p("p",Xe,[...c[5]||(c[5]=[b(" 支持的格式：",-1),e("br",null,null,-1),b(" • https://music.163.com/#/song?id=760528",-1),e("br",null,null,-1),b(" • https://music.163.com/song/760528",-1),e("br",null,null,-1),b(" • 760528 ",-1)])])):L("",!0)]),_:1})]),e("div",Je,[c[8]||(c[8]=e("h3",null,"歌词显示设置",-1)),e("label",Qe,[S(e("input",{"onUpdate:modelValue":c[2]||(c[2]=h=>l.value=h),type:"checkbox"},null,512),[[R,l.value]]),c[6]||(c[6]=e("span",{class:"toggle-slider"},null,-1)),c[7]||(c[7]=e("div",{class:"toggle-content"},[e("span",{class:"toggle-label"},"显示歌词"),e("span",{class:"toggle-description"},"在音乐播放时显示歌词")],-1))])]),e("div",qe,[c[11]||(c[11]=e("h3",null,"播放器设置",-1)),e("label",Ye,[S(e("input",{"onUpdate:modelValue":c[3]||(c[3]=h=>a.value=h),type:"checkbox"},null,512),[[R,a.value]]),c[9]||(c[9]=e("span",{class:"toggle-slider"},null,-1)),c[10]||(c[10]=e("div",{class:"toggle-content"},[e("span",{class:"toggle-label"},"显示播放器"),e("span",{class:"toggle-description"},"在侧边栏显示全站音乐播放器")],-1))])])])}}}),tt=Object.assign($(et,[["__scopeId","data-v-2d8d6fad"]]),{__name:"PopoverThemeCustomizerMusicSettings"}),st={key:0,id:"z-theme-customizer"},ot={class:"content-area"},nt={key:"global",class:"settings-panel"},lt={class:"panel-content"},at={key:"features",class:"settings-panel"},it={class:"panel-content"},ct={key:"music",class:"settings-panel"},ut={class:"panel-content"},rt={key:"about",class:"settings-panel"},dt={class:"panel-content"},pt={class:"customizer-footer"},mt={class:"tab-button-group"},gt=["onClick"],vt=k({__name:"ThemeCustomizer",props:{show:{type:Boolean},duration:{},onClose:{type:Function}},emits:["close"],setup(i,{emit:o}){const l=i,a=o,n=P(),s=x(1);H(()=>{n.initAIExcerptSetting(),n.initFeaturedArticlesSetting(),n.initCommentsSetting(),n.initLanguageSetting(),n.initMusicLyricsSetting(),n.initGlobalMusicPlayerSetting()});function t(){l.onClose?.()||a("close")}return(_,C)=>{const r=y;return m(),p(U,null,[d(z,{name:"fade-in"},{default:M(()=>[i.show?(m(),p("div",{key:0,id:"z-theme-customizer-bgmask",onClick:t})):L("",!0)]),_:1}),d(z,{name:"slide-right"},{default:M(()=>[i.show?(m(),p("div",st,[e("main",ot,[d(z,{name:"tab-content",mode:"out-in"},{default:M(()=>[u(s)===1?(m(),p("div",nt,[e("div",lt,[d(Fe),d(Ne),d(De)])])):u(s)===2?(m(),p("div",at,[e("div",it,[d(Pe)])])):u(s)===3?(m(),p("div",ct,[e("div",ut,[d(tt)])])):u(s)===4?(m(),p("div",rt,[e("div",dt,[d(ye)])])):L("",!0)]),_:1})]),e("footer",pt,[e("div",mt,[(m(),p(U,null,B(["全局","功能","音乐","关于"],(c,f)=>e("button",{key:f,class:A(["nav-tab",{active:u(s)===f+1,"first-button":f===0,"last-button":f===3}]),onClick:h=>s.value=f+1},E(c),11,gt)),64))]),e("button",{class:"close-btn desktop-only","aria-label":"关闭",onClick:t},[d(r,{name:"ph:x-bold"})]),e("button",{class:"console-btn mobile-only","aria-label":"控制台",onClick:t},[d(r,{name:"ph:swatches-bold"})])])])):L("",!0)]),_:1})],64)}}}),Ct=Object.assign($(vt,[["__scopeId","data-v-941cdbf4"]]),{__name:"PopoverThemeCustomizer"});export{Ct as default};
