import{c as Z,P as X,_ as C,Q as J,l as q,R as Y,S as ee,T,U as V,V as te,r as P}from"./PI9c30pl.js";import se from"./8Z63yadN.js";import{J as x,A as oe,x as b,M as I,Q as p,aO as g,b6 as e,aS as r,b8 as h,K as d,b5 as y,r as F,aR as L,aQ as z,br as B,l as ne,a$ as N,b9 as E,aV as U,aW as G,N as le,a_ as A,g as ae,o as ie,T as O,aU as k,bB as R}from"./e2a45o_1.js";import{_ as ce}from"./EOwzkIS_.js";import{d as ue}from"./DmrycXRy.js";import{_ as re}from"./cLxrTmGG.js";import"./D-deoX8n.js";import"./By_Aqsgj.js";const de={class:"build-info"},me={class:"info-section info-section--theme"},pe={class:"section-title"},ge={class:"info-section"},ve={class:"section-title"},_e={class:"info-section"},be={class:"section-title"},he={class:"info-section"},fe={class:"section-title"},Ce={class:"info-section"},ke={class:"section-title"},xe=x({__name:"BuildInfo",setup(a){const s=Z(),{public:{arch:o,ci:l,gitHash:n,nodeVersion:c,platform:t}}=oe(),m=n,v=b(()=>{const $=X[l];if(!$)return"";const _=$.startsWith("http")?I("img",{src:$,alt:""}):I(C,{name:$});return I("span",{},[_,` ${l.split(" ")[0]}`])}),u=Object.assign({},...Object.values(ue.catalogs)),[i,S]=J.split("@"),f=b(()=>[...l?[{label:"构建平台",value:v.value,icon:"ph:rocket-launch-bold"}]:[],{label:"图片存储",value:()=>[I(C,{name:"devicon:cloudflare"})," Cloudflare R2"],icon:"ph:cloud-fill"},{label:"文章许可",value:s.copyright.abbr,icon:"ph:copyright-bold"},{label:"规范域名",value:q(s.url),icon:"ph:globe-bold"}]),W=b(()=>[{label:"Modify",value:Y,icon:"ph:git-commit-bold"},{label:"Hash",value:m,icon:"ph:hash-bold"}]),D=b(()=>[{label:"Vue",value:u.vue,icon:"simple-icons:vuedotjs"},{label:"Nuxt",value:u.nuxt,icon:"simple-icons:nuxt"},{label:"Content",value:u["@nuxt/content"],icon:"ph:book-bold"}]),K=b(()=>[{label:"Node",value:c,icon:"la:node-js"},{label:i,value:S,icon:"simple-icons:pnpm"},{label:"OS",value:t,icon:"ph:desktop-bold"},{label:"Arch",value:o,icon:"ph:cpu-bold"}]),Q=b(()=>[{label:"博客主题",value:"Clarity",icon:"simple-icons:nuxtdotjs"},{label:"站点版本",value:ee,icon:"ph:tag-bold"},{label:"Github 仓库",value:()=>I("a",{href:"https://github.com/L33Z22L11/blog-v3",target:"_blank",rel:"noopener noreferrer"},"L33Z22L11/blog-v3"),icon:"ph:github-logo-bold"},{label:"软件协议",value:"MIT License",icon:"ph:scales-bold"}]);return($,_)=>{const w=ce;return g(),p("div",de,[e("div",me,[e("h3",pe,[r(d(C),{name:"lucide:info",class:"section-icon"}),_[0]||(_[0]=h(" 主题信息 ",-1))]),r(w,{items:Q.value},null,8,["items"])]),e("div",ge,[e("h3",ve,[r(d(C),{name:"ph:globe-fill",class:"section-icon"}),_[1]||(_[1]=h(" 服务信息 ",-1))]),r(w,{items:f.value},null,8,["items"])]),e("div",_e,[e("h3",be,[r(d(C),{name:"ph:bookmark-fill",class:"section-icon"}),_[2]||(_[2]=h(" 仓库信息 ",-1))]),r(w,{size:"small",items:W.value},null,8,["items"])]),e("div",he,[e("h3",fe,[r(d(C),{name:"ph:stack-fill",class:"section-icon"}),_[3]||(_[3]=h(" 技术栈 ",-1))]),r(w,{size:"small",items:D.value},null,8,["items"])]),e("div",Ce,[e("h3",ke,[r(d(C),{name:"ph:cpu-fill",class:"section-icon"}),_[4]||(_[4]=h(" 构建信息 ",-1))]),r(w,{size:"small",items:K.value},null,8,["items"])])])}}}),ye=Object.assign(y(xe,[["__scopeId","data-v-e5ba022c"]]),{__name:"PopoverThemeCustomizerBuildInfo"});function $e(){let a="#ff1a8c";if(typeof window<"u"){const t=localStorage.getItem("themeColor");t&&(t.startsWith("custom:")?a=t.slice(7):t in T&&(a=T[t].hex))}const s=F(a),o=F("");function l(){const t=s.value.trim();te(t)?o.value="":o.value="无效的十六进制颜色值，格式应为 #RRGGBB"}function n(t){const m=T[t].hex;s.value=m,V(t),o.value=""}function c(){s.value="#ff1a8c",o.value="",V("pink")}return{customHexColor:s,hexInputError:o,handleColorChange:l,applyPresetColor:n,reset:c,THEME_COLORS:T}}const we={class:"color-customize-item"},Ie={class:"color-input-group"},Te={key:0,class:"error-message"},Fe={class:"preset-colors"},ze=["title","onClick"],Le=x({__name:"ColorCustomize",setup(a){const{customHexColor:s,hexInputError:o,handleColorChange:l,applyPresetColor:n}=$e();return(c,t)=>(g(),p("div",we,[t[3]||(t[3]=e("div",{class:"item-header"},[e("label",{class:"customize-label"},"主题色"),e("span",{class:"customize-description"},[h("自定义主题的主要色调，可在 "),e("a",{href:"https://htmlcolorcodes.com/zh/",target:"_blank",rel:"noopener noreferrer"},"HTML颜色代码"),h(" 获取颜色代码")])],-1)),e("div",Ie,[z(e("input",{"onUpdate:modelValue":t[0]||(t[0]=m=>ne(s)?s.value=m:null),type:"text",class:"hex-input",placeholder:"#ff1a8c",onInput:t[1]||(t[1]=(...m)=>d(l)&&d(l)(...m)),onBlur:t[2]||(t[2]=(...m)=>d(l)&&d(l)(...m))},null,544),[[B,d(s)]]),e("div",{class:"color-preview",style:N({backgroundColor:d(s)})},null,4)]),d(o)?(g(),p("div",Te,E(d(o)),1)):L("",!0),e("div",Fe,[(g(!0),p(U,null,G(d(T),(m,v)=>(g(),p("button",{key:v,class:"preset-color-btn",style:N({backgroundColor:m.hex}),title:m.label,onClick:u=>d(n)(v)},null,12,ze))),128))])]))}}),Ae=Object.assign(y(Le,[["__scopeId","data-v-8a45a927"]]),{__name:"PopoverThemeCustomizerColorCustomize"}),H=[{key:"AIExcerpt",label:"显示智能摘要",description:"在文章正文上方显示 AI 生成的摘要"},{key:"FeaturedArticles",label:"显示精选文章",description:"在首页展示精选文章轮播 (Slide)"},{key:"Comments",label:"显示评论区",description:"在文章下方展示评论区，关闭则全站评论区不可见"}];function Se(a){const s=b({get:()=>a.showAIExcerpt,set:t=>{t!==a.showAIExcerpt&&a.toggleAIExcerpt()}}),o=b({get:()=>a.showFeaturedArticles,set:t=>{t!==a.showFeaturedArticles&&a.toggleFeaturedArticles()}}),l=b({get:()=>a.showComments,set:t=>{t!==a.showComments&&a.toggleComments()}});function n(t){switch(t){case"AIExcerpt":return s.value;case"FeaturedArticles":return o.value;case"Comments":return l.value;default:return!1}}function c(t){switch(t){case"AIExcerpt":s.value=!s.value;break;case"FeaturedArticles":o.value=!o.value;break;case"Comments":l.value=!l.value;break}}return{showAIExcerpt:s,showFeaturedArticles:o,showComments:l,getFeatureState:n,toggleFeature:c,FEATURE_TOGGLES:H}}const Me={class:"feature-toggles"},Ee=["checked","onChange"],Oe={class:"toggle-content"},Pe={class:"toggle-label"},Ue={class:"toggle-description"},Ve=x({__name:"FeatureToggles",setup(a){const s=P(),{showAIExcerpt:o,showFeaturedArticles:l,showComments:n}=Se(s);function c(m){switch(m){case"AIExcerpt":return o.value;case"FeaturedArticles":return l.value;case"Comments":return n.value;default:return!1}}function t(m){switch(m){case"AIExcerpt":o.value=!o.value;break;case"FeaturedArticles":l.value=!l.value;break;case"Comments":n.value=!n.value;break}}return(m,v)=>(g(),p("div",Me,[(g(!0),p(U,null,G(d(H),u=>(g(),p("label",{key:u.key,class:"toggle-switch"},[e("input",{type:"checkbox",checked:c(u.key),onChange:i=>t(u.key)},null,40,Ee),v[0]||(v[0]=e("span",{class:"toggle-slider"},null,-1)),e("div",Oe,[e("span",Pe,E(u.label),1),e("span",Ue,E(u.description),1)])]))),128))]))}}),Ne=Object.assign(y(Ve,[["__scopeId","data-v-4265c807"]]),{__name:"PopoverThemeCustomizerFeatureToggles"}),M={wenkai:'"LXGW WenKai Screen", "Inter", "Noto Sans SC-Local", "Noto Sans SC", system-ui, sans-serif',system:'system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans SC", sans-serif'};function Re(){const a=F("system");function s(n){a.value=n;const c=M[n];document.documentElement.style.setProperty("--font-basic",c),localStorage.setItem("fontPreference",n)}function o(){try{const n=localStorage.getItem("fontPreference");n&&n in M&&(a.value=n,s(n))}catch{}}function l(){a.value="system",s("system")}return{selectedFont:a,applyFont:s,restoreFont:o,reset:l,FONT_VALUES:M}}const je={class:"font-select-item"},Be={class:"font-button-group"},Ge=x({__name:"FontSelect",setup(a){const{selectedFont:s,applyFont:o,restoreFont:l}=Re();return le(()=>{l()}),(n,c)=>(g(),p("div",je,[c[2]||(c[2]=e("div",{class:"item-header"},[e("label",{class:"font-select-label"},"字体"),e("span",{class:"font-description"},"选择博客的显示字体，选择系统字体则优先使用系统本地安装的字体")],-1)),e("div",Be,[e("button",{class:A(["font-toggle-btn",{active:d(s)==="wenkai"}]),onClick:c[0]||(c[0]=t=>d(o)("wenkai"))}," LXGW WenKai ",2),e("button",{class:A(["font-toggle-btn",{active:d(s)==="system"}]),onClick:c[1]||(c[1]=t=>d(o)("system"))}," 系统字体 ",2)])]))}}),He=Object.assign(y(Ge,[["__scopeId","data-v-3505136a"]]),{__name:"PopoverThemeCustomizerFontSelect"}),j={simplified:"简体中文",traditional:"繁体中文"};function We(a){const s=b({get:()=>a.language,set:l=>{l!==a.language&&a.toggleLanguage()}});function o(l){return j[l]}return{language:s,getLanguageLabel:o,LANGUAGE_OPTIONS:j}}const De={class:"language-select-item"},Ke={class:"language-button-group"},Qe=x({__name:"LanguageSelect",setup(a){const s=P(),{language:o}=We(s);return(l,n)=>(g(),p("div",De,[n[2]||(n[2]=e("div",{class:"item-header"},[e("label",{class:"language-select-label"},"语言"),e("span",{class:"language-description"},"切换网站的语言版本，支持简体中文和繁体中文")],-1)),e("div",Ke,[e("button",{class:A(["language-toggle-btn",{active:d(o)==="simplified"}]),onClick:n[0]||(n[0]=c=>o.value="simplified")}," 简体中文 ",2),e("button",{class:A(["language-toggle-btn",{active:d(o)==="traditional"}]),onClick:n[1]||(n[1]=c=>o.value="traditional")}," 繁体中文 ",2)])]))}}),Ze=Object.assign(y(Qe,[["__scopeId","data-v-22a62887"]]),{__name:"PopoverThemeCustomizerLanguageSelect"}),Xe={class:"music-settings"},Je={class:"preview-group"},qe={class:"preview-container"},Ye={class:"url-input-group"},et={class:"url-label-row"},tt={key:0,class:"url-hint"},st={class:"settings-group"},ot={class:"toggle-switch"},nt={class:"toggle-switch"},lt=x({__name:"MusicSettings",setup(a){const s=P(),o=b({get:()=>s.showMusicLyrics,set:u=>{u!==s.showMusicLyrics&&s.toggleMusicLyrics()}}),l=b({get:()=>s.showMusicTranslation,set:u=>{u!==s.showMusicTranslation&&s.toggleMusicTranslation()}}),n=F("https://music.163.com/#/song?id=760528"),c=F(!1),t=ae({id:"",title:"加载预览歌曲...",artist:"网易云音乐",cover:"",url:"",source:"netease"});function m(u){return(u.match(/(?:id=|\/song\/)(\d+)/)||u.match(/^(\d+)$/))?.[1]??null}function v(){const u=m(n.value.trim());if(!u){t.title="无效的歌曲URL",t.artist="请检查URL格式";return}t.id=u,t.url=`https://music.163.com/#/song?id=${u}`,t.title="加载中...",t.artist="网易云音乐"}return v(),ie(n,()=>{v()}),(u,i)=>{const S=re;return g(),p("div",Xe,[e("div",Je,[i[4]||(i[4]=e("h3",null,"预览",-1)),e("div",qe,[r(S,{music:t},null,8,["music"])])]),e("div",Ye,[e("div",et,[i[5]||(i[5]=e("h3",null,"配置预览歌曲",-1)),e("button",{"aria-label":"显示URL格式说明",class:"url-help-btn",onClick:i[0]||(i[0]=f=>c.value=!c.value)}," ? ")]),z(e("input",{"onUpdate:modelValue":i[1]||(i[1]=f=>n.value=f),type:"text",placeholder:"输入网易云音乐URL或歌曲ID",class:"url-input"},null,512),[[B,n.value]]),r(O,{name:"fade"},{default:k(()=>[c.value?(g(),p("p",tt,[...i[6]||(i[6]=[h(" 支持的格式：",-1),e("br",null,null,-1),h(" • https://music.163.com/#/song?id=760528",-1),e("br",null,null,-1),h(" • https://music.163.com/song/760528",-1),e("br",null,null,-1),h(" • 760528 ",-1)])])):L("",!0)]),_:1})]),e("div",st,[i[11]||(i[11]=e("h3",null,"歌词显示设置",-1)),e("label",ot,[z(e("input",{"onUpdate:modelValue":i[2]||(i[2]=f=>o.value=f),type:"checkbox"},null,512),[[R,o.value]]),i[7]||(i[7]=e("span",{class:"toggle-slider"},null,-1)),i[8]||(i[8]=e("div",{class:"toggle-content"},[e("span",{class:"toggle-label"},"显示歌词"),e("span",{class:"toggle-description"},"在音乐播放时显示歌词")],-1))]),e("label",nt,[z(e("input",{"onUpdate:modelValue":i[3]||(i[3]=f=>l.value=f),type:"checkbox"},null,512),[[R,l.value]]),i[9]||(i[9]=e("span",{class:"toggle-slider"},null,-1)),i[10]||(i[10]=e("div",{class:"toggle-content"},[e("span",{class:"toggle-label"},"显示翻译"),e("span",{class:"toggle-description"},"在歌词中显示翻译文本")],-1))])])])}}}),at=Object.assign(y(lt,[["__scopeId","data-v-3b4d07d1"]]),{__name:"PopoverThemeCustomizerMusicSettings"}),it={key:0,id:"z-theme-customizer"},ct={class:"customizer-header"},ut={class:"customizer-section"},rt={class:"customizer-section"},dt={class:"customizer-section"},mt={class:"customizer-section"},pt=x({__name:"ThemeCustomizer",props:{show:{type:Boolean},duration:{},onClose:{type:Function}},emits:["close"],setup(a,{emit:s}){const o=a,l=s;function n(){o.onClose?.()||l("close")}return(c,t)=>{const m=C,v=se;return g(),p(U,null,[r(O,{name:"float-in"},{default:k(()=>[a.show?(g(),p("div",{key:0,id:"z-theme-customizer-bgmask",onClick:n})):L("",!0)]),_:1}),r(O,{name:"float-in"},{default:k(()=>[a.show?(g(),p("div",it,[e("div",ct,[t[0]||(t[0]=e("h2",null,"中控台",-1)),t[1]||(t[1]=e("p",null,"在这里个性化站点",-1)),e("button",{class:"close-btn","aria-label":"关闭",onClick:n},[r(m,{name:"ph:x-bold"})])]),r(v,{tabs:["全局","功能","音乐","关于"],border:""},{tab1:k(()=>[e("div",ut,[r(Ae),r(He),r(Ze)])]),tab2:k(()=>[e("div",rt,[r(Ne)])]),tab3:k(()=>[e("div",dt,[r(at)])]),tab4:k(()=>[e("div",mt,[r(ye)])]),_:1})])):L("",!0)]),_:1})],64)}}}),xt=Object.assign(y(pt,[["__scopeId","data-v-ec94275b"]]),{__name:"PopoverThemeCustomizer"});export{xt as default};
