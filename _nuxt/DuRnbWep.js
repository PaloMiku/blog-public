const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Db9xj1bS.js","./D-JeV3Fy.js","./entry.DV8GKag2.css"])))=>i.map(i=>d[i]);
import{aF as q,ac as F,aG as P,ai as U}from"#entry";function B(t){return{type:"root",children:t.value.map(E)}}function E(t){if(typeof t=="string")return{type:"text",value:t};const[i,e,...n]=t;return{type:"element",tag:i,props:e,children:n.map(E)}}const O={content:"v3.5.0--pmk1GtK1HdnTtHGq2rChGCAFQ0dMTGmyrPIIcT0Vlh0"},H={content:"_content_content",info:"_content_info"},et={content:{type:"page",fields:{id:"string",title:"string",body:"json",categories:"json",date:"string",description:"string",draft:"boolean",extension:"string",image:"string",meta:"json",navigation:"json",path:"string",permalink:"string",readingTime:"json",recommend:"number",references:"json",seo:"json",sitemap:"json",stem:"string",tags:"json",type:"string",updated:"string"}},info:{type:"data",fields:{}}},v=(t,i)=>{const e=t._conditions;return e.length>0?`(${e.join(` ${i} `)})`:""},w=t=>{const i=[],e={_conditions:i,where(n,s,r){let o;switch(s.toUpperCase()){case"IN":case"NOT IN":if(Array.isArray(r)){const c=r.map(u=>y(u)).join(", ");o=`"${String(n)}" ${s.toUpperCase()} (${c})`}else throw new TypeError(`Value for ${s} must be an array`);break;case"BETWEEN":case"NOT BETWEEN":if(Array.isArray(r)&&r.length===2)o=`"${String(n)}" ${s.toUpperCase()} ${y(r[0])} AND ${y(r[1])}`;else throw new Error(`Value for ${s} must be an array with two elements`);break;case"IS NULL":case"IS NOT NULL":o=`"${String(n)}" ${s.toUpperCase()}`;break;case"LIKE":case"NOT LIKE":o=`"${String(n)}" ${s.toUpperCase()} ${y(r)}`;break;default:o=`"${String(n)}" ${s} ${y(typeof r=="boolean"?Number(r):r)}`}return i.push(`${o}`),e},andWhere(n){const s=n(w());return i.push(v(s,"AND")),e},orWhere(n){const s=n(w());return i.push(v(s,"OR")),e}};return e},R=(t,i)=>{const e={conditions:[],selectedFields:[],offset:0,limit:0,orderBy:[],count:{field:"",distinct:!1}},n={__params:e,andWhere(r){const o=r(w());return e.conditions.push(v(o,"AND")),n},orWhere(r){const o=r(w());return e.conditions.push(v(o,"OR")),n},path(r){return n.where("path","=",q(r))},skip(r){return e.offset=r,n},where(r,o,c){return n.andWhere(u=>u.where(String(r),o,c)),n},limit(r){return e.limit=r,n},select(...r){return r.length&&e.selectedFields.push(...r),n},order(r,o){return e.orderBy.push(`"${String(r)}" ${o}`),n},async all(){return i(t,s()).then(r=>r||[])},async first(){return i(t,s({limit:1})).then(r=>r[0]||null)},async count(r="*",o=!1){return i(t,s({count:{field:String(r),distinct:o}})).then(c=>c[0].count)}};function s(r={}){let o="SELECT ";if(r?.count)o+=`COUNT(${r.count.distinct?"DISTINCT ":""}${r.count.field}) as count`;else{const u=Array.from(new Set(e.selectedFields));o+=u.length>0?u.map(a=>`"${String(a)}"`).join(", "):"*"}o+=` FROM ${H[String(t)]}`,e.conditions.length>0&&(o+=` WHERE ${e.conditions.join(" AND ")}`),e.orderBy.length>0?o+=` ORDER BY ${e.orderBy.join(", ")}`:o+=" ORDER BY stem ASC";const c=r?.limit||e.limit;return c>0&&(e.offset>0?o+=` LIMIT ${c} OFFSET ${e.offset}`:o+=` LIMIT ${c}`),o}return n};function y(t){return`'${String(t).replace(/'/g,"''")}'`}function x(t){return i=>(i=i||{},(t||[]).filter(e=>typeof i[e]<"u").reduce((e,n)=>Object.assign(e,{[n]:i[n]}),{}))}async function G(t,i=[]){t.__params?.orderBy?.length||(t=t.order("stem","ASC"));const n=await t.orWhere(a=>a.where("navigation","<>","false").where("navigation","IS NULL")).select("navigation","stem","path","title","meta",...i||[]).all(),{contents:s,configs:r}=n.reduce((a,l)=>{if(String(l.stem).split("/").pop()===".navigation"){l.title=l.title?.toLowerCase()==="navigation"?"":l.title;const f=l.path.split("/").slice(0,-1).join("/")||"/";a.configs[f]={...l,...l.body}}else a.contents.push(l);return a},{configs:{},contents:[]}),o=a=>({...x(["title",...i])(a),...a.meta,...A(a?.navigation)?a.navigation:{}}),c=a=>({...x(["title",...i])(a),...A(a?.navigation)?a.navigation:{}}),u=s.reduce((a,l)=>{const f=l.path.substring(1).split("/"),h=l.stem.split("/"),m=!!h[h.length-1]?.match(/([1-9]\d*\.)?index/g),C=d=>({title:d.title,path:d.path,stem:d.stem,children:[],...c(d)}),p=C(l);if(m){const d=r[p.path];if(typeof d?.navigation<"u"&&d?.navigation===!1)return a;if(l.path!=="/"){const g=C(l);p.children.push(g)}d&&Object.assign(p,o(d))}if(f.length===1){const d=a.find(g=>g.path===p.path&&g.page===!1);return m&&d?Object.assign(d,{page:void 0,children:[...p.children||[],...d.children||[]]}):a.push(p),a}const j=f.slice(0,-1).reduce((d,g,_)=>{const T="/"+f.slice(0,_+1).join("/"),$=r[T];if(typeof $?.navigation<"u"&&$.navigation===!1)return[];let b=d.find(S=>S.path===T);if(!b){const S=$?o($):{};b={...S,title:S.title||M(g),path:T,stem:h.slice(0,_+1).join("/"),children:[],page:!1},d.push(b)}return b.children},a),I=j.find(d=>d.path===p.path&&d.page===!1);return I?Object.assign(I,{...p,page:void 0,children:[...p.children||[],...I.children||[]]}):j.push(p),a},[]);return D(u)}function D(t){const i=t;for(const e of i)e.children?.length?D(e.children):delete e.children;return t}function A(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}const M=t=>t.split(/[\s-]/g).map(F).join(" ");async function Q(t,i,e){const{before:n=1,after:s=1,fields:r=[]}=e||{},o=await G(t,r),c=k(o),u=c.findIndex(f=>f.path===i),a=u===-1?[]:c.slice(u-n,u),l=u===-1?[]:c.slice(u+1,u+s+1);return[...Array.from({length:n}).fill(null).concat(a).slice(a.length),...l.concat(Array.from({length:s}).fill(null)).slice(0,s)]}function k(t){return t.flatMap(e=>{const n=e.children?k(e.children):[];return e.page===!1||n.length&&n.find(s=>s.path===e.path)?n:[{...e,children:void 0},...n]})}const L=/^h([1-6])$/,V=t=>L.test(t);async function K(t,i){const{ignoredTags:e=[],extraFields:n=[]}=i||{};return(await t.where("extension","=","md").select("path","body","description","title",...n||[]).all()).flatMap(r=>Y(r,{ignoredTags:e,extraFields:n}))}function Y(t,{ignoredTags:i,extraFields:e}){const n=!t.body||t.body?.type==="root"?t.body:B(t.body),s=t.path??"",r=x(e)(t),o=[{...r,id:s,title:t.title||"",titles:[],content:(t.description||"").trim(),level:1}];if(!n?.children)return o;let c=1,u=0;const a=[t.title??""];for(const l of n.children){const f=l.tag||"";if(V(f)){const h=Number(f.match(L)?.[1]??0),m=N(l).trim();h===1?a.splice(0,a.length):h<u?a.splice(h-1,a.length-1):h===u&&a.pop(),o.push({...r,id:`${s}#${l.props?.id}`,title:m,titles:[...a],content:"",level:h}),a.push(m),u=h,c+=1}else{const h=N(l,i).trim();if(c===1&&o[c-1]?.content===h)continue;o[c-1].content=`${o[c-1].content} ${h}`.trim()}}return o}function N(t,i=[]){let e="";return t.type==="text"&&(e+=t.value||""),i.includes(t.tag??"")?"":(t.children?.length&&(e+=t.children.map(n=>N(n,i)).filter(Boolean).join("")),e)}async function nt(t,i){return await $fetch(`/__nuxt_content/${i}/sql_dump.txt`,{context:{},responseType:"text",headers:{"content-type":"text/plain"},query:{v:O[String(i)],t:void 0}})}async function z(t,i,e){return await $fetch(`/__nuxt_content/${i}/query`,{context:t?{cloudflare:t.context.cloudflare}:{},headers:{"content-type":"application/json",...t?.node?.req?.headers?.cookie?{cookie:t.node.req.headers.cookie}:{}},query:{v:O[String(i)],t:void 0},method:"POST",body:{sql:e}})}const J=t=>{const i=P()?.ssrContext?.event;return R(t,(e,n)=>X(i,e,n))};function rt(t,i,e){return W(t,n=>Q(n,i,e))}function it(t,i){return W(t,e=>K(e,i))}async function X(t,i,e){return window.WebAssembly?Z(i,e):z(t,String(i),e)}async function Z(t,i){return await U(()=>import("./Db9xj1bS.js"),__vite__mapDeps([0,1,2]),import.meta.url).then(n=>n.loadDatabaseAdapter(t)).then(n=>n.all(i))}function W(t,i){const e=J(t),n={where(s,r,o){return e.where(String(s),r,o),n},andWhere(s){return e.andWhere(s),n},orWhere(s){return e.orWhere(s),n},order(s,r){return e.order(String(s),r),n},then(s,r){return i(e).then(s,r)},catch(s){return this.then(void 0,s)},finally(s){return this.then(void 0,void 0).finally(s)},get[Symbol.toStringTag](){return"Promise"}};return n}export{rt as a,it as b,et as c,H as d,O as e,nt as f,J as q,B as t};
