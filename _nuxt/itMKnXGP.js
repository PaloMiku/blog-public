const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Dy3jKE1Z.js","./D3piFvOb.js","./D6ajeznB.js","./BpwTRCbI.js","./Bq-kMo6g.js","./D-deoX8n.js","./entry.B3t-9a59.css","./CK5gOxmq.js"])))=>i.map(i=>d[i]);
import{J as N,x as C,aO as Y,Q as u,aN as a,aZ as T,aQ as f,b5 as o,aR as r,br as ee,K as e,aT as w,b7 as k,aP as V,aM as P,b8 as h,aU as S,aV as Z,b4 as A,r as I,N as j,bp as q,a8 as H,o as te,ah as oe,a$ as z,b0 as F}from"./D6ajeznB.js";import{c as B,v as M,p as se,_ as D,t as ne,w as ae,u as ie,b as K,x as ce,j as re,r as le,d as de,y as ue,z as me}from"./Bq-kMo6g.js";import{_ as U}from"./CNPH0SzB.js";import{i as pe}from"./Cv6GG72C.js";import{d as _e,e as O}from"./CdK-aaH-.js";import{_ as fe}from"./DifPJI4X.js";import he from"./D6U9rW6F.js";import{u as Q}from"./C1dj_D6h.js";import{_ as ge}from"./CmDYMLX6.js";import{q as ve}from"./D3piFvOb.js";import{u as be}from"./CRpLgPvG.js";import"./D-deoX8n.js";import"./4kbsvIQA.js";import"./rJCbAzvX.js";import"./CK5gOxmq.js";import"./BpwTRCbI.js";const ye={key:0,class:"cover-wrapper"},xe={class:"operations"},$e={class:"post-nav"},ke={key:0,class:"post-info"},Te={key:2},Ce={key:3},we={key:4,class:"post-tags"},Pe={key:1,class:"post-subtitle"},Ne=N({inheritAttrs:!1,__name:"PostHeader",props:{path:{},readingTime:{},title:{},subtitle:{},description:{},link:{},date:{},updated:{},published:{},categories:{},tags:{},type:{},image:{},recommend:{},references:{},meta:{},"hide-info":{type:Boolean}},setup(t){const s=t,g=B(),d=C(()=>s.categories?.[0]),v=C(()=>_e(d.value)),m=`【${g.title}】${s.title}

${s.description?`${s.description}

`:""}${new URL(s.path,g.url).href}`,{copy:p,copied:i}=M(m);return(_,l)=>{const c=ee,y=se,x=U,b=D,n=Y("tip");return a(),u("div",{class:T(["post-header",{"has-cover":t.image,"text-revert":t.meta?.coverRevert}])},[t.image?(a(),u("div",ye,[r(c,{class:"post-cover",src:t.image,alt:t.title},null,8,["src","alt"]),o("div",xe,[r(y,{icon:e(i)?"ph:check-bold":"ph:share-bold",onClick:l[0]||(l[0]=$=>e(p)())},{default:w(()=>[...l[1]||(l[1]=[k(" 文字分享 ",-1)])]),_:1},8,["icon"])])])):f("",!0),o("div",$e,[t.meta?.hideInfo?f("",!0):(a(),u("div",ke,[t.date?V((a(),P(x,{key:0,"tip-prefix":"创建于",date:t.date,icon:"ph:calendar-dots-bold"},null,8,["date"])),[[n]]):f("",!0),t.updated&&("isTimeDiffSignificant"in _?_.isTimeDiffSignificant:e(pe))(t.date,t.updated,.999)?V((a(),P(x,{key:1,"tip-prefix":"修改于",date:t.updated,icon:"ph:calendar-plus-bold"},null,8,["date"])),[[n]]):f("",!0),e(d)?(a(),u("span",Te,[r(b,{name:e(v)},null,8,["name"]),k(" "+h(e(d)),1)])):f("",!0),o("span",null,[r(b,{name:"ph:paragraph-bold"}),k(" "+h(("formatNumber"in _?_.formatNumber:e(ne))(t.readingTime?.words))+" 字 ",1)]),t.readingTime?.minutes?(a(),u("span",Ce,[r(b,{name:"ph:clock-bold"}),k(" "+h(Math.ceil(t.readingTime.minutes))+" 分钟 ",1)])):f("",!0),t.tags?.length?(a(),u("div",we,[r(b,{name:"ph:tag-bold"}),(a(!0),u(S,null,Z(t.tags,$=>(a(),u("span",{key:$,class:"tag"},h($),1))),128))])):f("",!0)])),o("h1",{class:T(["post-title",("getPostTypeClassName"in _?_.getPostTypeClassName:e(O))(t.type)])},h(t.title),3),t.subtitle?(a(),u("p",Pe,' "'+h(t.subtitle)+'" ',1)):f("",!0)])],2)}}}),Ie=Object.assign(A(Ne,[["__scopeId","data-v-73cc9e5e"]]),{__name:"PostHeader"}),Se={class:"md-excerpt ai-excerpt"},Ae={class:"ai-excerpt-header"},De={class:"ai-excerpt-title"},Re={class:"ai-icon-gpt"},Ee={key:0,class:"ai-excerpt-toggle-outer hide-on-wide"},Le={class:"ai-excerpt-toggle-wrap"},Be=900,Oe=N({__name:"Excerpt",props:{excerpt:{}},setup(t){const s=t,g=B(),d=I(s.excerpt),v=I(""),m=I(!1),p=I(!1);function i(){window.innerWidth<Be?(p.value=!0,m.value=!0):(p.value=!1,m.value=!1)}i(),window.addEventListener("resize",i);function _(){p.value&&(m.value=!m.value)}return g.component.excerpt?.animation!==!1&&(d.value="",j(async()=>{v.value=g.component.excerpt?.caret??"_";for(const l of s.excerpt)d.value+=l,await ae(50);v.value=""})),(l,c)=>{const y=D;return a(),u("div",Se,[o("div",Ae,[o("div",De,[o("span",Re,[r(y,{name:"simple-icons:openai",class:"ai-gpt-icon"})]),c[0]||(c[0]=o("span",{class:"ai-label"},"智能摘要",-1))]),c[1]||(c[1]=o("span",{class:"ai-badge"},"Kimi·K2-Turbo",-1))]),o("div",{class:T(["ai-excerpt-content",{"is-folded":e(m)&&e(p),"is-unfolded":!e(m)&&e(p)}])},h(e(d))+h(e(v)),3),c[2]||(c[2]=o("noscript",null,null,-1)),e(d).length>80&&e(p)?(a(),u("div",Ee,[o("div",Le,[o("button",{class:"ai-excerpt-toggle",onClick:_},h(e(m)?"展开全部":"收起"),1)])])):f("",!0)])}}}),Ve=Object.assign(A(Oe,[["__scopeId","data-v-87580e5f"]]),{__name:"PostExcerpt"}),ze={key:0,class:"post-footer"},Fe={class:"author-card"},Ze={class:"card-header"},je={class:"author-info"},qe={class:"title"},He={key:0,class:"url"},Me={class:"copyright-badge"},Ke={class:"card-meta"},Ue={class:"meta-row"},Qe={class:"meta-item"},We={class:"value"},Je={key:0,class:"meta-item"},Ge={class:"value"},Xe={class:"meta-item"},Ye={class:"card-actions"},et=["title"],tt={key:0,class:"reference"},ot={class:"content"},st=N({inheritAttrs:!1,__name:"PostFooter",props:{path:{},readingTime:{},title:{},subtitle:{},description:{},link:{},date:{},updated:{},published:{},categories:{},tags:{},type:{},image:{},recommend:{},references:{},meta:{},"hide-info":{type:Boolean}},setup(t){const s=t,g=ie(),d=B(),v=`【${d.title}】${s.title}

${s.description?`${s.description}

`:""}${new URL(s.path,d.url).href}`,{copy:m,copied:p}=M(v);function i(){g.push("/about")}const _=C(()=>{if(!s.date)return"";try{const l=new Date(s.date);return Number.isNaN(l.getTime())?"":l.toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric"})}catch(l){return console.error(`Invalid date: ${s.date}`,l),""}});return(l,c)=>{const y=D,x=he;return t.meta?.hideInfo?f("",!0):(a(),u("div",ze,[o("section",Fe,[o("div",Ze,[o("div",je,[o("h3",qe,h(t.title),1),t.path?(a(),u("p",He,h(t.path),1)):f("",!0)]),o("div",Me,[r(y,{name:"ph:copyright-bold"})])]),o("div",Ke,[o("div",Ue,[o("div",Qe,[c[1]||(c[1]=o("span",{class:"label"},"文章作者",-1)),o("span",We,h(e(d).author.name),1)]),t.date?(a(),u("div",Je,[c[2]||(c[2]=o("span",{class:"label"},"发布时间",-1)),o("span",Ge,h(e(_)),1)])):f("",!0),o("div",Xe,[c[3]||(c[3]=o("span",{class:"label"},"版权信息",-1)),r(x,{href:e(d).copyright.url,class:"value"},{default:w(()=>[k(h(e(d).copyright.name),1)]),_:1},8,["href"])])])]),o("div",Ye,[o("button",{class:"action-btn",title:e(p)?"已复制":"复制/分享",onClick:c[0]||(c[0]=b=>e(m)())},[r(y,{name:e(p)?"ph:check-bold":"ph:share-bold"},null,8,["name"])],8,et),o("button",{class:"action-btn",title:"打赏",onClick:i},[r(y,{name:"ph:heart-bold"})])])]),t.references?(a(),u("section",tt,[c[4]||(c[4]=o("div",{id:"references",class:"title text-creative"}," 参考链接 ",-1)),o("div",ot,[o("ul",null,[(a(!0),u(S,null,Z(t.references,({title:b,link:n},$)=>(a(),u("li",{key:$},[r(x,{href:n||""},{default:w(()=>[k(h(b??n),1)]),_:2},1032,["href"])]))),128))])])])):f("",!0)]))}}}),nt=Object.assign(A(st,[["__scopeId","data-v-3530dd60"]]),{__name:"PostFooter"}),at={class:"surround-text"},it={key:0,class:"surround-post",dir:"ltr"},ct=N({__name:"PostSurround",async setup(t){let s,g;const d=K(),{data:v}=([s,g]=q(()=>Q(`surround-${d.path}`,()=>H(()=>import("./Dy3jKE1Z.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]),import.meta.url).then(l=>(l.default||l)(d)))),s=await s,g(),s),[m=null,p=null]=v.value??[],[i,_]=ce({inheritAttrs:!1});return(l,c)=>{const y=D,x=U,b=re;return a(),u(S,null,[r(e(i),null,{default:w(({post:n,icon:$,fallbackIcon:R,fallbackText:E,alignEnd:L})=>[r(b,{to:n?.path,class:"surround-link","align-end":L},{default:w(()=>[r(y,{class:T({"rtl-flip":n}),name:n?$:R},null,8,["class","name"]),o("div",at,[o("strong",{class:T(["title",("getPostTypeClassName"in l?l.getPostTypeClassName:e(O))(n?.type)])},h(n?.title||E),3),n?.date?(a(),P(x,{key:0,class:"date",date:n.date},null,8,["date"])):f("",!0)])]),_:2},1032,["to","align-end"])]),_:1}),e(m)||e(p)?(a(),u("div",it,[r(e(_),{post:e(p),icon:"solar:rewind-back-bold-duotone","fallback-icon":"solar:document-add-bold-duotone","fallback-text":"新故事即将发生"},null,8,["post"]),r(e(_),{post:e(m),icon:"solar:rewind-forward-bold-duotone","fallback-icon":"solar:reel-bold-duotone","fallback-text":"已抵达博客尽头","align-end":""},null,8,["post"])])):f("",!0)],64)}}}),rt=Object.assign(A(ct,[["__scopeId","data-v-5bbacfc0"]]),{__name:"PostSurround"}),Ct=N({__name:"[...slug]",async setup(t){let s,g;const d=K(),v=le(),m=de();m.setAside(["toc"]);const p=C(()=>{let n=d.path;return n.endsWith("/")&&n!=="/"&&(n=n.slice(0,-1)),n}),{data:i,pending:_}=([s,g]=q(()=>Q(()=>H(()=>import("./BXHR3OV9.js"),[],import.meta.url).then(n=>(n.default||n)(p)),()=>ve("content").path(p.value).first(),{watch:[p]})),s=await s,g(),s),l=be(),{toc:c,meta:y}=ue(l),x=C(()=>i.value?.description||"");j(()=>{v.initAIExcerptSetting()});function b(){c.value=i.value?.body.toc,y.value=i.value?.meta}return b(),te(i,()=>{b()},{immediate:!1}),i.value?(oe({title:i.value.title,meta:[{property:"og:type",content:"article"},{property:"og:image",content:i.value.image},{name:"description",content:i.value.description}]}),m.setAside(i.value.meta?.aside)):_.value||(d.meta.title="404",m.setAside(["blog-log"])),(n,$)=>{const R=Ie,E=Ve,L=fe,W=nt,J=rt,G=ge,X=me;return e(i)&&!e(_)?(a(),u(S,{key:0},[r(R,z(F(e(i))),null,16),e(x)&&e(v).showAIExcerpt?(a(),P(E,{key:0,excerpt:e(x)},null,8,["excerpt"])):f("",!0),r(L,{class:T(["article",("getPostTypeClassName"in n?n.getPostTypeClassName:e(O))(e(i)?.type,{prefix:"md"})]),value:e(i),tag:"article"},null,8,["class","value"]),r(W,z(F(e(i))),null,16),r(J),r(G)],64)):(a(),P(X,{key:1,icon:"solar:confounded-square-bold-duotone",title:"内容为空或页面不存在"}))}}});export{Ct as default};
