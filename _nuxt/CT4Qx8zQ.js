const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Br0-_1Ql.js","./BW2bxRSa.js","./GAkUfEac.js","./CDkZ9lWR.js","./entry.CKnYNNxN.css","./DvHNCatj.js","./CK5gOxmq.js"])))=>i.map(i=>d[i]);
import{D as U,y as T,d as g,e as r,U as x,f as A,g as y,O as t,a3 as Y,w as O,h as n,t as p,F as L,Q as F,W as R,_ as P,x as W,H as j,E as z,I as H,b as G,an as Q,P as N,S as C,a7 as q,a6 as J}from"./CDkZ9lWR.js";import{_ as K}from"./B9u_xdOM.js";import{_ as M,i as X}from"./6jhpUKz8.js";import{g as $,i as Z}from"./CGdbykoi.js";import{u as ee}from"./CdyRnMfT.js";import{a as te,b as ae,g as se}from"./BW2bxRSa.js";import"./CYIRVW0k.js";import"./GAkUfEac.js";import"./DvHNCatj.js";import"./CK5gOxmq.js";const oe={class:"article-item"},ie={class:"article-title"},ne=U({__name:"Archive",props:{to:{},useUpdated:{type:Boolean},path:{},readingTime:{},title:{},subtitle:{},description:{},link:{},date:{},updated:{},published:{},categories:{},tags:{},type:{},image:{},recommend:{},references:{},meta:{},"hide-info":{type:Boolean}},setup(e){const l=e,c=T(()=>l.useUpdated?l.updated:l.date);return(o,f)=>{const h=M,b=R,D=Y;return r(),g("li",oe,[t(c)?(r(),x(h,{key:0,datetime:t(c),title:("getLocaleDatetime"in o?o.getLocaleDatetime:t($))(t(c)),month:"2-digit",day:"2-digit"},null,8,["datetime","title"])):A("",!0),y(D,{class:"article-link gradient-card",to:e.to,title:e.description},{default:O(()=>[n("span",ie,p(e.title),1),e.date&&e.useUpdated&&("isTimeDiffSignificant"in o?o.isTimeDiffSignificant:t(Z))(e.date,e.updated)?(r(),g(L,{key:0},[f[0]||(f[0]=F("   ",-1)),y(h,{class:"aux-date",datetime:e.date,title:("getLocaleDatetime"in o?o.getLocaleDatetime:t($))(e.date),year:t(X)(e.date,e.updated??0)?void 0:"numeric",month:"2-digit",day:"2-digit"},null,8,["datetime","title","year"])],64)):A("",!0),e.image?(r(),x(b,{key:1,class:"article-cover",src:e.image,alt:e.title,loading:"lazy"},null,8,["src","alt"])):A("",!0)]),_:1},8,["to","title"])])}}}),re=Object.assign(P(ne,[["__scopeId","data-v-a33c9a13"]]),{__name:"PostArchive"}),le={class:"archive proper-height"},de={class:"archive-title"},ce={class:"archive-year"},ue={class:"archive-age"},me={class:"archive-info"},ge=U({__name:"archive",async setup(e){let l,c;const o=W();j({title:"归档",meta:[{property:"og:type",content:"website"},{name:"description",content:`${o.title}的所有文章归档，按时间年份分类展示所有已发布的文章。`},{name:"keywords",content:"归档,文章分类,时间线,文章列表"}]});const f=o.component.stats.birthYear;z().setAside(["blog-stats","blog-log"]);const{data:b}=([l,c]=H(()=>ee("index_posts",()=>G(()=>import("./Br0-_1Ql.js"),__vite__mapDeps([0,1,2,3,4,5,6]),import.meta.url).then(i=>(i.default||i)()),{default:()=>[]})),l=await l,c(),l),{listSorted:D,isAscending:_,sortOrder:u}=te(b),{category:k,categories:B,listCategorized:I}=ae(D),w=T(()=>{const i=Object.entries(se(I.value,a=>{try{const d=a[u.value];if(!d)return 0;const m=new Date(d);return Number.isNaN(m.getTime())?0:m.getFullYear()}catch(d){return console.error(`Invalid date: ${a[u.value]}`,d),0}}));return _.value?i:i.reverse()}),V=T(()=>w.value.reduce((i,[a,d])=>{const m=d?.reduce((s,v)=>s+v.readingTime.words,0)||0;return i[a]=Q(m),i},{}));return(i,a)=>{const d=K,m=re;return r(),g("div",le,[y(d,{"is-ascending":t(_),"onUpdate:isAscending":a[0]||(a[0]=s=>N(_)?_.value=s:null),"sort-order":t(u),"onUpdate:sortOrder":a[1]||(a[1]=s=>N(u)?u.value=s:null),category:t(k),"onUpdate:category":a[2]||(a[2]=s=>N(k)?k.value=s:null),categories:t(B)},null,8,["is-ascending","sort-order","category","categories"]),(r(!0),g(L,null,C(t(w),([s,v])=>(r(),g("section",{key:s,class:"archive-group"},[n("div",de,[n("h2",ce,p(s),1),n("div",ue,[n("span",null,p(Number(s)-t(f)),1),a[3]||(a[3]=n("span",{class:"age-label"},"岁",-1))]),n("div",me,[n("span",null,p(t(V)[s])+"字",1),n("span",null,p(v?.length)+"篇",1)])]),y(J,{tag:"menu",class:"archive-list",name:"float-in"},{default:O(()=>[(r(!0),g(L,null,C(v,(S,E)=>(r(),x(m,q({key:S.path},{ref_for:!0},S,{to:S.path,"use-updated":t(u)==="updated",style:{"--delay":`${E*.03}s`}}),null,16,["to","use-updated","style"]))),128))]),_:2},1024)]))),128))])}}}),Ae=P(ge,[["__scopeId","data-v-c9b74132"]]);export{Ae as default};
