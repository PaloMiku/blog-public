import{G as h,r as c,o as N,W as m,e as o,w as _,d as u,f as d,Q as t,h as s,g as p,S as f,O as w,b4 as z,n as B,Y as C,t as i,U as I,_ as G}from"./C6mtDRqO.js";import{_ as V}from"./TSDK-JMg.js";import{u as L,s as M,a as W}from"./DO6JNT7X.js";const A={key:0,class:"steam-loading-center"},D={key:1,style:{"text-align":"center",color:"var(--c-text-2)"}},O={class:"user-info"},P={class:"user-row"},$={class:"username"},j=["title"],E=h({__name:"SteamStats",setup(F){const{fetchSteamData:g}=L(),a=c(null),r=c(!0),l=c(!1);function S(e){return M[e]||"#90a0a6"}function v(e){return W[e]||e}return N(async()=>{try{const e=await g();e.success&&e.data?.user?a.value=e.data.user:l.value=!0}catch(e){console.error("Failed to load Steam user info:",e),l.value=!0}finally{r.value=!1}}),(e,n)=>{const x=w,y=C,k=z,b=V;return o(),m(b,{card:"",title:"Steam"},{default:_(()=>[t(r)?(o(),u("div",A,[...n[0]||(n[0]=[s("div",{class:"steam-loading-spinner"},null,-1),s("div",{class:"steam-loading-text"}," Steam API 通讯中... ",-1)])])):t(l)?(o(),u("p",D,[p(x,{name:"ph:warning-circle-bold"}),n[1]||(n[1]=f(" Steam API 连接失败 ",-1))])):t(a)?(o(),m(k,{key:2,to:"/steam",class:B(["steam-card-content",[{loaded:!t(r)}]])},{default:_(()=>[p(y,{src:t(a).avatar.medium,alt:t(a).username,class:"user-avatar",loading:"lazy",sizes:"48px"},null,8,["src","alt"]),s("div",O,[s("div",P,[s("div",$,i(t(a).username),1),s("div",{class:"status-badge",style:I({"--status-color":S(t(a).status)})},[n[2]||(n[2]=s("span",{class:"status-dot"},null,-1)),f(" "+i(v(t(a).status)),1)],4)]),t(a).currentGame?(o(),u("div",{key:0,class:"game-name",title:t(a).currentGame.name}," 正在玩 "+i(t(a).currentGame.name),9,j)):d("",!0)])]),_:1},8,["class"])):d("",!0)]),_:1})}}}),Y=Object.assign(G(E,[["__scopeId","data-v-2e2009e5"]]),{__name:"WidgetSteamStats"});export{Y as default};
