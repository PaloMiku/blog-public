import{u as $,_ as D}from"#entry";import{b4 as I,S as N,aM as w,aN as c,aT as u,aS as O,J as S,bp as V,k as Z,bq as b,Q as g,aR as l,b7 as o,K as s,b5 as v,aZ as y,aU as j,aV as x,aQ as h}from"./uh8YQMIa.js";import{c as C}from"./_mTkJrry.js";const K={};function Q(n,p){const i=N("Tooltip");return c(),w(i,{class:"dropdown",interactive:"",placement:"bottom",arrow:!1,"hide-on-click":!1,offset:[0,0]},{content:u(({hide:d})=>[O(n.$slots,"content",{hide:d},void 0,!0)]),default:u(()=>[O(n.$slots,"default",{},void 0,!0)]),_:3})}const q=Object.assign(I(K,[["render",Q],["__scopeId","data-v-1eb1cc1c"]]),{__name:"ZDropdown"}),z={class:"order-toggle"},E=["disabled"],F={class:"order-text"},J=["onClick"],L=["onClick"],R={class:"order-text"},U=S({__name:"OrderToggle",props:V({enableAscending:{type:Boolean},disableAscending:{type:Boolean},categories:{}},{category:{},categoryModifiers:{},sortOrder:{default:"date"},sortOrderModifiers:{},isAscending:{type:Boolean},isAscendingModifiers:{}}),emits:["update:category","update:sortOrder","update:isAscending"],setup(n){const p=n,i=$(),d=i.article.order,_=Z(()=>i.pagination.allowAscending?!p.disableAscending:p.enableAscending),t=b(n,"category"),m=b(n,"sortOrder"),f=b(n,"isAscending");function B(){const e=Object.keys(d);m.value=e[(e.indexOf(m.value)+1)%e.length]||"date"}function M(){_.value&&(f.value=!f.value)}return(e,k)=>{const r=D,T=q;return c(),g("div",z,[l(T,{trigger:"focusin"},{content:u(({hide:A})=>[o("button",{class:y({active:!t.value}),onClick:a=>(A(),t.value=void 0)},[l(r,{name:("getCategoryIcon"in e?e.getCategoryIcon:s(C))()},null,8,["name"]),k[0]||(k[0]=o("span",null,"全部分类",-1))],10,J),(c(!0),g(j,null,x(n.categories,a=>(c(),g("button",{key:a,class:y({active:a===t.value}),onClick:G=>(A(),t.value=a)},[l(r,{name:("getCategoryIcon"in e?e.getCategoryIcon:s(C))(a)},null,8,["name"]),o("span",null,v(a),1)],10,L))),128))]),default:u(()=>[o("button",{disabled:!n.categories},[l(r,{name:("getCategoryIcon"in e?e.getCategoryIcon:s(C))(t.value)},null,8,["name"]),o("span",F,v(t.value??"全部分类"),1)],8,E)]),_:1}),o("div",null,[s(_)?(c(),g("button",{key:0,"aria-label":"切换排序方向",onClick:M},[l(r,{name:"ph:sort-ascending-bold",class:y(["toggle-direction",{ascending:f.value}])},null,8,["class"])])):h("",!0),o("button",{onClick:B},[s(_)?h("",!0):(c(),w(r,{key:0,name:"ph:sort-ascending-bold"})),o("span",R,v(s(d)[m.value]),1)])])])}}}),X=Object.assign(I(U,[["__scopeId","data-v-ca97a498"]]),{__name:"ZOrderToggle"});export{X as _};
