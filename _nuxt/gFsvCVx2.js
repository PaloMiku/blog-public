const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./CyODmX_n.js","./CoLgjbI_.js","./D6ajeznB.js","./D-deoX8n.js","./entry.B3t-9a59.css","./Alert.CtchqJiG.css","./FlLqtQrY.js","./CDqnDMgs.js","./Badge.dpIaIqoD.css","./BzxbSKwW.js","./Blur.B-jU4pb_.css","./DRpeph4c.js","./CardList.CUzalQHM.css","./ClsT3s_7.js","./Chat.DflUvKVA.css","./CZ8ThALR.js","./Copy.DZr0DIN3.css","./hhZHJxuh.js","./DpJiTtQW.js","./Folding.C2PAOQ-n.css","./DbMNB4tJ.js","./GameCard.C8UasI-H.css","./CBqFBKdQ.js","./DjtYV2Bu.js","./LinkBanner.B451pqZ3.css","./BUGrYbwT.js","./LinkCard.CKSSmepd.css","./CGtiSRWG.js","./MusicPlayer.RxpUmLyQ.css","./Co17RDj1.js","./MusicScore.T8ZaJg5P.css","./BjjTUmR-.js","./Pic.KsqGeanj.css","./D5MTuQK_.js","./Poetry.ywBKvOeN.css","./BmWvp93t.js","./ProseA.BTfGpl4j.css","./KFXfTaUu.js","./ProseCode.Cl0cfRBZ.css","./BUpw51yY.js","./ProseTable.DQgQdj7r.css","./KKI3Vhvf.js","./Quote.JA7pZPsL.css","./BwmQ-tH3.js","./ResourceList.CUgoNLTX.css","./B5cvtf5a.js","./Tab.D281f3h-.css","./Dl2LDKns.js","./Timeline.C44sJ9Hm.css","./D7PHQJR-.js","./Tip.DbdmvSUm.css","./Cnjmp_2_.js","./VideoEmbed.Bbf35Hia.css"])))=>i.map(i=>d[i]);
import{J,M as S,O as X,x as P,n as B,g as Y,o as tt,U as M,ai as I,bu as C,bv as et,d as rt,a8 as c,A as nt,aM as ot,aS as st,aN as it,aZ as at,K as w}from"./D6ajeznB.js";import{A as E,B as F}from"./CoLgjbI_.js";import{f as ut,h as ct}from"./rJCbAzvX.js";import{t as pt}from"./CK5gOxmq.js";const A=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"],lt=["p","h1","h2","h3","h4","h5","h6","li"];function R(t,r){return t.type===r||typeof t.type=="object"&&t.type.tag===r||t.tag===r}function x(t){return R(t,"text")||R(t,Symbol.for("v-txt"))}function $(t){return Array.isArray(t.children)||typeof t.children=="string"?t.children:typeof t.children?.default=="function"?t.children.default():[]}function D(t){if(!t)return"";if(Array.isArray(t))return t.map(D).join("");if(x(t))return t.value||t.children||"";const r=$(t);return Array.isArray(r)?r.map(D).filter(Boolean).join(""):""}function k(t,r=[]){if(Array.isArray(t))return t.flatMap(n=>k(n,r));let e=t;return r.some(n=>n==="*"||R(t,n))&&(e=$(t)||t,!Array.isArray(e)&&lt.some(n=>R(t,n))&&(e=[e])),e}function N(t,r=[]){return t=Array.isArray(t)?t:[t],r.length?t.flatMap(e=>N(k(e,[r[0]]),r.slice(1))).filter(e=>!(x(e)&&D(e).trim()==="")):t}function H(t,r=[]){return typeof r=="string"&&(r=r.split(/[,\s]/).map(e=>e.trim()).filter(Boolean)),r.length?N(t,r).reduce((e,n)=>(x(n)?typeof e[e.length-1]=="string"?e[e.length-1]+=n.children:e.push(n.children):e.push(n),e),[]):t}function mt(t,r){return r.reduce((e,n)=>{const o=ft(t,n);return o!==void 0&&(e[n]=o),e},{})}function ft(t,r){return r.split(".").reduce((e,n)=>e&&e[n],t)}const V="default",q=/^@|^v-on:/,U=/^:|^v-bind:/,dt=/^v-model/,_t=["select","textarea","input"],gt=["math","svg"],yt=Object.fromEntries(["p","a","blockquote","code","pre","code","em","h1","h2","h3","h4","h5","h6","hr","img","ul","ol","li","strong","table","thead","tbody","td","th","tr","script"].map(t=>[t,`prose-${t}`])),ht=["script","base"],vt=J({name:"MDCRenderer",props:{body:{type:Object,required:!0},data:{type:Object,default:()=>({})},class:{type:[String,Object],default:void 0},tag:{type:[String,Boolean],default:void 0},prose:{type:Boolean,default:void 0},components:{type:Object,default:()=>({})},unwrap:{type:[Boolean,String],default:!1}},async setup(t){const e=X()?.appContext?.app?.$nuxt,n=e?.$route||e?._route,{mdc:o}=e?.$config?.public||{},i=P(()=>({...o?.components?.prose&&t.prose!==!1?yt:{},...o?.components?.map||{},...B(t.data?.mdc?.components||{}),...t.components})),m=P(()=>{const a=(t.body?.children||[]).map(u=>u.tag||u.type).filter(u=>!A.includes(u));return Array.from(new Set(a)).sort().join(".")}),p=Y({...t.data});tt(()=>t.data,a=>{Object.assign(p,a)}),await It(t.body,{tags:i.value});function l(a,u){const d=a.split(".").length-1;return a.split(".").reduce((g,y,T)=>T==d&&g?(g[y]=u,g[y]):typeof g=="object"?g[y]:void 0,p)}return{tags:i,contentKey:m,route:n,runtimeData:p,updateRuntimeData:l}},render(t){const{tags:r,tag:e,body:n,data:o,contentKey:i,route:m,unwrap:p,runtimeData:l,updateRuntimeData:a}=t;if(!n)return null;const u={...o,tags:r,$route:m,runtimeData:l,updateRuntimeData:a},d=e!==!1?j(e||u.component?.name||u.component||"div"):void 0;return d?S(d,{...u.component?.props,class:t.class,...this.$attrs,key:i},{default:g}):g?.();function g(){const y=K(n,S,{documentMeta:u,parentScope:u,resolveComponent:j});return y?.default?p?H(y.default(),typeof p=="string"?p.split(" "):["*"]):y.default():null}}});function bt(t,r,e,n){const{documentMeta:o,parentScope:i,resolveComponent:m}=e;if(t.type==="text")return r(C,t.value);if(t.type==="comment")return r(et,null,t.value);const p=t.tag,l=W(t,o.tags);if(t.tag==="binding")return Pt(t,r,o,i);const a=G(l)?g=>g:m;if(ht.includes(l))return r("pre",{class:"mdc-renderer-dangerous-tag"},"<"+l+">"+D(t)+"</"+l+">");const u=a(l);typeof u=="object"&&(u.tag=p);const d=Tt(t,o);return n&&(d.key=n),r(u,d,K(t,r,{documentMeta:o,parentScope:{...i,...d},resolveComponent:a}))}function K(t,r,e){const{documentMeta:n,parentScope:o,resolveComponent:i}=e,p=(t.children||[]).reduce((a,u)=>{if(!Dt(u))return a[V].children.push(u),a;const d=Rt(u);return a[d]=a[d]||{props:{},children:[]},u.type==="element"&&(a[d].props=u.props,a[d].children.push(...u.children||[])),a},{[V]:{props:{},children:[]}});return Object.entries(p).reduce((a,[u,{props:d,children:g}])=>(g.length&&(a[u]=(y={})=>{const T=mt(y,Object.keys(d||{}));let O=g.map((s,f)=>bt(s,r,{documentMeta:n,parentScope:{...o,...T},resolveComponent:i},String(s.props?.key||f)));return d?.unwrap&&(O=H(O,d.unwrap)),Lt(O)}),a),{})}function Pt(t,r,e,n={}){const o={...e.runtimeData,...n,$document:e,$doc:e},i=/\.|\[(\d+)\]/,p=(t.props?.value.trim().split(i).filter(Boolean)).reduce((a,u)=>{if(a&&u in a)return typeof a[u]=="function"?a[u]():a[u]},o),l=t.props?.defaultValue;return r(C,p??l??"")}function Tt(t,r){const{tag:e="",props:n={}}=t;return Object.keys(n).reduce(function(o,i){if(i==="__ignoreMap")return o;const m=n[i];if(dt.test(i))return Et(i,m,o,r,{native:_t.includes(e)});if(i==="v-bind")return Ot(i,m,o,r);if(q.test(i))return At(i,m,o,r);if(U.test(i))return Ct(i,m,o,r);const{attribute:p}=ut(ct,i);return Array.isArray(m)&&m.every(l=>typeof l=="string")?(o[p]=m.join(" "),o):(o[p]=m,o)},{})}function Et(t,r,e,n,{native:o}){const i=t.match(/^v-model:([^=]+)/)?.[1]||"modelValue",m=o?"value":i,p=o?"onInput":`onUpdate:${i}`;return e[m]=L(r,n.runtimeData),e[p]=l=>{n.updateRuntimeData(r,o?l.target?.value:l)},e}function Ot(t,r,e,n){const o=L(r,n);return e=Object.assign(e,o),e}function At(t,r,e,n){return t=t.replace(q,""),e.on=e.on||{},e.on[t]=()=>L(r,n),e}function Ct(t,r,e,n){return t=t.replace(U,""),e[t]=L(r,n),e}const j=t=>{if(typeof t=="string"){if(A.includes(t))return t;const r=M(E(t),!1);return!t||r?.name==="AsyncComponentWrapper"||typeof r=="string"?r:"setup"in r?I(()=>new Promise(e=>e(r))):r}return t};function L(t,r){const e=t.split(".").reduce((n,o)=>typeof n=="object"?n[o]:void 0,r);return typeof e>"u"?rt(t):e}function Rt(t){let r="";for(const e of Object.keys(t.props||{}))if(!(!e.startsWith("#")&&!e.startsWith("v-slot:"))){r=e.split(/[:#]/,2)[1];break}return r||V}function Dt(t){return t.tag==="template"}function G(t){return gt.includes(t)}function Lt(t){const r=[];for(const e of t){const n=r[r.length-1];e.type===C&&n?.type===C?n.children=n.children+e.children:r.push(e)}return r}async function It(t,r){if(!t)return;const e=Array.from(new Set(n(t,r)));await Promise.all(e.map(async o=>{if(o?.render||o?.ssrRender||o?.__ssrInlineRender)return;const i=j(o);i?.__asyncLoader&&!i.__asyncResolved&&await i.__asyncLoader()}));function n(o,i){const m=o.tag;if(o.type==="text"||m==="binding"||o.type==="comment")return[];const p=W(o,i.tags);if(G(p))return[];const l=[];o.type!=="root"&&!A.includes(p)&&l.push(p);for(const a of o.children||[])l.push(...n(a,i));return l}}function W(t,r){const e=t.tag;return!e||typeof t.props?.__ignoreMap<"u"?e:r[e]||r[E(e)]||r[F(t.tag)]||e}const Vt=Object.assign(vt,{__name:"MDCRenderer"}),jt=()=>c(()=>import("./CyODmX_n.js"),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url),xt=()=>c(()=>import("./FlLqtQrY.js"),__vite__mapDeps([6,2,1,3,4,7,8]),import.meta.url),St=()=>c(()=>import("./BzxbSKwW.js"),__vite__mapDeps([9,2,10]),import.meta.url),wt=()=>c(()=>import("./DRpeph4c.js"),__vite__mapDeps([11,2,12]),import.meta.url),Bt=()=>c(()=>import("./ClsT3s_7.js"),__vite__mapDeps([13,2,14]),import.meta.url),Mt=()=>c(()=>import("./CZ8ThALR.js"),__vite__mapDeps([15,1,2,3,4,16]),import.meta.url),Ft=()=>c(()=>import("./hhZHJxuh.js"),__vite__mapDeps([17,1,2,3,4]),import.meta.url),$t=()=>c(()=>import("./DpJiTtQW.js"),__vite__mapDeps([18,2,19]),import.meta.url),kt=()=>c(()=>import("./DbMNB4tJ.js"),__vite__mapDeps([20,2,1,3,4,21]),import.meta.url),Nt=()=>c(()=>import("./CoLgjbI_.js").then(t=>t.ac),__vite__mapDeps([1,2,3,4]),import.meta.url),Ht=()=>c(()=>import("./CBqFBKdQ.js"),__vite__mapDeps([22,23,2,7,1,3,4,24]),import.meta.url),qt=()=>c(()=>import("./BUGrYbwT.js"),__vite__mapDeps([25,23,2,7,1,3,4,26]),import.meta.url),Ut=()=>c(()=>import("./CGtiSRWG.js").then(t=>t.M),__vite__mapDeps([27,2,1,3,4,28]),import.meta.url),Kt=()=>c(()=>import("./Co17RDj1.js"),__vite__mapDeps([29,2,30]),import.meta.url),Gt=()=>c(()=>import("./BjjTUmR-.js"),__vite__mapDeps([31,2,23,7,1,3,4,32]),import.meta.url),Wt=()=>c(()=>import("./D5MTuQK_.js"),__vite__mapDeps([33,2,34]),import.meta.url),zt=()=>c(()=>import("./BmWvp93t.js"),__vite__mapDeps([35,1,2,3,4,36]),import.meta.url),Qt=()=>c(()=>import("./KFXfTaUu.js"),__vite__mapDeps([37,1,2,3,4,38]),import.meta.url),Zt=()=>c(()=>import("./CoLgjbI_.js").then(t=>t.ad),__vite__mapDeps([1,2,3,4]),import.meta.url),Jt=()=>c(()=>import("./BUpw51yY.js"),__vite__mapDeps([39,1,2,3,4,40]),import.meta.url),Xt=()=>c(()=>import("./KKI3Vhvf.js"),__vite__mapDeps([41,1,2,3,4,42]),import.meta.url),Yt=()=>c(()=>import("./BwmQ-tH3.js"),__vite__mapDeps([43,6,2,1,3,4,7,8,44]),import.meta.url),te=()=>c(()=>import("./B5cvtf5a.js"),__vite__mapDeps([45,2,1,3,4,46]),import.meta.url),ee=()=>c(()=>import("./Dl2LDKns.js"),__vite__mapDeps([47,2,48]),import.meta.url),re=()=>c(()=>import("./D7PHQJR-.js"),__vite__mapDeps([49,1,2,3,4,50]),import.meta.url),ne=()=>c(()=>import("./Cnjmp_2_.js"),__vite__mapDeps([51,1,2,3,4,52]),import.meta.url),z=["ZhiluHeader","ProseBlockquote","ProseEm","ProseH1","ProseH2","ProseH3","ProseH4","ProseH5","ProseH6","ProseHr","ProseImg","ProseLi","ProseOl","ProseP","ProseScript","ProseStrong","ProseTbody","ProseTd","ProseTh","ProseThead","ProseTr","ProseUl","Icon"],Q=["Alert","Badge","Blur","CardList","Chat","Copy","EmojiClock","Folding","GameCard","Key","LinkBanner","LinkCard","MusicPlayer","MusicScore","Pic","Poetry","ProseA","ProseCode","ProsePre","ProseTable","Quote","ResourceList","Tab","Timeline","Tip","VideoEmbed"],oe=Object.freeze(Object.defineProperty({__proto__:null,Alert:jt,Badge:xt,Blur:St,CardList:wt,Chat:Bt,Copy:Mt,EmojiClock:Ft,Folding:$t,GameCard:kt,Key:Nt,LinkBanner:Ht,LinkCard:qt,MusicPlayer:Ut,MusicScore:Kt,Pic:Gt,Poetry:Wt,ProseA:zt,ProseCode:Qt,ProsePre:Zt,ProseTable:Jt,Quote:Xt,ResourceList:Yt,Tab:te,Timeline:ee,Tip:re,VideoEmbed:ne,globalComponents:z,localComponents:Q},Symbol.toStringTag,{value:"Module"})),se={__name:"ContentRenderer",props:{value:{type:Object,required:!0},excerpt:{type:Boolean,default:!1},tag:{type:String,default:"div"},components:{type:Object,default:()=>({})},data:{type:Object,default:()=>({})},prose:{type:Boolean,default:void 0},class:{type:[String,Object],default:void 0},unwrap:{type:[Boolean,String],default:!1}},setup(t){const r=["render","ssrRender","__ssrInlineRender"],e=t,n=import.meta.preview,o=P(()=>{let s=e.value.body||e.value;return e.excerpt&&e.value.excerpt&&(s=e.value.excerpt),s.type==="minimal"||s.type==="minimark"?pt({value:s.value}):s}),i=P(()=>!o.value?.children?.length),m=P(()=>{const{body:s,excerpt:f,..._}=e.value;return{..._,...e.data}}),p=Object.fromEntries(["p","a","blockquote","code","pre","code","em","h1","h2","h3","h4","h5","h6","hr","img","ul","ol","li","strong","table","thead","tbody","td","th","tr","script"].map(s=>[s,`prose-${s}`])),{mdc:l}=nt().public||{},a=P(()=>e.data.mdc),u=P(()=>({...l?.components?.prose&&e.prose!==!1?p:{},...l?.components?.map||{},...B(a.value?.components||{}),...e.components})),d=P(()=>o.value?y(o.value,{tags:u.value}):{});function g(s){let f=s;if(typeof s=="string"){if(A.includes(s))return s;if(z.includes(E(s))?f=M(s,!1):Q.includes(E(s))&&(f=I(()=>c(()=>Promise.resolve().then(()=>oe),void 0,import.meta.url).then(h=>{const v=h[E(s)];return v?v():void 0}))),typeof f=="string")return f}if(!f)return f;const _=f;return"__asyncLoader"in _?_:"setup"in _?I(()=>Promise.resolve(_)):_}function y(s,f){if(!s)return;const _=Array.from(new Set(T(s,f))),b={};for(const[h,v]of _)if(!b[h]){if(typeof v=="object"&&r.some(Z=>Object.hasOwnProperty.call(v,Z))){b[h]=v;continue}b[h]=g(v)}return b}function T(s,f){const _=s.tag;if(s.type==="text"||_==="binding"||s.type==="comment")return[];const b=O(s,f.tags),h=[];s.type!=="root"&&!A.includes(b)&&h.push([_,b]);for(const v of s.children||[])h.push(...T(v,f));return h}function O(s,f){const _=s.tag;return!_||typeof s.props?.__ignoreMap<"u"?_:f[_]||f[E(_)]||f[F(s.tag)]||_}return(s,f)=>i.value?st(s.$slots,"empty",{key:1,body:o.value,data:m.value,dataContentId:w(n)?t.value.id:void 0}):(it(),ot(Vt,{key:0,body:o.value,data:m.value,class:at(e.class),tag:e.tag,prose:e.prose,unwrap:e.unwrap,components:d.value,"data-content-id":w(n)?t.value.id:void 0},null,8,["body","data","class","tag","prose","unwrap","components","data-content-id"]))}},pe=Object.assign(se,{__name:"ContentRenderer"});export{pe as _};
