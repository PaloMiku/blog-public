import{u as P,c as b,t as h,e as k,d as N,a2 as x,a3 as C,a as I,a4 as V,a5 as M,o as $,a6 as T,j as u,k as c,F as m,l as _,N as A,x as v,q as f,n as y,$ as E,y as S,z as B,C as F}from"#entry";import{u as w}from"./G7RNiGtP.js";function Z(l,n){const e=P(),{initialPage:a=1,perPage:o=e.pagination.perPage||10,bindQuery:s=!1}=n??{},r=b(()=>Math.ceil(h(l).length/o)||a);function d(t){const g=Number(t);return g>=1&&g<=r.value?g:a}const i=s?w(s,a.toString(),{transform:d,mode:"push"}):k(a),p=b(()=>{const t=(i.value-1)*o;return h(l).slice(t,t+o)});return{totalPages:r,page:i,listPaged:p}}function z(l,n,e=1){const a=Math.max(2,Math.min(l-e,n-2*e)),o=Math.min(n,a+2*e),s=Array.from({length:o-a+1},(r,d)=>a+d);return a>3&&s.unshift(Number.NEGATIVE_INFINITY),a===3&&s.unshift(2),a>1&&s.unshift(1),o<n-2&&s.push(Number.POSITIVE_INFINITY),o===n-2&&s.push(n-1),o<n&&s.push(n),s}const j=["aria-label"],q=["aria-label","onClick","textContent"],L={key:1,disabled:"",class:"pagination-num"},O={ref:"pagination-anchor"},Q=N({__name:"Pagination",props:x({totalPages:{},expandPages:{},sticky:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(l){const n=l,e=C(l,"modelValue"),a=b(()=>z(e.value,n.totalPages,n.expandPages??2)),o=I(),s=V("pagination-anchor"),r=M(s);return $(()=>{o.setTranslate("pagination","0, -2em"),e.value=Number(e.value)}),T(()=>{o.setTranslate("pagination","")}),(d,i)=>{const p=E;return c(),u(m,null,[_("nav",{class:v(["pagination",{sticky:l.sticky,expand:f(r)}]),"aria-label":`第${e.value}页，共${l.totalPages}页`,style:A({"--collapsed-width":`${f(a).length*2+6}em`})},[y(p,{disabled:e.value<=1,class:"pagination-button rtl-flip",icon:"ph:arrow-fat-left-duotone","aria-label":"上一页",onClick:i[0]||(i[0]=t=>e.value--)},null,8,["disabled"]),(c(!0),u(m,null,S(f(a),t=>(c(),u(m,{key:t},[Number.isFinite(t)?(c(),u("button",{key:0,class:v(["pagination-num",{active:t===e.value}]),"aria-label":`第${t}页`,onClick:g=>e.value=t,textContent:B(t)},null,10,q)):(c(),u("button",L," … "))],64))),128)),y(p,{disabled:e.value>=l.totalPages,class:"pagination-button rtl-flip",icon:"ph:arrow-fat-right-duotone","aria-label":"下一页",onClick:i[1]||(i[1]=t=>e.value++)},null,8,["disabled"])],14,j),_("div",O,null,512)],64)}}}),D=Object.assign(F(Q,[["__scopeId","data-v-437807fc"]]),{__name:"ZPagination"});export{D as _,Z as u};
