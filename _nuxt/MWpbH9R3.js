import{_ as A}from"./BJ62nmgW.js";import{J as w,ah as E,bq as B,r as N,x as p,Q as l,aO as c,b6 as t,a_ as f,K as s,b9 as u,aV as h,aW as v,aR as y,aS as V,aU as $,aN as T,aY as I,bd as L,b5 as O}from"./C30-xQm5.js";import{c as R,d as q}from"./BdOb6OmJ.js";import{u as z,a as D}from"./Dm3c3b5d.js";import"./BK9sfMxF.js";import"./Dp--xc95.js";import"./D-deoX8n.js";import"./C_D9_HUd.js";const F={class:"tags-page"},G={class:"tags-container"},H={class:"tags-sidebar"},J={class:"tags-list"},K={class:"tag-count"},P=["onClick"],Q={class:"tag-label"},U={class:"tag-count"},W={class:"articles-main"},Y={key:0,class:"current-tag"},Z={class:"current-tag-name"},j={class:"current-tag-count"},M={key:1,class:"empty-state"},X=w({__name:"tags",async setup(tt){let d,m;const b=R();E({title:"标签",meta:[{property:"og:type",content:"website"},{name:"description",content:`${b.title}的所有文章标签，按标签分类展示相关文章。`},{name:"keywords",content:"标签,文章分类"}]}),q().setAside(["blog-stats","blog-log"]);const{data:k}=([d,m]=B(()=>z()),d=await d,m(),d),{listSorted:i,sortOrder:C}=D(k),n=N(""),S=p(()=>{const o=new Set;return i.value.forEach(e=>{e.tags?.forEach(r=>{r&&o.add(r)})}),Array.from(o).sort()}),x=p(()=>{const o={};return i.value.forEach(e=>{e.tags?.forEach(r=>{r&&(o[r]=(o[r]||0)+1)})}),o}),_=p(()=>n.value?i.value.filter(o=>o.tags?.includes(n.value)):i.value);return(o,e)=>{const r=A;return c(),l("div",F,[t("div",G,[t("div",H,[t("div",J,[t("button",{class:f(["tag-btn",{active:!s(n)}]),onClick:e[0]||(e[0]=a=>n.value="")},[e[1]||(e[1]=t("span",{class:"tag-label"},"全部",-1)),t("span",K,u(s(i).length),1)],2),(c(!0),l(h,null,v(s(S),a=>(c(),l("button",{key:a,class:f(["tag-btn",{active:s(n)===a}]),onClick:g=>n.value=a},[t("span",Q,u(a),1),t("span",U,u(s(x)[a]||0),1)],10,P))),128))])]),t("div",W,[s(n)?(c(),l("div",Y,[t("span",Z,u(s(n)),1),t("span",j,u(s(_).length)+" 篇",1)])):y("",!0),V(L,{tag:"menu",class:"articles-list",name:"float-in"},{default:$(()=>[(c(!0),l(h,null,v(s(_),(a,g)=>(c(),T(r,I({key:a.path},{ref_for:!0},a,{to:a.path,"use-updated":s(C)==="updated",style:{"--delay":`${g*.03}s`}}),null,16,["to","use-updated","style"]))),128))]),_:1}),s(_).length===0?(c(),l("div",M,[...e[2]||(e[2]=[t("p",null,"该标签下暂无文章",-1)])])):y("",!0)])])])}}}),ut=O(X,[["__scopeId","data-v-9b013422"]]);export{ut as default};
