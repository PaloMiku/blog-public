const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./CWq9jSFX.js","./CtbUlEmz.js","./e2a45o_1.js","./D-deoX8n.js","./entry.Bs0qRhIh.css","./Alert.CtchqJiG.css","./Cnwf1Q-h.js","./BQPob0rq.js","./Badge.dpIaIqoD.css","./B2PNUG06.js","./Blur.B-jU4pb_.css","./BClmj2oE.js","./CardList.CUzalQHM.css","./DzgZDvtn.js","./Chat.DflUvKVA.css","./ghp3xbX4.js","./Copy.DZr0DIN3.css","./DN9E4OCJ.js","./CNKShNKf.js","./EquipmentCard.4H604EZ_.css","./CD43p5YC.js","./Folding.C2PAOQ-n.css","./Daq3EbL4.js","./CKPGZvxu.js","./Galgame.B80IILNB.css","./Cm9ZYUuc.js","./By_Aqsgj.js","./ProgressBar.MYmTKITp.css","./GameCard.BbWDUXez.css","./BatOByZ7.js","./index.3f7RL40O.css","./eHQcntDE.js","./CE_HBweJ.js","./LinkBanner.B451pqZ3.css","./BTxqnDxf.js","./LinkCard.CKSSmepd.css","./BYQgQYVo.js","./MusicPlayer.CWBHaOvo.css","./DQvRKGpD.js","./MusicScore.T8ZaJg5P.css","./DJkWy2l_.js","./Pic.KsqGeanj.css","./Ckyc-odH.js","./Poetry.ywBKvOeN.css","./BqvQ3whA.js","./ProseA.BTfGpl4j.css","./sGR4noll.js","./ProseCode.Cl0cfRBZ.css","./CJAp6QJu.js","./ProseTable.DQgQdj7r.css","./WUpTbw8g.js","./Quote.JA7pZPsL.css","./DIsP51Bb.js","./ResourceList.CE7yKve6.css","./Cq5eVRW2.js","./Tab.D281f3h-.css","./nPySLXo_.js","./Timeline.C44sJ9Hm.css","./3Y4x2ssu.js","./Tip.DbdmvSUm.css","./CsgoOfOr.js","./VideoEmbed.Bbf35Hia.css"])))=>i.map(i=>d[i]);
import{J as X,M as S,O as Z,x as P,n as B,g as Y,o as tt,U as M,ai as I,bv as C,bw as et,d as rt,a8 as p,A as ot,aN as nt,aT as it,aO as st,a_ as at,K as w}from"./e2a45o_1.js";import{A as T,B as F}from"./CtbUlEmz.js";import{f as ut,h as pt}from"./rJCbAzvX.js";import{t as ct}from"./CK5gOxmq.js";const A=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"],lt=["p","h1","h2","h3","h4","h5","h6","li"];function R(t,r){return t.type===r||typeof t.type=="object"&&t.type.tag===r||t.tag===r}function x(t){return R(t,"text")||R(t,Symbol.for("v-txt"))}function $(t){return Array.isArray(t.children)||typeof t.children=="string"?t.children:typeof t.children?.default=="function"?t.children.default():[]}function D(t){if(!t)return"";if(Array.isArray(t))return t.map(D).join("");if(x(t))return t.value||t.children||"";const r=$(t);return Array.isArray(r)?r.map(D).filter(Boolean).join(""):""}function k(t,r=[]){if(Array.isArray(t))return t.flatMap(o=>k(o,r));let e=t;return r.some(o=>o==="*"||R(t,o))&&(e=$(t)||t,!Array.isArray(e)&&lt.some(o=>R(t,o))&&(e=[e])),e}function N(t,r=[]){return t=Array.isArray(t)?t:[t],r.length?t.flatMap(e=>N(k(e,[r[0]]),r.slice(1))).filter(e=>!(x(e)&&D(e).trim()==="")):t}function q(t,r=[]){return typeof r=="string"&&(r=r.split(/[,\s]/).map(e=>e.trim()).filter(Boolean)),r.length?N(t,r).reduce((e,o)=>(x(o)?typeof e[e.length-1]=="string"?e[e.length-1]+=o.children:e.push(o.children):e.push(o),e),[]):t}function mt(t,r){return r.reduce((e,o)=>{const n=dt(t,o);return n!==void 0&&(e[o]=n),e},{})}function dt(t,r){return r.split(".").reduce((e,o)=>e&&e[o],t)}const V="default",H=/^@|^v-on:/,U=/^:|^v-bind:/,_t=/^v-model/,ft=["select","textarea","input"],gt=["math","svg"],yt=Object.fromEntries(["p","a","blockquote","code","pre","code","em","h1","h2","h3","h4","h5","h6","hr","img","ul","ol","li","strong","table","thead","tbody","td","th","tr","script"].map(t=>[t,`prose-${t}`])),ht=["script","base"],vt=X({name:"MDCRenderer",props:{body:{type:Object,required:!0},data:{type:Object,default:()=>({})},class:{type:[String,Object],default:void 0},tag:{type:[String,Boolean],default:void 0},prose:{type:Boolean,default:void 0},components:{type:Object,default:()=>({})},unwrap:{type:[Boolean,String],default:!1}},async setup(t){const e=Z()?.appContext?.app?.$nuxt,o=e?.$route||e?._route,{mdc:n}=e?.$config?.public||{},s=P(()=>({...n?.components?.prose&&t.prose!==!1?yt:{},...n?.components?.map||{},...B(t.data?.mdc?.components||{}),...t.components})),m=P(()=>{const a=(t.body?.children||[]).map(u=>u.tag||u.type).filter(u=>!A.includes(u));return Array.from(new Set(a)).sort().join(".")}),c=Y({...t.data});tt(()=>t.data,a=>{Object.assign(c,a)}),await It(t.body,{tags:s.value});function l(a,u){const _=a.split(".").length-1;return a.split(".").reduce((g,y,E)=>E==_&&g?(g[y]=u,g[y]):typeof g=="object"?g[y]:void 0,c)}return{tags:s,contentKey:m,route:o,runtimeData:c,updateRuntimeData:l}},render(t){const{tags:r,tag:e,body:o,data:n,contentKey:s,route:m,unwrap:c,runtimeData:l,updateRuntimeData:a}=t;if(!o)return null;const u={...n,tags:r,$route:m,runtimeData:l,updateRuntimeData:a},_=e!==!1?j(e||u.component?.name||u.component||"div"):void 0;return _?S(_,{...u.component?.props,class:t.class,...this.$attrs,key:s},{default:g}):g?.();function g(){const y=G(o,S,{documentMeta:u,parentScope:u,resolveComponent:j});return y?.default?c?q(y.default(),typeof c=="string"?c.split(" "):["*"]):y.default():null}}});function bt(t,r,e,o){const{documentMeta:n,parentScope:s,resolveComponent:m}=e;if(t.type==="text")return r(C,t.value);if(t.type==="comment")return r(et,null,t.value);const c=t.tag,l=W(t,n.tags);if(t.tag==="binding")return Pt(t,r,n,s);const a=K(l)?g=>g:m;if(ht.includes(l))return r("pre",{class:"mdc-renderer-dangerous-tag"},"<"+l+">"+D(t)+"</"+l+">");const u=a(l);typeof u=="object"&&(u.tag=c);const _=Et(t,n);return o&&(_.key=o),r(u,_,G(t,r,{documentMeta:n,parentScope:{...s,..._},resolveComponent:a}))}function G(t,r,e){const{documentMeta:o,parentScope:n,resolveComponent:s}=e,c=(t.children||[]).reduce((a,u)=>{if(!Dt(u))return a[V].children.push(u),a;const _=Rt(u);return a[_]=a[_]||{props:{},children:[]},u.type==="element"&&(a[_].props=u.props,a[_].children.push(...u.children||[])),a},{[V]:{props:{},children:[]}});return Object.entries(c).reduce((a,[u,{props:_,children:g}])=>(g.length&&(a[u]=(y={})=>{const E=mt(y,Object.keys(_||{}));let O=g.map((i,d)=>bt(i,r,{documentMeta:o,parentScope:{...n,...E},resolveComponent:s},String(i.props?.key||d)));return _?.unwrap&&(O=q(O,_.unwrap)),Lt(O)}),a),{})}function Pt(t,r,e,o={}){const n={...e.runtimeData,...o,$document:e,$doc:e},s=/\.|\[(\d+)\]/,c=(t.props?.value.trim().split(s).filter(Boolean)).reduce((a,u)=>{if(a&&u in a)return typeof a[u]=="function"?a[u]():a[u]},n),l=t.props?.defaultValue;return r(C,c??l??"")}function Et(t,r){const{tag:e="",props:o={}}=t;return Object.keys(o).reduce(function(n,s){if(s==="__ignoreMap")return n;const m=o[s];if(_t.test(s))return Tt(s,m,n,r,{native:ft.includes(e)});if(s==="v-bind")return Ot(s,m,n,r);if(H.test(s))return At(s,m,n,r);if(U.test(s))return Ct(s,m,n,r);const{attribute:c}=ut(pt,s);return Array.isArray(m)&&m.every(l=>typeof l=="string")?(n[c]=m.join(" "),n):(n[c]=m,n)},{})}function Tt(t,r,e,o,{native:n}){const s=t.match(/^v-model:([^=]+)/)?.[1]||"modelValue",m=n?"value":s,c=n?"onInput":`onUpdate:${s}`;return e[m]=L(r,o.runtimeData),e[c]=l=>{o.updateRuntimeData(r,n?l.target?.value:l)},e}function Ot(t,r,e,o){const n=L(r,o);return e=Object.assign(e,n),e}function At(t,r,e,o){return t=t.replace(H,""),e.on=e.on||{},e.on[t]=()=>L(r,o),e}function Ct(t,r,e,o){return t=t.replace(U,""),e[t]=L(r,o),e}const j=t=>{if(typeof t=="string"){if(A.includes(t))return t;const r=M(T(t),!1);return!t||r?.name==="AsyncComponentWrapper"||typeof r=="string"?r:"setup"in r?I(()=>new Promise(e=>e(r))):r}return t};function L(t,r){const e=t.split(".").reduce((o,n)=>typeof o=="object"?o[n]:void 0,r);return typeof e>"u"?rt(t):e}function Rt(t){let r="";for(const e of Object.keys(t.props||{}))if(!(!e.startsWith("#")&&!e.startsWith("v-slot:"))){r=e.split(/[:#]/,2)[1];break}return r||V}function Dt(t){return t.tag==="template"}function K(t){return gt.includes(t)}function Lt(t){const r=[];for(const e of t){const o=r[r.length-1];e.type===C&&o?.type===C?o.children=o.children+e.children:r.push(e)}return r}async function It(t,r){if(!t)return;const e=Array.from(new Set(o(t,r)));await Promise.all(e.map(async n=>{if(n?.render||n?.ssrRender||n?.__ssrInlineRender)return;const s=j(n);s?.__asyncLoader&&!s.__asyncResolved&&await s.__asyncLoader()}));function o(n,s){const m=n.tag;if(n.type==="text"||m==="binding"||n.type==="comment")return[];const c=W(n,s.tags);if(K(c))return[];const l=[];n.type!=="root"&&!A.includes(c)&&l.push(c);for(const a of n.children||[])l.push(...o(a,s));return l}}function W(t,r){const e=t.tag;return!e||typeof t.props?.__ignoreMap<"u"?e:r[e]||r[T(e)]||r[F(t.tag)]||e}const Vt=Object.assign(vt,{__name:"MDCRenderer"}),jt=()=>p(()=>import("./CWq9jSFX.js"),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url),xt=()=>p(()=>import("./Cnwf1Q-h.js"),__vite__mapDeps([6,2,1,3,4,7,8]),import.meta.url),St=()=>p(()=>import("./B2PNUG06.js"),__vite__mapDeps([9,2,10]),import.meta.url),wt=()=>p(()=>import("./BClmj2oE.js"),__vite__mapDeps([11,2,12]),import.meta.url),Bt=()=>p(()=>import("./DzgZDvtn.js"),__vite__mapDeps([13,2,14]),import.meta.url),Mt=()=>p(()=>import("./ghp3xbX4.js"),__vite__mapDeps([15,1,2,3,4,16]),import.meta.url),Ft=()=>p(()=>import("./DN9E4OCJ.js"),__vite__mapDeps([17,1,2,3,4]),import.meta.url),$t=()=>p(()=>import("./CNKShNKf.js"),__vite__mapDeps([18,1,2,3,4,19]),import.meta.url),kt=()=>p(()=>import("./CD43p5YC.js"),__vite__mapDeps([20,2,21]),import.meta.url),Nt=()=>p(()=>import("./Daq3EbL4.js"),__vite__mapDeps([22,1,2,3,4,23,24]),import.meta.url),qt=()=>p(()=>import("./Cm9ZYUuc.js"),__vite__mapDeps([25,2,26,27,1,3,4,28]),import.meta.url),Ht=()=>p(()=>import("./BatOByZ7.js"),__vite__mapDeps([29,2,1,3,4,30]),import.meta.url),Ut=()=>p(()=>import("./CtbUlEmz.js").then(t=>t.ac),__vite__mapDeps([1,2,3,4]),import.meta.url),Gt=()=>p(()=>import("./eHQcntDE.js"),__vite__mapDeps([31,32,2,7,1,3,4,33]),import.meta.url),Kt=()=>p(()=>import("./BTxqnDxf.js"),__vite__mapDeps([34,32,2,7,1,3,4,35]),import.meta.url),Wt=()=>p(()=>import("./BYQgQYVo.js").then(t=>t.M),__vite__mapDeps([36,2,1,3,4,26,27,37]),import.meta.url),zt=()=>p(()=>import("./DQvRKGpD.js"),__vite__mapDeps([38,2,39]),import.meta.url),Qt=()=>p(()=>import("./DJkWy2l_.js"),__vite__mapDeps([40,2,32,7,1,3,4,41]),import.meta.url),Jt=()=>p(()=>import("./Ckyc-odH.js"),__vite__mapDeps([42,2,43]),import.meta.url),Xt=()=>p(()=>import("./BqvQ3whA.js"),__vite__mapDeps([44,1,2,3,4,45]),import.meta.url),Zt=()=>p(()=>import("./sGR4noll.js"),__vite__mapDeps([46,1,2,3,4,47]),import.meta.url),Yt=()=>p(()=>import("./CtbUlEmz.js").then(t=>t.ad),__vite__mapDeps([1,2,3,4]),import.meta.url),te=()=>p(()=>import("./CJAp6QJu.js"),__vite__mapDeps([48,1,2,3,4,49]),import.meta.url),ee=()=>p(()=>import("./WUpTbw8g.js"),__vite__mapDeps([50,1,2,3,4,51]),import.meta.url),re=()=>p(()=>import("./DIsP51Bb.js"),__vite__mapDeps([52,6,2,1,3,4,7,8,53]),import.meta.url),oe=()=>p(()=>import("./Cq5eVRW2.js"),__vite__mapDeps([54,2,1,3,4,55]),import.meta.url),ne=()=>p(()=>import("./nPySLXo_.js"),__vite__mapDeps([56,2,57]),import.meta.url),ie=()=>p(()=>import("./3Y4x2ssu.js"),__vite__mapDeps([58,1,2,3,4,59]),import.meta.url),se=()=>p(()=>import("./CsgoOfOr.js"),__vite__mapDeps([60,1,2,3,4,61]),import.meta.url),z=["ZhiluHeader","ProseBlockquote","ProseEm","ProseH1","ProseH2","ProseH3","ProseH4","ProseH5","ProseH6","ProseHr","ProseImg","ProseLi","ProseOl","ProseP","ProseScript","ProseStrong","ProseTbody","ProseTd","ProseTh","ProseThead","ProseTr","ProseUl","Icon"],Q=["Alert","Badge","Blur","CardList","Chat","Copy","EmojiClock","EquipmentCard","Folding","Galgame","GameCard","InfoCard","Key","LinkBanner","LinkCard","MusicPlayer","MusicScore","Pic","Poetry","ProseA","ProseCode","ProsePre","ProseTable","Quote","ResourceList","Tab","Timeline","Tip","VideoEmbed"],ae=Object.freeze(Object.defineProperty({__proto__:null,Alert:jt,Badge:xt,Blur:St,CardList:wt,Chat:Bt,Copy:Mt,EmojiClock:Ft,EquipmentCard:$t,Folding:kt,Galgame:Nt,GameCard:qt,InfoCard:Ht,Key:Ut,LinkBanner:Gt,LinkCard:Kt,MusicPlayer:Wt,MusicScore:zt,Pic:Qt,Poetry:Jt,ProseA:Xt,ProseCode:Zt,ProsePre:Yt,ProseTable:te,Quote:ee,ResourceList:re,Tab:oe,Timeline:ne,Tip:ie,VideoEmbed:se,globalComponents:z,localComponents:Q},Symbol.toStringTag,{value:"Module"})),ue={__name:"ContentRenderer",props:{value:{type:Object,required:!0},excerpt:{type:Boolean,default:!1},tag:{type:String,default:"div"},components:{type:Object,default:()=>({})},data:{type:Object,default:()=>({})},prose:{type:Boolean,default:void 0},class:{type:[String,Object],default:void 0},unwrap:{type:[Boolean,String],default:!1}},setup(t){const r=["render","ssrRender","__ssrInlineRender"],e=t,o=import.meta.preview,n=P(()=>{let i=e.value.body||e.value;return e.excerpt&&e.value.excerpt&&(i=e.value.excerpt),i.type==="minimal"||i.type==="minimark"?ct({value:i.value}):i}),s=P(()=>!n.value?.children?.length),m=P(()=>{const{body:i,excerpt:d,...f}=e.value;return{...f,...e.data}}),c=Object.fromEntries(["p","a","blockquote","code","pre","code","em","h1","h2","h3","h4","h5","h6","hr","img","ul","ol","li","strong","table","thead","tbody","td","th","tr","script"].map(i=>[i,`prose-${i}`])),{mdc:l}=ot().public||{},a=P(()=>e.data.mdc),u=P(()=>({...l?.components?.prose&&e.prose!==!1?c:{},...l?.components?.map||{},...B(a.value?.components||{}),...e.components})),_=P(()=>n.value?y(n.value,{tags:u.value}):{});function g(i){let d=i;if(typeof i=="string"){if(A.includes(i))return i;if(z.includes(T(i))?d=M(i,!1):Q.includes(T(i))&&(d=I(()=>p(()=>Promise.resolve().then(()=>ae),void 0,import.meta.url).then(h=>{const v=h[T(i)];return v?v():void 0}))),typeof d=="string")return d}if(!d)return d;const f=d;return"__asyncLoader"in f?f:"setup"in f?I(()=>Promise.resolve(f)):f}function y(i,d){if(!i)return;const f=Array.from(new Set(E(i,d))),b={};for(const[h,v]of f)if(!b[h]){if(typeof v=="object"&&r.some(J=>Object.hasOwnProperty.call(v,J))){b[h]=v;continue}b[h]=g(v)}return b}function E(i,d){const f=i.tag;if(i.type==="text"||f==="binding"||i.type==="comment")return[];const b=O(i,d.tags),h=[];i.type!=="root"&&!A.includes(b)&&h.push([f,b]);for(const v of i.children||[])h.push(...E(v,d));return h}function O(i,d){const f=i.tag;return!f||typeof i.props?.__ignoreMap<"u"?f:d[f]||d[T(f)]||d[F(i.tag)]||f}return(i,d)=>s.value?it(i.$slots,"empty",{key:1,body:n.value,data:m.value,dataContentId:w(o)?t.value.id:void 0}):(st(),nt(Vt,{key:0,body:n.value,data:m.value,class:at(e.class),tag:e.tag,prose:e.prose,unwrap:e.unwrap,components:_.value,"data-content-id":w(o)?t.value.id:void 0},null,8,["body","data","class","tag","prose","unwrap","components","data-content-id"]))}},de=Object.assign(ue,{__name:"ContentRenderer"});export{de as _};
