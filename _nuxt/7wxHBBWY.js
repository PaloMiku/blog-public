import{D as f,x as v,r as p,p as b,I as g,ao as n,o as w,y as h,X as x,U as $,e as C,w as y,g as B,b4 as D,b as j}from"./D4rvfVLF.js";import{_ as O}from"./Dpl-SW7U.js";import{_ as T}from"./DrnU6dcP.js";import{u as A}from"./qu8mKcT6.js";import{g as E,a as S}from"./DpXxzpNk.js";import"./u12KywJ2.js";import"./CYIRVW0k.js";const P=f({__name:"BlogStats",async setup(W){let o,c;const i=v(),_=b(),l=p(_.public.buildTime),r=p(i.component.stats.wordCount),u=p(""),{data:e}=([o,c]=g(()=>A("blog-stats",()=>j(()=>import("./DmBT22jJ.js"),[],import.meta.url).then(t=>(t.default||t)()))),o=await o,c(),o);e&&e.value&&(r.value=n(e.value.total.words),u.value=Object.entries(e.value.annual).reverse().map(([t,a])=>`${t}年：${a.posts}篇，${n(a.words)}字`).join(`
`)),w(async()=>{if(l.value=E(l.value),!e||!e.value){const t=await $fetch("/api/stats").catch(()=>null);if(!t)return;r.value=n(t.total.words),u.value=Object.entries(t.annual).reverse().map(([a,s])=>`${a}年：${s.posts}篇，${n(s.words)}字`).join(`
`)}});const m=[{label:"运营时长",value:S(i.timeEstablished),tip:`博客于${i.timeEstablished}上线`},{label:"上次更新",value:()=>x(O,{date:_.public.buildTime,relative:!0,tipPrefix:"构建于"}),tip:h(()=>`构建于${l.value}`)},{label:"总字数",value:r,tip:u}];return(t,a)=>{const s=D,d=T;return C(),$(d,{card:"",title:"博客统计"},{default:y(()=>[B(s,{items:m,size:"large"})]),_:1})}}}),G=Object.assign(P,{__name:"WidgetBlogStats"});export{G as default};
