import{u as y,c as b,t as h,e as k,d as N,a2 as x,a3 as C,a as I,a4 as M,a5 as V,G as $,a6 as T,h as u,o as c,F as m,j as _,M as A,$ as v,n as f,l as P,Z as B,s as E,x as S,B as F}from"#entry";import{u as w}from"./Dk1GcALs.js";function Y(l,n){const e=y(),{initialPage:a=1,perPage:o=e.pagination.perPage||10,bindQuery:s=!1}=n??{},r=b(()=>Math.ceil(h(l).length/o)||a);function d(t){const g=Number(t);return g>=1&&g<=r.value?g:a}const i=s?w(s,a.toString(),{transform:d,mode:"push"}):k(a),p=b(()=>{const t=(i.value-1)*o;return h(l).slice(t,t+o)});return{totalPages:r,page:i,listPaged:p}}function Z(l,n,e=1){const a=Math.max(2,Math.min(l-e,n-2*e)),o=Math.min(n,a+2*e),s=Array.from({length:o-a+1},(r,d)=>a+d);return a>3&&s.unshift(Number.NEGATIVE_INFINITY),a===3&&s.unshift(2),a>1&&s.unshift(1),o<n-2&&s.push(Number.POSITIVE_INFINITY),o===n-2&&s.push(n-1),o<n&&s.push(n),s}const j=["aria-label"],z=["aria-label","onClick","textContent"],G={key:1,disabled:"",class:"pagination-num"},L={ref:"pagination-anchor"},O=N({__name:"Pagination",props:x({totalPages:{},expandPages:{},sticky:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(l){const n=l,e=C(l,"modelValue"),a=b(()=>Z(e.value,n.totalPages,n.expandPages??2)),o=I(),s=M("pagination-anchor"),r=V(s);return $(()=>{o.setTranslate("pagination","0, -2em"),e.value=Number(e.value)}),T(()=>{o.setTranslate("pagination","")}),(d,i)=>{const p=B;return c(),u(m,null,[_("nav",{class:v(["pagination",{sticky:l.sticky,expand:f(r)}]),"aria-label":`第${e.value}页，共${l.totalPages}页`,style:A({"--collapsed-width":`${f(a).length*2+6}em`})},[P(p,{disabled:e.value<=1,class:"pagination-button rtl-flip",icon:"ph:arrow-fat-left-duotone","aria-label":"上一页",onClick:i[0]||(i[0]=t=>e.value--)},null,8,["disabled"]),(c(!0),u(m,null,E(f(a),t=>(c(),u(m,{key:t},[Number.isFinite(t)?(c(),u("button",{key:0,class:v(["pagination-num",{active:t===e.value}]),"aria-label":`第${t}页`,onClick:g=>e.value=t,textContent:S(t)},null,10,z)):(c(),u("button",G," … "))],64))),128)),P(p,{disabled:e.value>=l.totalPages,class:"pagination-button rtl-flip",icon:"ph:arrow-fat-right-duotone","aria-label":"下一页",onClick:i[1]||(i[1]=t=>e.value++)},null,8,["disabled"])],14,j),_("div",L,null,512)],64)}}}),q=Object.assign(F(O,[["__scopeId","data-v-437807fc"]]),{__name:"ZPagination"});export{q as _,Y as u};
