const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./D_PQEbBa.js","./DUs-zUGS.js","./D6ajeznB.js","./DY1XeNY0.js","./VuNmkfQC.js","./D-deoX8n.js","./entry.B3t-9a59.css","./CK5gOxmq.js","./DbTx2vpm.js"])))=>i.map(i=>d[i]);
import{J as N,x as w,aO as Y,Q as u,aN as a,aZ as T,aQ as _,b5 as s,aR as r,br as ee,K as e,aT as C,b7 as k,aP as V,aM as P,b8 as f,aU as S,aV as Z,b4 as A,r as I,N as j,bp as H,a8 as M,o as te,ah as se,a$ as z,b0 as F}from"./D6ajeznB.js";import{c as B,v as K,p as oe,_ as D,t as ne,w as ae,u as ie,b as U,x as ce,j as re,r as le,d as de,y as ue,z as pe}from"./VuNmkfQC.js";import{_ as q}from"./aqN13qpR.js";import{i as me}from"./BlCP-kYK.js";import{d as _e,e as O}from"./DWn4sfBs.js";import{_ as fe}from"./DjXYUYZI.js";import he from"./BZUsibpX.js";import{u as Q}from"./Cd9RfB4j.js";import{_ as ve}from"./C5QWY82w.js";import{u as ge}from"./B_6lovtk.js";import"./D-deoX8n.js";import"./Dbm6epLz.js";import"./rJCbAzvX.js";import"./CK5gOxmq.js";const be={key:0,class:"cover-wrapper"},ye={class:"operations"},xe={class:"post-nav"},$e={key:0,class:"post-info"},ke={key:2},Te={key:3},we={key:4,class:"post-tags"},Ce={key:1,class:"post-subtitle"},Pe=N({inheritAttrs:!1,__name:"PostHeader",props:{path:{},readingTime:{},title:{},subtitle:{},description:{},link:{},date:{},updated:{},published:{},categories:{},tags:{},type:{},image:{},recommend:{},references:{},meta:{},"hide-info":{type:Boolean}},setup(t){const o=t,v=B(),d=w(()=>o.categories?.[0]),g=w(()=>_e(d.value)),p=`【${v.title}】${o.title}

${o.description?`${o.description}

`:""}${new URL(o.path,v.url).href}`,{copy:m,copied:i}=K(p);return(h,l)=>{const c=ee,b=oe,x=q,y=D,n=Y("tip");return a(),u("div",{class:T(["post-header",{"has-cover":t.image,"text-revert":t.meta?.coverRevert}])},[t.image?(a(),u("div",be,[r(c,{class:"post-cover",src:t.image,alt:t.title},null,8,["src","alt"]),s("div",ye,[r(b,{icon:e(i)?"ph:check-bold":"ph:share-bold",onClick:l[0]||(l[0]=$=>e(m)())},{default:C(()=>[...l[1]||(l[1]=[k(" 文字分享 ",-1)])]),_:1},8,["icon"])])])):_("",!0),s("div",xe,[t.meta?.hideInfo?_("",!0):(a(),u("div",$e,[t.date?V((a(),P(x,{key:0,"tip-prefix":"创建于",date:t.date,icon:"ph:calendar-dots-bold"},null,8,["date"])),[[n]]):_("",!0),t.updated&&("isTimeDiffSignificant"in h?h.isTimeDiffSignificant:e(me))(t.date,t.updated,.999)?V((a(),P(x,{key:1,"tip-prefix":"修改于",date:t.updated,icon:"ph:calendar-plus-bold"},null,8,["date"])),[[n]]):_("",!0),e(d)?(a(),u("span",ke,[r(y,{name:e(g)},null,8,["name"]),k(" "+f(e(d)),1)])):_("",!0),s("span",null,[r(y,{name:"ph:paragraph-bold"}),k(" "+f(("formatNumber"in h?h.formatNumber:e(ne))(t.readingTime?.words))+" 字 ",1)]),t.readingTime?.minutes?(a(),u("span",Te,[r(y,{name:"ph:clock-bold"}),k(" "+f(Math.ceil(t.readingTime.minutes))+" 分钟 ",1)])):_("",!0),t.tags?.length?(a(),u("div",we,[r(y,{name:"ph:tag-bold"}),(a(!0),u(S,null,Z(t.tags,$=>(a(),u("span",{key:$,class:"tag"},f($),1))),128))])):_("",!0)])),s("h1",{class:T(["post-title",("getPostTypeClassName"in h?h.getPostTypeClassName:e(O))(t.type)])},f(t.title),3),t.subtitle?(a(),u("p",Ce,' "'+f(t.subtitle)+'" ',1)):_("",!0)])],2)}}}),Ne=Object.assign(A(Pe,[["__scopeId","data-v-73cc9e5e"]]),{__name:"PostHeader"}),Ie={class:"md-excerpt ai-excerpt"},Se={class:"ai-excerpt-header"},Ae={class:"ai-excerpt-title"},De={class:"ai-icon-gpt"},Re={key:0,class:"ai-excerpt-toggle-outer hide-on-wide"},Ee={class:"ai-excerpt-toggle-wrap"},Le=900,Be=N({__name:"Excerpt",props:{excerpt:{}},setup(t){const o=t,v=B(),d=I(o.excerpt),g=I(""),p=I(!1),m=I(!1);function i(){window.innerWidth<Le?(m.value=!0,p.value=!0):(m.value=!1,p.value=!1)}i(),window.addEventListener("resize",i);function h(){m.value&&(p.value=!p.value)}return v.component.excerpt?.animation!==!1&&(d.value="",j(async()=>{g.value=v.component.excerpt?.caret??"_";for(const l of o.excerpt)d.value+=l,await ae(50);g.value=""})),(l,c)=>{const b=D;return a(),u("div",Ie,[s("div",Se,[s("div",Ae,[s("span",De,[r(b,{name:"simple-icons:openai",class:"ai-gpt-icon"})]),c[0]||(c[0]=s("span",{class:"ai-label"},"智能摘要",-1))]),c[1]||(c[1]=s("span",{class:"ai-badge"},"Kimi·K2-Turbo",-1))]),s("div",{class:T(["ai-excerpt-content",{"is-folded":e(p)&&e(m),"is-unfolded":!e(p)&&e(m)}])},f(e(d))+f(e(g)),3),c[2]||(c[2]=s("noscript",null,null,-1)),e(d).length>80&&e(m)?(a(),u("div",Re,[s("div",Ee,[s("button",{class:"ai-excerpt-toggle",onClick:h},f(e(p)?"展开全部":"收起"),1)])])):_("",!0)])}}}),Oe=Object.assign(A(Be,[["__scopeId","data-v-87580e5f"]]),{__name:"PostExcerpt"}),Ve={key:0,class:"post-footer"},ze={class:"author-card"},Fe={class:"card-header"},Ze={class:"author-info"},je={class:"title"},He={key:0,class:"url"},Me={class:"copyright-badge"},Ke={class:"card-meta"},Ue={class:"meta-row"},qe={class:"meta-item"},Qe={class:"value"},We={key:0,class:"meta-item"},Je={class:"value"},Ge={class:"meta-item"},Xe={class:"card-actions"},Ye=["title"],et={key:0,class:"reference"},tt={class:"content"},st=N({inheritAttrs:!1,__name:"PostFooter",props:{path:{},readingTime:{},title:{},subtitle:{},description:{},link:{},date:{},updated:{},published:{},categories:{},tags:{},type:{},image:{},recommend:{},references:{},meta:{},"hide-info":{type:Boolean}},setup(t){const o=t,v=ie(),d=B(),g=`【${d.title}】${o.title}

${o.description?`${o.description}

`:""}${new URL(o.path,d.url).href}`,{copy:p,copied:m}=K(g);function i(){v.push("/about")}const h=w(()=>{if(!o.date)return"";try{const l=new Date(o.date);return Number.isNaN(l.getTime())?"":l.toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric"})}catch(l){return console.error(`Invalid date: ${o.date}`,l),""}});return(l,c)=>{const b=D,x=he;return t.meta?.hideInfo?_("",!0):(a(),u("div",Ve,[s("section",ze,[s("div",Fe,[s("div",Ze,[s("h3",je,f(t.title),1),t.path?(a(),u("p",He,f(t.path),1)):_("",!0)]),s("div",Me,[r(b,{name:"ph:copyright-bold"})])]),s("div",Ke,[s("div",Ue,[s("div",qe,[c[1]||(c[1]=s("span",{class:"label"},"文章作者",-1)),s("span",Qe,f(e(d).author.name),1)]),t.date?(a(),u("div",We,[c[2]||(c[2]=s("span",{class:"label"},"发布时间",-1)),s("span",Je,f(e(h)),1)])):_("",!0),s("div",Ge,[c[3]||(c[3]=s("span",{class:"label"},"版权信息",-1)),r(x,{href:e(d).copyright.url,class:"value"},{default:C(()=>[k(f(e(d).copyright.name),1)]),_:1},8,["href"])])])]),s("div",Xe,[s("button",{class:"action-btn",title:e(m)?"已复制":"复制/分享",onClick:c[0]||(c[0]=y=>e(p)())},[r(b,{name:e(m)?"ph:check-bold":"ph:share-bold"},null,8,["name"])],8,Ye),s("button",{class:"action-btn",title:"打赏",onClick:i},[r(b,{name:"ph:heart-bold"})])])]),t.references?(a(),u("section",et,[c[4]||(c[4]=s("div",{id:"references",class:"title text-creative"}," 参考链接 ",-1)),s("div",tt,[s("ul",null,[(a(!0),u(S,null,Z(t.references,({title:y,link:n},$)=>(a(),u("li",{key:$},[r(x,{href:n||""},{default:C(()=>[k(f(y??n),1)]),_:2},1032,["href"])]))),128))])])])):_("",!0)]))}}}),ot=Object.assign(A(st,[["__scopeId","data-v-3530dd60"]]),{__name:"PostFooter"}),nt={class:"surround-text"},at={key:0,class:"surround-post",dir:"ltr"},it=N({__name:"PostSurround",async setup(t){let o,v;const d=U(),{data:g}=([o,v]=H(()=>Q(`surround-${d.path}`,()=>M(()=>import("./D_PQEbBa.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]),import.meta.url).then(l=>(l.default||l)(d)))),o=await o,v(),o),[p=null,m=null]=g.value??[],[i,h]=ce({inheritAttrs:!1});return(l,c)=>{const b=D,x=q,y=re;return a(),u(S,null,[r(e(i),null,{default:C(({post:n,icon:$,fallbackIcon:R,fallbackText:E,alignEnd:L})=>[r(y,{to:n?.path,class:"surround-link","align-end":L},{default:C(()=>[r(b,{class:T({"rtl-flip":n}),name:n?$:R},null,8,["class","name"]),s("div",nt,[s("strong",{class:T(["title",("getPostTypeClassName"in l?l.getPostTypeClassName:e(O))(n?.type)])},f(n?.title||E),3),n?.date?(a(),P(x,{key:0,class:"date",date:n.date},null,8,["date"])):_("",!0)])]),_:2},1032,["to","align-end"])]),_:1}),e(p)||e(m)?(a(),u("div",at,[r(e(h),{post:e(m),icon:"solar:rewind-back-bold-duotone","fallback-icon":"solar:document-add-bold-duotone","fallback-text":"新故事即将发生"},null,8,["post"]),r(e(h),{post:e(p),icon:"solar:rewind-forward-bold-duotone","fallback-icon":"solar:reel-bold-duotone","fallback-text":"已抵达博客尽头","align-end":""},null,8,["post"])])):_("",!0)],64)}}}),ct=Object.assign(A(it,[["__scopeId","data-v-5bbacfc0"]]),{__name:"PostSurround"}),$t=N({__name:"[...slug]",async setup(t){let o,v;const d=U(),g=le(),p=de();p.setAside(["toc"]);const m=w(()=>{let n=d.path;return n.endsWith("/")&&n!=="/"&&(n=n.slice(0,-1)),n}),{data:i,refresh:h}=([o,v]=H(()=>Q(`post-${m.value}`,()=>M(()=>import("./DbTx2vpm.js"),__vite__mapDeps([8,1,2,3,4,5,6,7]),import.meta.url).then(n=>(n.default||n)(m)))),o=await o,v(),o);te(m,()=>{h()},{immediate:!1});const l=ge(),{toc:c,meta:b}=ue(l),x=w(()=>i.value?.description||"");j(()=>{g.initAIExcerptSetting()});function y(){c.value=i.value?.body.toc,b.value=i.value?.meta}return y(),i.value?(se({title:i.value.title,meta:[{property:"og:type",content:"article"},{property:"og:image",content:i.value.image},{name:"description",content:i.value.description}]}),p.setAside(i.value.meta?.aside)):(d.meta.title="404",p.setAside(["blog-log"])),(n,$)=>{const R=Ne,E=Oe,L=fe,W=ot,J=ct,G=ve,X=pe;return e(i)?(a(),u(S,{key:0},[r(R,z(F(e(i))),null,16),e(x)&&e(g).showAIExcerpt?(a(),P(E,{key:0,excerpt:e(x)},null,8,["excerpt"])):_("",!0),r(L,{class:T(["article",("getPostTypeClassName"in n?n.getPostTypeClassName:e(O))(e(i)?.type,{prefix:"md"})]),value:e(i),tag:"article"},null,8,["class","value"]),r(W,z(F(e(i))),null,16),r(J),r(G)],64)):(a(),P(X,{key:1,icon:"solar:confounded-square-bold-duotone",title:"内容为空或页面不存在"}))}}});export{$t as default};
