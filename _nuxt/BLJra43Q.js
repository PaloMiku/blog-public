import{y,x as J,p as Q,z as b,A as q,B as F,C,D as Y,E as ee,G as te,H as se,d as p,e as m,h as e,g as u,I as h,J as d,_ as k,K as T,r as $,L as N,M as oe,f as S,N as A,O as G,P as R,t as E,Q as P,F as U,R as H,o as D,n as L,S as ne,U as le,T as z,w as M,V as j}from"./DaacSOdr.js";import{_ as ae}from"./CdHNbAxy.js";import{d as ie}from"./C2BckFM1.js";import ce from"./CVNUL_FJ.js";const ue={class:"build-info"},re={class:"info-section info-section--theme"},de={class:"section-title"},pe={class:"info-section"},me={class:"section-title"},ge={class:"info-section"},ve={class:"section-title"},_e={class:"info-section"},be={class:"section-title"},fe={class:"info-section"},he={class:"section-title"},Ce=y({__name:"BuildInfo",setup(c){const s=J(),{public:{arch:l,ci:a,gitHash:o,nodeVersion:n,platform:t}}=Q(),g=o,f=b(()=>{const w=q[a];if(!w)return"";const _=w.startsWith("http")?F("img",{src:w,alt:""}):F(C,{name:w});return F("span",{},[_,` ${a.split(" ")[0]}`])}),r=Object.assign({},...Object.values(ie.catalogs)),[i,x]=Y.split("@"),v=b(()=>[...a?[{label:"构建平台",value:f.value,icon:"ph:rocket-launch-bold"}]:[],{label:"图片存储",value:()=>[F(C,{name:"devicon:cloudflare"})," Cloudflare R2"],icon:"ph:cloud-fill"},{label:"文章许可",value:s.copyright.abbr,icon:"ph:copyright-bold"},{label:"规范域名",value:ee(s.url),icon:"ph:globe-bold"}]),V=b(()=>[{label:"Modify",value:te,icon:"ph:git-commit-bold"},{label:"Hash",value:g,icon:"ph:hash-bold"}]),K=b(()=>[{label:"Vue",value:r.vue,icon:"simple-icons:vuedotjs"},{label:"Nuxt",value:r.nuxt,icon:"simple-icons:nuxt"},{label:"Content",value:r["@nuxt/content"],icon:"ph:book-bold"}]),Z=b(()=>[{label:"Node",value:n,icon:"la:node-js"},{label:i,value:x,icon:"simple-icons:pnpm"},{label:"OS",value:t,icon:"ph:desktop-bold"},{label:"Arch",value:l,icon:"ph:cpu-bold"}]),X=b(()=>[{label:"博客主题",value:"Clarity",icon:"simple-icons:nuxtdotjs"},{label:"站点版本",value:se,icon:"ph:tag-bold"},{label:"Github 仓库",value:()=>F("a",{href:"https://github.com/L33Z22L11/blog-v3",target:"_blank",rel:"noopener noreferrer"},"L33Z22L11/blog-v3"),icon:"ph:github-logo-bold"},{label:"软件协议",value:"MIT License",icon:"ph:scales-bold"}]);return(w,_)=>{const I=ae;return m(),p("div",ue,[e("div",re,[e("h3",de,[u(d(C),{name:"lucide:info",class:"section-icon"}),_[0]||(_[0]=h(" 主题信息 ",-1))]),u(I,{items:X.value},null,8,["items"])]),e("div",pe,[e("h3",me,[u(d(C),{name:"ph:globe-fill",class:"section-icon"}),_[1]||(_[1]=h(" 服务信息 ",-1))]),u(I,{items:v.value},null,8,["items"])]),e("div",ge,[e("h3",ve,[u(d(C),{name:"ph:bookmark-fill",class:"section-icon"}),_[2]||(_[2]=h(" 仓库信息 ",-1))]),u(I,{size:"small",items:V.value},null,8,["items"])]),e("div",_e,[e("h3",be,[u(d(C),{name:"ph:stack-fill",class:"section-icon"}),_[3]||(_[3]=h(" 技术栈 ",-1))]),u(I,{size:"small",items:K.value},null,8,["items"])]),e("div",fe,[e("h3",he,[u(d(C),{name:"ph:cpu-fill",class:"section-icon"}),_[4]||(_[4]=h(" 构建信息 ",-1))]),u(I,{size:"small",items:Z.value},null,8,["items"])])])}}}),ye=Object.assign(k(Ce,[["__scopeId","data-v-e5ba022c"]]),{__name:"PopoverThemeCustomizerBuildInfo"});function ke(){let c="#ff1a8c";if(typeof window<"u"){const t=localStorage.getItem("themeColor");t&&(t.startsWith("custom:")?c=t.slice(7):t in T&&(c=T[t].hex))}const s=$(c),l=$("");function a(){const t=s.value.trim();oe(t)?l.value="":l.value="无效的十六进制颜色值，格式应为 #RRGGBB"}function o(t){const g=T[t].hex;s.value=g,N(t),l.value=""}function n(){s.value="#ff1a8c",l.value="",N("pink")}return{customHexColor:s,hexInputError:l,handleColorChange:a,applyPresetColor:o,reset:n,THEME_COLORS:T}}const xe={class:"color-customize-item"},$e={class:"color-input-group"},we={key:0,class:"error-message"},Ie=y({__name:"ColorCustomize",setup(c){const{customHexColor:s,hexInputError:l,handleColorChange:a}=ke();return(o,n)=>(m(),p("div",xe,[n[5]||(n[5]=e("div",{class:"item-header"},[e("label",{class:"customize-label"},"主题色"),e("span",{class:"customize-description"},"自定义主题的主要色调Hex，可使用浏览器原生取色器（单击颜色选择器）")],-1)),e("div",$e,[A(e("input",{"onUpdate:modelValue":n[0]||(n[0]=t=>R(s)?s.value=t:null),type:"color",class:"color-picker",onInput:n[1]||(n[1]=(...t)=>d(a)&&d(a)(...t))},null,544),[[G,d(s)]]),A(e("input",{"onUpdate:modelValue":n[2]||(n[2]=t=>R(s)?s.value=t:null),type:"text",class:"hex-input",placeholder:"#ff1a8c",onInput:n[3]||(n[3]=(...t)=>d(a)&&d(a)(...t)),onBlur:n[4]||(n[4]=(...t)=>d(a)&&d(a)(...t))},null,544),[[G,d(s)]])]),d(l)?(m(),p("div",we,E(d(l)),1)):S("",!0)]))}}),Fe=Object.assign(k(Ie,[["__scopeId","data-v-cca5f005"]]),{__name:"PopoverThemeCustomizerColorCustomize"}),W=[{key:"AIExcerpt",label:"显示智能摘要",description:"在文章正文上方显示 AI 生成的摘要"},{key:"FeaturedArticles",label:"显示精选文章",description:"在首页展示精选文章轮播 (Slide)"},{key:"Comments",label:"显示评论区",description:"在文章下方展示评论区，关闭则全站评论区不可见"}];function Se(c){const s=b({get:()=>c.showAIExcerpt,set:t=>{t!==c.showAIExcerpt&&c.toggleAIExcerpt()}}),l=b({get:()=>c.showFeaturedArticles,set:t=>{t!==c.showFeaturedArticles&&c.toggleFeaturedArticles()}}),a=b({get:()=>c.showComments,set:t=>{t!==c.showComments&&c.toggleComments()}});function o(t){switch(t){case"AIExcerpt":return s.value;case"FeaturedArticles":return l.value;case"Comments":return a.value;default:return!1}}function n(t){switch(t){case"AIExcerpt":s.value=!s.value;break;case"FeaturedArticles":l.value=!l.value;break;case"Comments":a.value=!a.value;break}}return{showAIExcerpt:s,showFeaturedArticles:l,showComments:a,getFeatureState:o,toggleFeature:n,FEATURE_TOGGLES:W}}const Ae={class:"feature-toggles"},Le=["checked","onChange"],Te={class:"toggle-content"},ze={class:"toggle-label"},Me={class:"toggle-description"},Ee=y({__name:"FeatureToggles",setup(c){const s=P(),{showAIExcerpt:l,showFeaturedArticles:a,showComments:o}=Se(s);function n(g){switch(g){case"AIExcerpt":return l.value;case"FeaturedArticles":return a.value;case"Comments":return o.value;default:return!1}}function t(g){switch(g){case"AIExcerpt":l.value=!l.value;break;case"FeaturedArticles":a.value=!a.value;break;case"Comments":o.value=!o.value;break}}return(g,f)=>(m(),p("div",Ae,[(m(!0),p(U,null,H(d(W),r=>(m(),p("label",{key:r.key,class:"toggle-switch"},[e("input",{type:"checkbox",checked:n(r.key),onChange:i=>t(r.key)},null,40,Le),f[0]||(f[0]=e("span",{class:"toggle-slider"},null,-1)),e("div",Te,[e("span",ze,E(r.label),1),e("span",Me,E(r.description),1)])]))),128))]))}}),Pe=Object.assign(k(Ee,[["__scopeId","data-v-4265c807"]]),{__name:"PopoverThemeCustomizerFeatureToggles"}),O={wenkai:'"LXGW WenKai Screen", "Inter", "Noto Sans SC-Local", "Noto Sans SC", system-ui, sans-serif',system:'system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans SC", sans-serif'};function Oe(){const c=$("system");function s(o){c.value=o;const n=O[o];document.documentElement.style.setProperty("--font-basic",n),localStorage.setItem("fontPreference",o)}function l(){try{const o=localStorage.getItem("fontPreference");o&&o in O&&(c.value=o,s(o))}catch{}}function a(){c.value="system",s("system")}return{selectedFont:c,applyFont:s,restoreFont:l,reset:a,FONT_VALUES:O}}const Ge={class:"font-select-item"},Ue={class:"font-button-group"},Ve=y({__name:"FontSelect",setup(c){const{selectedFont:s,applyFont:l,restoreFont:a}=Oe();return D(()=>{a()}),(o,n)=>(m(),p("div",Ge,[n[2]||(n[2]=e("div",{class:"item-header"},[e("label",{class:"font-select-label"},"字体"),e("span",{class:"font-description"},"选择博客的显示字体，选择系统字体则优先使用系统本地安装的字体")],-1)),e("div",Ue,[e("button",{class:L(["font-toggle-btn",{active:d(s)==="wenkai"}]),onClick:n[0]||(n[0]=t=>d(l)("wenkai"))}," LXGW WenKai ",2),e("button",{class:L(["font-toggle-btn",{active:d(s)==="system"}]),onClick:n[1]||(n[1]=t=>d(l)("system"))}," 系统字体 ",2)])]))}}),Ne=Object.assign(k(Ve,[["__scopeId","data-v-3505136a"]]),{__name:"PopoverThemeCustomizerFontSelect"}),B={simplified:"简体中文",traditional:"繁体中文"};function Re(c){const s=b({get:()=>c.language,set:a=>{a!==c.language&&c.toggleLanguage()}});function l(a){return B[a]}return{language:s,getLanguageLabel:l,LANGUAGE_OPTIONS:B}}const je={class:"language-select-item"},Be={class:"language-button-group"},He=y({__name:"LanguageSelect",setup(c){const s=P(),{language:l}=Re(s);return(a,o)=>(m(),p("div",je,[o[2]||(o[2]=e("div",{class:"item-header"},[e("label",{class:"language-select-label"},"语言"),e("span",{class:"language-description"},"切换网站的语言版本，支持简体中文和繁体中文")],-1)),e("div",Be,[e("button",{class:L(["language-toggle-btn",{active:d(l)==="simplified"}]),onClick:o[0]||(o[0]=n=>l.value="simplified")}," 简体中文 ",2),e("button",{class:L(["language-toggle-btn",{active:d(l)==="traditional"}]),onClick:o[1]||(o[1]=n=>l.value="traditional")}," 繁体中文 ",2)])]))}}),De=Object.assign(k(He,[["__scopeId","data-v-22a62887"]]),{__name:"PopoverThemeCustomizerLanguageSelect"}),We={class:"music-settings"},Ke={class:"url-input-group"},Ze={class:"url-label-row"},Xe={key:0,class:"url-hint"},Je={class:"settings-group"},Qe={class:"toggle-switch"},qe={class:"settings-group"},Ye={class:"toggle-switch"},et=y({__name:"MusicSettings",setup(c){const s=P(),l=b({get:()=>s.showMusicLyrics,set:r=>{r!==s.showMusicLyrics&&s.toggleMusicLyrics()}}),a=b({get:()=>s.showGlobalMusicPlayer,set:r=>{r!==s.showGlobalMusicPlayer&&s.toggleGlobalMusicPlayer()}}),o=$("https://music.163.com/#/song?id=760528"),n=$(!1),t=ne({id:"",title:"加载预览歌曲...",artist:"网易云音乐",cover:"",url:"",source:"netease"});function g(r){return(r.match(/(?:id=|\/song\/)(\d+)/)||r.match(/^(\d+)$/))?.[1]??null}function f(){const r=g(o.value.trim());if(!r){t.title="无效的歌曲URL",t.artist="请检查URL格式";return}t.id=r,t.url=`https://music.163.com/#/song?id=${r}`,t.title="加载中...",t.artist="网易云音乐"}return f(),le(o,()=>{f()}),(r,i)=>{const x=ce;return m(),p("div",We,[i[12]||(i[12]=e("h3",null,"预览",-1)),u(x,{music:t},null,8,["music"]),e("div",Ke,[e("div",Ze,[i[4]||(i[4]=e("h3",null,"配置预览歌曲",-1)),e("button",{"aria-label":"显示URL格式说明",class:"url-help-btn",onClick:i[0]||(i[0]=v=>n.value=!n.value)}," ? ")]),A(e("input",{"onUpdate:modelValue":i[1]||(i[1]=v=>o.value=v),type:"text",placeholder:"输入网易云音乐URL或歌曲ID",class:"url-input"},null,512),[[G,o.value]]),u(z,{name:"fade"},{default:M(()=>[n.value?(m(),p("p",Xe,[...i[5]||(i[5]=[h(" 支持的格式：",-1),e("br",null,null,-1),h(" • https://music.163.com/#/song?id=760528",-1),e("br",null,null,-1),h(" • https://music.163.com/song/760528",-1),e("br",null,null,-1),h(" • 760528 ",-1)])])):S("",!0)]),_:1})]),e("div",Je,[i[8]||(i[8]=e("h3",null,"歌词显示设置",-1)),e("label",Qe,[A(e("input",{"onUpdate:modelValue":i[2]||(i[2]=v=>l.value=v),type:"checkbox"},null,512),[[j,l.value]]),i[6]||(i[6]=e("span",{class:"toggle-slider"},null,-1)),i[7]||(i[7]=e("div",{class:"toggle-content"},[e("span",{class:"toggle-label"},"显示歌词"),e("span",{class:"toggle-description"},"在音乐播放时显示歌词")],-1))])]),e("div",qe,[i[11]||(i[11]=e("h3",null,"播放器设置",-1)),e("label",Ye,[A(e("input",{"onUpdate:modelValue":i[3]||(i[3]=v=>a.value=v),type:"checkbox"},null,512),[[j,a.value]]),i[9]||(i[9]=e("span",{class:"toggle-slider"},null,-1)),i[10]||(i[10]=e("div",{class:"toggle-content"},[e("span",{class:"toggle-label"},"显示播放器"),e("span",{class:"toggle-description"},"在侧边栏显示全站音乐播放器")],-1))])])])}}}),tt=Object.assign(k(et,[["__scopeId","data-v-2d8d6fad"]]),{__name:"PopoverThemeCustomizerMusicSettings"}),st={key:0,id:"z-theme-customizer"},ot={class:"content-area"},nt={key:"global",class:"settings-panel"},lt={class:"panel-content"},at={key:"features",class:"settings-panel"},it={class:"panel-content"},ct={key:"music",class:"settings-panel"},ut={class:"panel-content"},rt={key:"about",class:"settings-panel"},dt={class:"panel-content"},pt={class:"customizer-footer"},mt={class:"tab-button-group"},gt=["onClick"],vt=y({__name:"ThemeCustomizer",props:{show:{type:Boolean},duration:{},onClose:{type:Function}},emits:["close"],setup(c,{emit:s}){const l=c,a=s,o=P(),n=["全局","功能","音乐","关于"],t=$(1);D(async()=>{try{o.initAIExcerptSetting(),o.initFeaturedArticlesSetting(),o.initCommentsSetting(),o.initLanguageSetting(),o.initMusicLyricsSetting(),o.initGlobalMusicPlayerSetting()}catch(f){console.error("初始化主题设置失败:",f)}});function g(){l.onClose?.()??a("close")}return(f,r)=>{const i=C;return m(),p(U,null,[u(z,{name:"fade-in"},{default:M(()=>[c.show?(m(),p("div",{key:0,id:"z-theme-customizer-bgmask",onClick:g})):S("",!0)]),_:1}),u(z,{name:"slide-right"},{default:M(()=>[c.show?(m(),p("div",st,[e("main",ot,[u(z,{name:"tab-content",mode:"out-in"},{default:M(()=>[t.value===1?(m(),p("div",nt,[e("div",lt,[u(Fe),u(Ne),u(De)])])):t.value===2?(m(),p("div",at,[e("div",it,[u(Pe)])])):t.value===3?(m(),p("div",ct,[e("div",ut,[u(tt)])])):t.value===4?(m(),p("div",rt,[e("div",dt,[u(ye)])])):S("",!0)]),_:1})]),e("footer",pt,[e("div",mt,[(m(),p(U,null,H(n,(x,v)=>e("button",{key:x,class:L(["nav-tab",{active:t.value===v+1,"first-button":v===0,"last-button":v===n.length-1}]),onClick:V=>t.value=v+1},E(x),11,gt)),64))]),e("button",{class:"close-btn desktop-only","aria-label":"关闭",onClick:g},[u(i,{name:"ph:x-bold"})]),e("button",{class:"console-btn mobile-only","aria-label":"控制台",onClick:g},[u(i,{name:"ph:swatches-bold"})])])])):S("",!0)]),_:1})],64)}}}),Ct=Object.assign(k(vt,[["__scopeId","data-v-55a00111"]]),{__name:"PopoverThemeCustomizer"});export{Ct as default};
