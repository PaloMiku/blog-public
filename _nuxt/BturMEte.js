import{_ as k,a1 as N}from"./v2xUNtTU.js";import{J as C,r as u,N as I,aN as w,aO as n,aU as i,Q as l,aR as g,K as t,b6 as o,aS as r,b8 as d,a_ as z,ba as h,b9 as _,a$ as B,b5 as V}from"./DeZJN128.js";import{_ as G}from"./ByNQ57I1.js";import{u as L,s as M,a as A}from"./B1Humn-1.js";import"./D-deoX8n.js";const D={key:0,class:"steam-loading-center"},O={key:1,style:{"text-align":"center",color:"var(--c-text-2)"}},P={class:"user-info"},W={class:"username"},$=["title"],j=C({__name:"SteamStats",setup(E){const{fetchSteamData:v}=L(),e=u(null),c=u(!0),m=u(!1);function S(a){return M[a]||"#90a0a6"}function x(a){return A[a]||a}return I(async()=>{try{const a=await v();a.success&&a.data?.user?e.value=a.data.user:m.value=!0}catch(a){console.error("Failed to load Steam user info:",a),m.value=!0}finally{c.value=!1}}),(a,s)=>{const p=k,b=h,f=N,y=G;return n(),w(y,{card:"",title:"Steam"},{default:i(()=>[t(c)?(n(),l("div",D,[...s[0]||(s[0]=[o("div",{class:"steam-loading-spinner"},null,-1),o("div",{class:"steam-loading-text"}," Steam API 通讯中... ",-1)])])):t(m)?(n(),l("p",O,[r(p,{name:"ph:warning-circle-bold"}),s[1]||(s[1]=d(" Steam API 连接失败 ",-1))])):t(e)?(n(),l("div",{key:2,class:z(["steam-card-content",[{loaded:!t(c)}]])},[r(f,{to:"/steam",class:"user-card"},{default:i(()=>[r(b,{src:t(e).avatar.medium,alt:t(e).username,class:"user-avatar",loading:"lazy",sizes:"48px"},null,8,["src","alt"]),o("div",P,[o("div",W,_(t(e).username),1),o("div",{class:"status-badge",style:B({"--status-color":S(t(e).status)})},[s[2]||(s[2]=o("span",{class:"status-dot"},null,-1)),d(" "+_(x(t(e).status)),1)],4),t(e).currentGame?(n(),l("div",{key:0,class:"game-name",title:t(e).currentGame.name}," 正在玩 "+_(t(e).currentGame.name),9,$)):g("",!0)])]),_:1}),r(f,{to:"/steam",class:"view-more-btn"},{default:i(()=>[r(p,{name:"ph:arrow-right-bold"}),s[3]||(s[3]=d(" 查看完整信息 ",-1))]),_:1})],2)):g("",!0)]),_:1})}}}),T=Object.assign(V(j,[["__scopeId","data-v-75435159"]]),{__name:"WidgetSteamStats"});export{T as default};
