import{d as b,r as m,o as w,f as z,h as o,w as i,k as l,l as v,u as t,F as N,j as n,i as r,y as d,q as C,Q as B,b5 as I,n as V,t as _,p as F,z as G}from"#entry";import{_ as L}from"./fj4Yn3zw.js";import{u as M,s as j,a as D}from"./p0smk1q9.js";const W={key:1,style:{"text-align":"center",color:"var(--c-text-2)"}},$={class:"user-info"},h={class:"username"},q=["title"],E=b({__name:"SteamStats",setup(O){const{getUserInfo:g}=M(),e=m(null),u=m(!0),c=m(!1),x=a=>j[a]||"#90a0a6",S=a=>D[a]||a;return w(async()=>{try{const a=await g();a?e.value=a:c.value=!0}catch(a){console.error("Failed to load Steam user info:",a),c.value=!0}finally{u.value=!1}}),(a,s)=>{const p=C,y=V,f=I,k=L;return o(),z(k,{card:"",title:"Steam"},{default:i(()=>[t(u)?(o(),l(N,{key:0},[s[0]||(s[0]=n("div",{class:"skeleton-avatar"},null,-1)),s[1]||(s[1]=n("div",{class:"skeleton-info"},null,-1))],64)):t(c)?(o(),l("p",W,[r(p,{name:"ph:warning-circle-bold"}),s[2]||(s[2]=d(" Steam 数据加载失败 ",-1))])):t(e)?(o(),l("div",{key:2,class:B(["steam-card-content",{loaded:!t(u)}])},[r(f,{to:"/steam",class:"user-card"},{default:i(()=>[r(y,{src:t(e).avatar.medium,alt:t(e).username,class:"user-avatar",loading:"lazy",sizes:"48px"},null,8,["src","alt"]),n("div",$,[n("div",h,_(t(e).username),1),n("div",{class:"status-badge",style:F({"--status-color":x(t(e).status)})},[s[3]||(s[3]=n("span",{class:"status-dot"},null,-1)),d(" "+_(S(t(e).status)),1)],4),t(e).currentGame?(o(),l("div",{key:0,class:"game-name",title:t(e).currentGame.name}," 正在玩 "+_(t(e).currentGame.name),9,q)):v("",!0)])]),_:1}),r(f,{to:"/steam",class:"view-more-btn"},{default:i(()=>[r(p,{name:"ph:arrow-right-bold"}),s[4]||(s[4]=d(" 查看完整信息 ",-1))]),_:1})],2)):v("",!0)]),_:1})}}}),Z=Object.assign(G(E,[["__scopeId","data-v-64b63bec"]]),{__name:"WidgetSteamStats"});export{Z as default};
