import{E as f,y as v,r as c,q as b,J as g,al as n,o as w,z as h,X as $,V as x,e as C,w as y,g as j,b as B}from"./Cv1e1hMO.js";import{_ as D}from"./D5MINPV0.js";import{_ as E}from"./BC9UkzmP.js";import{_ as O}from"./DXLGCukD.js";import{u as T}from"./CDF0gmG0.js";import{g as A,b as S}from"./bv22z24i.js";import"./uA_4x0q0.js";const P=f({__name:"BlogStats",async setup(V){let o,p;const i=v(),_=b(),r=c(_.public.buildTime),l=c(i.component.stats.wordCount),u=c(""),{data:e}=([o,p]=g(()=>T("blog-stats",()=>B(()=>import("./DmBT22jJ.js"),[],import.meta.url).then(t=>(t.default||t)()))),o=await o,p(),o);e&&e.value&&(l.value=n(e.value.total.words),u.value=Object.entries(e.value.annual).reverse().map(([t,a])=>`${t}年：${a.posts}篇，${n(a.words)}字`).join(`
`)),w(async()=>{if(r.value=A(r.value),!e||!e.value){const t=await $fetch("/api/stats").catch(()=>null);if(!t)return;l.value=n(t.total.words),u.value=Object.entries(t.annual).reverse().map(([a,s])=>`${a}年：${s.posts}篇，${n(s.words)}字`).join(`
`)}});const m=[{label:"运营时长",value:S(i.timeEstablished),tip:`博客于${i.timeEstablished}上线`},{label:"上次更新",value:()=>$(D,{date:_.public.buildTime,relative:!0,tipPrefix:"构建于"}),tip:h(()=>`构建于${r.value}`)},{label:"总字数",value:l,tip:u}];return(t,a)=>{const s=E,d=O;return C(),x(d,{card:"",title:"博客统计"},{default:y(()=>[j(s,{items:m})]),_:1})}}}),z=Object.assign(P,{__name:"WidgetBlogStats"});export{z as default};
