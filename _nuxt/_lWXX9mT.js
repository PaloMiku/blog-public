import{_ as V}from"./3o_v7iT2.js";import{J as W,r as k,N as M,Q as u,aN as m,aR as l,aT as x,aQ as S,T as z,b5 as o,aU as I,aV as P,aZ as p,a_ as $,b8 as B,b4 as N}from"./D6ajeznB.js";const O={key:0,id:"z-theme-customizer"},G={class:"customizer-header"},K={class:"customizer-section"},R={class:"color-grid"},U=["aria-label","onClick"],X={class:"color-label"},H={class:"customizer-section"},Q={class:"font-buttons"},j=W({__name:"ThemeCustomizer",props:{show:{type:Boolean},duration:{},onClose:{type:Function}},emits:["close"],setup(d,{emit:T}){const C=d,w=T,i={zhilu:{hex:"#1a1aff",label:"纸鹿蓝"},rose:{hex:"#ff1a8c",label:"猛男粉"},green:{hex:"#75bb44",label:"草绿色"},orange:{hex:"#f8b907",label:"活力橙"},red:{hex:"#ff1a1a",label:"中国红"},violet:{hex:"#b31aff",label:"基佬紫"}};function L(t){const e=t.replace("#",""),s=parseInt(e.substring(0,2),16)/255,n=parseInt(e.substring(2,4),16)/255,a=parseInt(e.substring(4,6),16)/255,r=Math.max(s,n,a),_=Math.min(s,n,a);let c=0;if(r!==_){const h=r-_;switch(r){case s:c=((n-a)/h+(n<a?6:0))/6;break;case n:c=((a-s)/h+2)/6;break;case a:c=((s-n)/h+4)/6;break}}return Math.round(c*360)}const v=k("zinc"),b=k("system"),E={wenkai:'"LXGW WenKai Screen", "Inter", "Noto Sans SC-Local", "Noto Sans SC", system-ui, sans-serif',system:'system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans SC", sans-serif'};function F(t){return i[t].hex}function g(t){v.value=t;const e=i[t].hex,s=L(e);document.documentElement.style.setProperty("--hue-theme",`${s}deg`),localStorage.setItem("themeColor",t)}function f(t){b.value=t;const e=E[t];e&&(document.documentElement.style.setProperty("--font-basic",e),localStorage.setItem("fontPreference",t))}M(()=>{try{const t=localStorage.getItem("themeColor");t&&t in i&&g(t);const e=localStorage.getItem("fontPreference");e&&(e==="wenkai"||e==="system")&&f(e)}catch{}});function y(){C.onClose?C.onClose():w("close")}return(t,e)=>{const s=V;return m(),u(I,null,[l(z,{name:"float-in"},{default:x(()=>[d.show?(m(),u("div",{key:0,id:"z-theme-customizer-bgmask",onClick:y})):S("",!0)]),_:1}),l(z,{name:"float-in"},{default:x(()=>[d.show?(m(),u("div",O,[o("div",G,[e[2]||(e[2]=o("h2",null,"自定义",-1)),e[3]||(e[3]=o("p",null,"选择样式和颜色",-1)),o("button",{class:"close-btn","aria-label":"关闭",onClick:y},[l(s,{name:"ph:x-bold"})])]),o("div",K,[e[4]||(e[4]=o("h3",null,"颜色",-1)),o("div",R,[(m(),u(I,null,P(i,(n,a)=>o("button",{key:a,class:p([{active:v.value===a},"color-button"]),"aria-label":`选择 ${n.label} 颜色`,onClick:r=>g(a)},[o("span",{class:"color-dot",style:$({backgroundColor:F(a)})},null,4),o("span",X,B(n.label),1)],10,U)),64))])]),o("div",H,[e[7]||(e[7]=o("h3",null,"字体",-1)),o("div",Q,[o("button",{class:p([{active:b.value==="wenkai"},"font-button"]),"aria-label":"使用 LXGW WenKai 字体",onClick:e[0]||(e[0]=n=>f("wenkai"))},[l(s,{name:"ph:paragraph"}),e[5]||(e[5]=o("span",null,"LXGW WenKai",-1))],2),o("button",{class:p([{active:b.value==="system"},"font-button"]),"aria-label":"跟随系统字体",onClick:e[1]||(e[1]=n=>f("system"))},[l(s,{name:"ph:monitor"}),e[6]||(e[6]=o("span",null,"跟随系统字体",-1))],2)])])])):S("",!0)]),_:1})],64)}}}),J=Object.assign(N(j,[["__scopeId","data-v-20ff5fcf"]]),{__name:"PopoverThemeCustomizer"});export{J as default};
