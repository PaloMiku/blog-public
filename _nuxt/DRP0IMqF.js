const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./LQfdCX6f.js","./ppzhv3VO.js","./entry.aXXMqmcI.css","./Hz-qS8wY.js","./0Iju0TH6.js","./SteamProfileSection.CRCcq14b.css","./zhq4BD30.js","./SteamStatsOverview.D3Lfgt9L.css","./DVkNgEWZ.js","./B-Q7bu-f.js","./0pYs9o80.js","./Pagination.DEKPXboi.css","./CoXVAd0R.js","./Tab.B_z8VZ-t.css","./SteamGamesTabs.DZjvnFoT.css"])))=>i.map(i=>d[i]);
import{d as h,B as D,C as I,E as V,r as i,o as z,k as b,h as c,j as e,l as B,i as l,G as R,u as a,q as T,f as _,w as o,Q as p,S as v,R as f,z as O}from"#entry";import N from"./CoXVAd0R.js";import{_ as F}from"./-_qGLppl.js";import{u as H}from"./0Iju0TH6.js";const M={class:"steam-page"},$={class:"mobile-only"},j={key:0,class:"error-state"},q={class:"steam-content"},Q={class:"profile-section"},Z=h({__name:"steam",setup(J){const k=D(),x=I();V({title:"Steam",meta:[{name:"description",content:`${k.author.name} 的 Steam 个人资料，查看完整的游戏库、游戏时长、成就等信息。`},{property:"og:type",content:"profile"},{name:"keywords",content:"Steam,游戏库,游戏时长,成就"}]}),x.setAside(["blog-tech","comm-group"]);const{fetchSteamData:C}=H(),G=p(()=>f(()=>import("./LQfdCX6f.js"),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url)),w=p(()=>f(()=>import("./zhq4BD30.js"),__vite__mapDeps([6,1,2,4,7]),import.meta.url)),E=p(()=>f(()=>import("./DVkNgEWZ.js"),__vite__mapDeps([8,1,2,4,9,10,11,12,13,14]),import.meta.url)),m=i(!0),u=i(!1),n=i(null),r=i(null),g=i(null),y=async()=>{m.value=!0,u.value=!1,await S()},S=async()=>{try{const s=await C();if(s.success&&s.data){if(n.value=s.data.user,r.value=s.data.games,g.value=s.allMetadata,n.value?.currentGame&&r.value?.recentGames){const t=r.value.recentGames.find(d=>d.appid===n.value.currentGame.appid);t&&(n.value.currentGame={...n.value.currentGame,images:t.images})}}else u.value=!0}catch(s){console.error("Failed to fetch Steam data:",s),u.value=!0}finally{m.value=!1}};return z(S),(s,t)=>{const d=R,A=T,L=N,P=F;return c(),b("div",M,[e("div",$,[l(d,{to:"/",suffix:"Steam"})]),a(u)?(c(),b("div",j,[l(A,{name:"ph:warning-bold",size:"36"}),t[0]||(t[0]=e("p",null,"无法加载部分 Steam 数据（某些模块可能离线）",-1)),t[1]||(t[1]=e("p",{class:"error-detail"},"请检查 API 是否可用或稍后重试",-1)),e("button",{onClick:y}," 重试 ")])):B("",!0),e("div",q,[e("div",Q,[(c(),_(v,null,{default:o(()=>[l(a(G),{user:a(n),loading:a(m),metadata:a(g),onRefresh:y},null,8,["user","loading","metadata"])]),fallback:o(()=>[...t[2]||(t[2]=[e("div",{class:"steam-profile-skeleton"},[e("div",{class:"skeleton-avatar"}),e("div",{class:"skeleton-info"},[e("div",{class:"skeleton-text"}),e("div",{class:"skeleton-text short"})])],-1)])]),_:1}))]),(c(),_(v,null,{default:o(()=>[l(a(w),{games:a(r),user:a(n)},null,8,["games","user"])]),fallback:o(()=>[...t[3]||(t[3]=[e("div",{class:"stats-overview"},[e("div",{class:"stat-card"},[e("div",{class:"stat-info"},[e("div",{class:"stat-label"},"加载中"),e("div",{class:"stat-value"},"—")])])],-1)])]),_:1})),(c(),_(v,null,{default:o(()=>[l(a(E),{games:a(r),loading:a(m)},null,8,["games","loading"])]),fallback:o(()=>[l(L,{tabs:["最近游戏","游戏库"],center:""},{tab1:o(()=>[...t[4]||(t[4]=[e("div",{class:"tab-content"},[e("div",{class:"empty-state"},[e("p",null,"正在加载最近游戏...")])],-1)])]),tab2:o(()=>[...t[5]||(t[5]=[e("div",{class:"tab-content"},[e("div",{class:"empty-state"},[e("p",null,"正在加载游戏库...")])],-1)])]),_:1})]),_:1}))]),l(P)])}}}),Y=O(Z,[["__scopeId","data-v-71de872c"]]);export{Y as default};
