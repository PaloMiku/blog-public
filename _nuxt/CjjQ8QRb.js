import G from"./CqGESXGk.js";import{_ as A,c as H,d as O}from"./D4uPYtoy.js";import{J as I,x as h,Q as i,aN as c,b5 as e,a_ as S,b8 as l,aQ as m,aR as C,aU as w,aV as D,aZ as z,K as s,b4 as B,ah as j,r as x,o as E,aM as U,aX as F}from"./D6ajeznB.js";import{_ as R}from"./Dz3fculF.js";import"./D-deoX8n.js";function Q(o){if(o==="perpetual")return-1;try{const _=new Date;_.setHours(0,0,0,0);const f=new Date(o);f.setHours(0,0,0,0);const b=f.getTime()-_.getTime();return Math.ceil(b/(1e3*60*60*24))}catch{return console.error("Invalid renewal date format:",o),0}}function M(){return{getDaysLeft:t=>Q(t),getStatusText:t=>t===-1?"无计费策略":t<0?`已过期 ${Math.abs(t)} 天`:t===0?"即将过期":t===1?"剩余 1 天":`剩余 ${t} 天`,getProgressColor:t=>t===-1?"#26d07c":t<0?"#ff6554":t<30?"#ffc72c":t<90?"#fa3":"#3af",getProgressPercentage:t=>{if(t===-1)return 100;if(t<0)return 0;const g=Math.min(t/365*100,100);return Math.max(g,0)}}}const Z={class:"service-card"},J={class:"card-header"},K={class:"header-left"},L={class:"service-name"},X={class:"service-provider"},q={class:"card-content"},W={class:"service-description"},Y={class:"service-meta"},ee={key:0,class:"meta-item"},te={key:1,class:"tags-container"},se={key:0,class:"service-specs"},ae={class:"spec-label"},oe={class:"spec-value"},ne={class:"card-footer"},re={class:"service-countdown"},ce={class:"progress-header"},ie={class:"progress-container"},le={class:"progress-bar-bg"},de={class:"renewal-date-info"},ue=I({__name:"ServiceCard",props:{categoryColor:{default:"#3af"},name:{},category:{},description:{},location:{},provider:{},specs:{},link:{},tags:{},renewalDate:{}},setup(o){const _=o,{getDaysLeft:f,getProgressColor:b,getProgressPercentage:t}=M(),r=h(()=>f(_.renewalDate)),g=h(()=>t(r.value)),y=h(()=>b(r.value)),v=h(()=>r.value===-1?"无计费策略":r.value<0?`已过期 ${Math.abs(r.value)} 天`:r.value===0?"即将过期":r.value===1?"剩余 1 天":`剩余 ${r.value} 天`);return($,k)=>{const u=A;return c(),i("div",Z,[e("div",{class:"card-header-bar",style:S({background:`linear-gradient(135deg, ${o.categoryColor}80 0%, ${o.categoryColor}40 100%)`})},null,4),e("div",J,[e("div",K,[e("h3",L,l(o.name),1),e("p",X,l(o.provider||"第三方服务"),1)])]),e("div",q,[e("p",W,l(o.description),1),e("div",Y,[o.location?(c(),i("div",ee,[C(u,{name:"ph:map-pin-bold",size:"14"}),e("span",null,l(o.location),1)])):m("",!0),o.tags?.length?(c(),i("div",te,[(c(!0),i(w,null,D(o.tags,a=>(c(),i("span",{key:a,class:"tag"},l(a),1))),128))])):m("",!0)]),o.specs&&Object.keys(o.specs).length>0?(c(),i("div",se,[(c(!0),i(w,null,D(o.specs,(a,n)=>(c(),i("div",{key:n,class:"spec-item"},[e("span",ae,l(n)+":",1),e("span",oe,l(a),1)]))),128))])):m("",!0)]),e("div",ne,[e("div",re,[e("div",ce,[k[0]||(k[0]=e("span",{class:"progress-label"},"服务续期",-1)),e("span",{class:z(["status-text",{expired:s(r)<0&&s(r)!==-1,warning:s(r)<30&&s(r)>=0,perpetual:s(r)===-1}])},l(s(v)),3)]),e("div",ie,[e("div",le,[e("div",{class:"progress-bar-fill",style:S({width:`${s(g)}%`,backgroundColor:s(y)})},null,4)])]),e("div",de,l(o.renewalDate==="perpetual"?"无计费策略":`到期: ${o.renewalDate}`),1)])])])}}}),pe=Object.assign(B(ue,[["__scopeId","data-v-6ea0e78e"]]),{__name:"ServiceCard"}),N={categories:{服务:{name:"服务",icon:"uil:server",color:"#3af",description:"博客及相关服务运行的服务主体"},网络:{name:"网络",icon:"ph:wifi-high-bold",color:"#3ba",description:"域名、CDN 等网络相关服务"},存储:{name:"存储",icon:"ph:database-bold",color:"#f77",description:"云存储及备份服务"},其他:{name:"其他",icon:"ph:package-bold",color:"#fa3",description:"其他辅助服务"}},items:[{name:"EdgePages",category:"服务",description:"博客主站点托管服务",location:"中国大陆",provider:"Tencent Cloud",specs:{类型:"网站托管",储存:"Unlimited",带宽:"Unlimited",功能:"Edge Functions, Forms"},link:"https://edgeone.ai",tags:["CDN","无服务器","自动部署"],renewalDate:"perpetual"},{name:"Azure VPS",category:"服务",description:"部分 API 服务及备用服务器",location:"日本东部",provider:"DigitalOcean",specs:{类型:"VPS (Droplet)",配置:"1GB RAM / 60GB SSD",系统:"Debian 13"},link:"https://www.azure.com/",tags:["VPS","云计算","Docker"],renewalDate:"2026-06-15"},{name:"sotkg.com",category:"网络",description:"主域名注册与管理",location:"域名注册商",provider:"Aliyun (Alibaba Cloud)",specs:{类型:"域名",年龄:"1 年",隐私:"已启用",DNSSEC:"已启用"},link:"https://www.aliyun.com/",tags:["域名","DNS","隐私保护"],renewalDate:"2026-09-18"},{name:"101045700.xyz",category:"网络",description:"备用 API 域名和加速",location:"全球",provider:"Spaceship",specs:{类型:"域名",解析:"Cloudflare",功能:"Cloud, API"},link:"https://www.cloudflare.com/",tags:["CDN","安全","DNS"],renewalDate:"2027-07-08"},{name:"云存储服务",category:"存储",description:"博客媒体与备份资源存储",location:"亚太地区",provider:"Cloudflare R2",specs:{类型:"OSS (对象存储)",带宽:"不计出口费用"},link:"https://www.cloudflare.com/products/r2-storage/",tags:["备份","对象存储","多区域"],renewalDate:"perpetual"},{name:"GitHub 代码托管",category:"其他",description:"博客源代码及版本管理",location:"全球",provider:"GitHub",specs:{类型:"版本控制 (Git)",功能:"CI/CD, Actions",存储:"Unlimited"},link:"https://github.com/",tags:["Git","代码托管"],renewalDate:"perpetual"}]},ge={class:"mobile-only"},ve={class:"services-page"},me={class:"stats-overview"},_e={class:"stat-card active"},fe={class:"stat-number"},he={key:0,class:"stat-card warning"},be={class:"stat-number"},ye={key:1,class:"stat-card maintenance"},Ce={class:"stat-number"},we={key:2,class:"stat-card expired"},ke={class:"stat-number"},De={class:"stat-card total"},$e={class:"stat-number"},xe={key:0,class:"categories-tabs"},Se={class:"tabs-container"},Pe=["onClick"],Ne={class:"count"},Ae={class:"services-content"},Ie={class:"services-grid"},ze={key:0,class:"empty-state"},Be=I({__name:"index",setup(o){const _=H(),f=O(),{getDaysLeft:b}=M();f.setAside(["blog-tech","comm-group"]),j({title:"服务",meta:[{property:"og:type",content:"profile"},{name:"description",content:`${_.author.name} 的博客服务，展示博客运行所依赖的各项服务和到期时间。`},{name:"keywords",content:"服务,主机,CDN,域名,存储"}]});const t=x(N.categories),r=x(N.items),g=h(()=>{const a={};for(const n of Object.keys(t.value))a[n]=r.value.filter(p=>p.category===n);return a}),y=h(()=>Object.keys(t.value).filter(a=>(g.value[a]??[]).length>0)),v=x("");E(y,a=>{a.length>0&&!v.value&&(v.value=a[0]??"")},{immediate:!0});function $(a){return t.value[a]?.color||"#666"}function k(a){return t.value[a]?.icon||"ph:package-bold"}const u=h(()=>{const a={total:r.value.length,active:0,warning:0,maintenance:0,expired:0};for(const n of r.value){const p=b(n.renewalDate);p===-1||p>=30?a.active++:p<30&&p>=0?a.warning++:p<0&&a.expired++}return a});return(a,n)=>{const p=G,P=A,T=pe,V=R;return c(),i(w,null,[e("div",ge,[C(p,{to:"/",suffix:"服务"})]),e("div",ve,[e("div",me,[e("div",_e,[e("div",fe,l(s(u).active),1),n[0]||(n[0]=e("div",{class:"stat-label"}," 正常服务 ",-1))]),s(u).warning>0?(c(),i("div",he,[e("div",be,l(s(u).warning),1),n[1]||(n[1]=e("div",{class:"stat-label"}," 即将过期 ",-1))])):m("",!0),s(u).maintenance>0?(c(),i("div",ye,[e("div",Ce,l(s(u).maintenance),1),n[2]||(n[2]=e("div",{class:"stat-label"}," 维护中 ",-1))])):m("",!0),s(u).expired>0?(c(),i("div",we,[e("div",ke,l(s(u).expired),1),n[3]||(n[3]=e("div",{class:"stat-label"}," 已过期 ",-1))])):m("",!0),e("div",De,[e("div",$e,l(s(u).total),1),n[4]||(n[4]=e("div",{class:"stat-label"}," 服务总数 ",-1))])]),s(y).length>0?(c(),i("div",xe,[e("div",Se,[(c(!0),i(w,null,D(s(y),d=>(c(),i("button",{key:d,class:z(["category-tab",{active:s(v)===d}]),style:S({"--tab-color":$(d)}),onClick:Me=>v.value=d},[C(P,{name:k(d),size:"20"},null,8,["name"]),e("span",null,l(d),1),e("span",Ne,"("+l((s(g)[d]??[]).length)+")",1)],14,Pe))),128))])])):m("",!0),e("div",Ae,[e("div",Ie,[(c(!0),i(w,null,D(s(g)[s(v)],d=>(c(),U(T,F({key:`${d.category}-${d.name}`},{ref_for:!0},d,{"category-color":$(d.category)}),null,16,["category-color"]))),128))]),(s(g)[s(v)]??[]).length===0?(c(),i("div",ze,[C(P,{name:"ph:package-bold",size:"48"}),n[5]||(n[5]=e("p",null,"暂无服务",-1))])):m("",!0)])]),C(V)],64)}}}),je=B(Be,[["__scopeId","data-v-cf83a787"]]);export{je as default};
