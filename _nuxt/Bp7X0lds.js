const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./CRd5JYvZ.js","./DFV-4XuJ.js","./entry.C33kJvXA.css","./Alert.CtchqJiG.css","./SYsnfBqe.js","./TXohDuOs.js","./Badge.dpIaIqoD.css","./CHLgxeHX.js","./Blur.B-jU4pb_.css","./mXh6JWpW.js","./CardList.CUzalQHM.css","./cdWfNv9X.js","./Chat.DflUvKVA.css","./CHXtEIqK.js","./Copy.DZr0DIN3.css","./DAL8Sefq.js","./MGoVUnmL.js","./EquipmentCard.4H604EZ_.css","./xZ7DlmWR.js","./Folding.C2PAOQ-n.css","./DQ8Ut1En.js","./Dt-3t712.js","./Galgame.DDy0pUtT.css","./B2gTvfd_.js","./GameCard.BbWDUXez.css","./CUgtmjZP.js","./index.CGFOPbFs.css","./BHtap66U.js","./BjMoY-HC.js","./LinkBanner.B451pqZ3.css","./ZS5pF1eW.js","./LinkCard.CKSSmepd.css","./Y1LrRbpS.js","./MusicPlayer.DN4OhAXn.css","./BxtS9GyP.js","./MusicScore.T8ZaJg5P.css","./CXASejVL.js","./Pic.KsqGeanj.css","./CWR7DhSG.js","./Poetry.ywBKvOeN.css","./CZMPnTkv.js","./ProjectGroup.WVVMXdIH.css","./B49KnqX_.js","./ProseA.BTfGpl4j.css","./xFxyufSo.js","./ProseCode.Cl0cfRBZ.css","./Bcj-7tdo.js","./ProseTable.DQgQdj7r.css","./8KXgQT2m.js","./Quote.JA7pZPsL.css","./PHu9vtbR.js","./ResourceList.CE7yKve6.css","./CxnSI79A.js","./Tab.D281f3h-.css","./hNSTKnLo.js","./Timeline.C44sJ9Hm.css","./Y2YYVNWq.js","./Tip.DbdmvSUm.css","./CYCEODBz.js","./VideoEmbed.Bbf35Hia.css"])))=>i.map(i=>d[i]);
import{y as X,B as x,aC as Z,z as b,aD as B,S as Y,U as ee,ac as H,aE as E,a7 as L,aF as C,aG as te,aH as F,aI as re,b as p,p as oe,a5 as ne,av as se,e as ie,n as ue,J as w}from"./DFV-4XuJ.js";import{f as ae,h as pe}from"./rJCbAzvX.js";import{t as ce}from"./CK5gOxmq.js";const V=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"],le=["p","h1","h2","h3","h4","h5","h6","li"];function O(e,r){return e.type===r||typeof e.type=="object"&&e.type.tag===r||e.tag===r}function S(e){return O(e,"text")||O(e,Symbol.for("v-txt"))}function M(e){return Array.isArray(e.children)||typeof e.children=="string"?e.children:typeof e.children?.default=="function"?e.children.default():[]}function A(e){if(!e)return"";if(Array.isArray(e))return e.map(A).join("");if(S(e))return e.value||e.children||"";const r=M(e);return Array.isArray(r)?r.map(A).filter(Boolean).join(""):""}function $(e,r=[]){if(Array.isArray(e))return e.flatMap(o=>$(o,r));let t=e;return r.some(o=>o==="*"||O(e,o))&&(t=M(e)||e,!Array.isArray(t)&&le.some(o=>O(e,o))&&(t=[t])),t}function k(e,r=[]){return e=Array.isArray(e)?e:[e],r.length?e.flatMap(t=>k($(t,[r[0]]),r.slice(1))).filter(t=>!(S(t)&&A(t).trim()==="")):e}function q(e,r=[]){return typeof r=="string"&&(r=r.split(/[,\s]/).map(t=>t.trim()).filter(Boolean)),r.length?k(e,r).reduce((t,o)=>(S(o)?typeof t[t.length-1]=="string"?t[t.length-1]+=o.children:t.push(o.children):t.push(o),t),[]):e}function me(e,r){return r.reduce((t,o)=>{const n=de(e,o);return n!==void 0&&(t[o]=n),t},{})}function de(e,r){return r.split(".").reduce((t,o)=>t&&t[o],e)}const I="default",N=/^@|^v-on:/,G=/^:|^v-bind:/,_e=/^v-model/,fe=["select","textarea","input"],ge=["math","svg"],ye=Object.fromEntries(["p","a","blockquote","code","pre","code","em","h1","h2","h3","h4","h5","h6","hr","img","ul","ol","li","strong","table","thead","tbody","td","th","tr","script"].map(e=>[e,`prose-${e}`])),Pe=["script","base"],he=X({name:"MDCRenderer",props:{body:{type:Object,required:!0},data:{type:Object,default:()=>({})},class:{type:[String,Object],default:void 0},tag:{type:[String,Boolean],default:void 0},prose:{type:Boolean,default:void 0},components:{type:Object,default:()=>({})},unwrap:{type:[Boolean,String],default:!1}},async setup(e){const t=Z()?.appContext?.app?.$nuxt,o=t?.$route||t?._route,{mdc:n}=t?.$config?.public||{},i=b(()=>({...n?.components?.prose&&e.prose!==!1?ye:{},...n?.components?.map||{},...B(e.data?.mdc?.components||{}),...e.components})),m=b(()=>{const u=(e.body?.children||[]).map(a=>a.tag||a.type).filter(a=>!V.includes(a));return Array.from(new Set(u)).sort().join(".")}),c=Y({...e.data});ee(()=>e.data,u=>{Object.assign(c,u)}),await Le(e.body,{tags:i.value});function l(u,a){const _=u.split(".").length-1;return u.split(".").reduce((g,y,T)=>T==_&&g?(g[y]=a,g[y]):typeof g=="object"?g[y]:void 0,c)}return{tags:i,contentKey:m,route:o,runtimeData:c,updateRuntimeData:l}},render(e){const{tags:r,tag:t,body:o,data:n,contentKey:i,route:m,unwrap:c,runtimeData:l,updateRuntimeData:u}=e;if(!o)return null;const a={...n,tags:r,$route:m,runtimeData:l,updateRuntimeData:u},_=t!==!1?j(t||a.component?.name||a.component||"div"):void 0;return _?x(_,{...a.component?.props,class:e.class,...this.$attrs,key:i},{default:g}):g?.();function g(){const y=U(o,x,{documentMeta:a,parentScope:a,resolveComponent:j});return y?.default?c?q(y.default(),typeof c=="string"?c.split(" "):["*"]):y.default():null}}});function ve(e,r,t,o){const{documentMeta:n,parentScope:i,resolveComponent:m}=t;if(e.type==="text")return r(C,e.value);if(e.type==="comment")return r(te,null,e.value);const c=e.tag,l=z(e,n.tags);if(e.tag==="binding")return be(e,r,n,i);const u=K(l)?g=>g:m;if(Pe.includes(l))return r("pre",{class:"mdc-renderer-dangerous-tag"},"<"+l+">"+A(e)+"</"+l+">");const a=u(l);typeof a=="object"&&(a.tag=c);const _=Te(e,n);return o&&(_.key=o),r(a,_,U(e,r,{documentMeta:n,parentScope:{...i,..._},resolveComponent:u}))}function U(e,r,t){const{documentMeta:o,parentScope:n,resolveComponent:i}=t,c=(e.children||[]).reduce((u,a)=>{if(!Ae(a))return u[I].children.push(a),u;const _=Oe(a);return u[_]=u[_]||{props:{},children:[]},a.type==="element"&&(u[_].props=a.props,u[_].children.push(...a.children||[])),u},{[I]:{props:{},children:[]}});return Object.entries(c).reduce((u,[a,{props:_,children:g}])=>(g.length&&(u[a]=(y={})=>{const T=me(y,Object.keys(_||{}));let D=g.map((s,d)=>ve(s,r,{documentMeta:o,parentScope:{...n,...T},resolveComponent:i},String(s.props?.key||d)));return _?.unwrap&&(D=q(D,_.unwrap)),Re(D)}),u),{})}function be(e,r,t,o={}){const n={...t.runtimeData,...o,$document:t,$doc:t},i=/\.|\[(\d+)\]/,c=(e.props?.value.trim().split(i).filter(Boolean)).reduce((u,a)=>{if(u&&a in u)return typeof u[a]=="function"?u[a]():u[a]},n),l=e.props?.defaultValue;return r(C,c??l??"")}function Te(e,r){const{tag:t="",props:o={}}=e;return Object.keys(o).reduce(function(n,i){if(i==="__ignoreMap")return n;const m=o[i];if(_e.test(i))return Ee(i,m,n,r,{native:fe.includes(t)});if(i==="v-bind")return De(i,m,n,r);if(N.test(i))return Ve(i,m,n,r);if(G.test(i))return Ce(i,m,n,r);const{attribute:c}=ae(pe,i);return Array.isArray(m)&&m.every(l=>typeof l=="string")?(n[c]=m.join(" "),n):(n[c]=m,n)},{})}function Ee(e,r,t,o,{native:n}){const i=e.match(/^v-model:([^=]+)/)?.[1]||"modelValue",m=n?"value":i,c=n?"onInput":`onUpdate:${i}`;return t[m]=R(r,o.runtimeData),t[c]=l=>{o.updateRuntimeData(r,n?l.target?.value:l)},t}function De(e,r,t,o){const n=R(r,o);return t=Object.assign(t,n),t}function Ve(e,r,t,o){return e=e.replace(N,""),t.on=t.on||{},t.on[e]=()=>R(r,o),t}function Ce(e,r,t,o){return e=e.replace(G,""),t[e]=R(r,o),t}const j=e=>{if(typeof e=="string"){if(V.includes(e))return e;const r=H(E(e),!1);return!e||r?.name==="AsyncComponentWrapper"||typeof r=="string"?r:"setup"in r?L(()=>new Promise(t=>t(r))):r}return e};function R(e,r){const t=e.split(".").reduce((o,n)=>typeof o=="object"?o[n]:void 0,r);return typeof t>"u"?re(e):t}function Oe(e){let r="";for(const t of Object.keys(e.props||{}))if(!(!t.startsWith("#")&&!t.startsWith("v-slot:"))){r=t.split(/[:#]/,2)[1];break}return r||I}function Ae(e){return e.tag==="template"}function K(e){return ge.includes(e)}function Re(e){const r=[];for(const t of e){const o=r[r.length-1];t.type===C&&o?.type===C?o.children=o.children+t.children:r.push(t)}return r}async function Le(e,r){if(!e)return;const t=Array.from(new Set(o(e,r)));await Promise.all(t.map(async n=>{if(n?.render||n?.ssrRender||n?.__ssrInlineRender)return;const i=j(n);i?.__asyncLoader&&!i.__asyncResolved&&await i.__asyncLoader()}));function o(n,i){const m=n.tag;if(n.type==="text"||m==="binding"||n.type==="comment")return[];const c=z(n,i.tags);if(K(c))return[];const l=[];n.type!=="root"&&!V.includes(c)&&l.push(c);for(const u of n.children||[])l.push(...o(u,i));return l}}function z(e,r){const t=e.tag;return!t||typeof e.props?.__ignoreMap<"u"?t:r[t]||r[E(t)]||r[F(e.tag)]||t}const Ie=Object.assign(he,{__name:"MDCRenderer"}),je=()=>p(()=>import("./CRd5JYvZ.js"),__vite__mapDeps([0,1,2,3]),import.meta.url),Se=()=>p(()=>import("./SYsnfBqe.js"),__vite__mapDeps([4,1,2,5,6]),import.meta.url),xe=()=>p(()=>import("./CHLgxeHX.js"),__vite__mapDeps([7,1,2,8]),import.meta.url),we=()=>p(()=>import("./mXh6JWpW.js"),__vite__mapDeps([9,1,2,10]),import.meta.url),Be=()=>p(()=>import("./cdWfNv9X.js"),__vite__mapDeps([11,1,2,12]),import.meta.url),He=()=>p(()=>import("./CHXtEIqK.js"),__vite__mapDeps([13,1,2,14]),import.meta.url),Fe=()=>p(()=>import("./DAL8Sefq.js"),__vite__mapDeps([15,1,2]),import.meta.url),Me=()=>p(()=>import("./MGoVUnmL.js"),__vite__mapDeps([16,1,2,17]),import.meta.url),$e=()=>p(()=>import("./xZ7DlmWR.js"),__vite__mapDeps([18,1,2,19]),import.meta.url),ke=()=>p(()=>import("./DQ8Ut1En.js"),__vite__mapDeps([20,1,2,21,22]),import.meta.url),qe=()=>p(()=>import("./B2gTvfd_.js"),__vite__mapDeps([23,1,2,24]),import.meta.url),Ne=()=>p(()=>import("./CUgtmjZP.js"),__vite__mapDeps([25,1,2,4,5,6,26]),import.meta.url),Ge=()=>p(()=>import("./DFV-4XuJ.js").then(e=>e.bv),__vite__mapDeps([1,2]),import.meta.url),Ue=()=>p(()=>import("./BHtap66U.js"),__vite__mapDeps([27,28,1,2,5,29]),import.meta.url),Ke=()=>p(()=>import("./ZS5pF1eW.js"),__vite__mapDeps([30,28,1,2,5,31]),import.meta.url),ze=()=>p(()=>import("./Y1LrRbpS.js"),__vite__mapDeps([32,1,2,33]),import.meta.url),We=()=>p(()=>import("./BxtS9GyP.js"),__vite__mapDeps([34,1,2,35]),import.meta.url),Qe=()=>p(()=>import("./CXASejVL.js"),__vite__mapDeps([36,1,2,28,5,37]),import.meta.url),Je=()=>p(()=>import("./CWR7DhSG.js"),__vite__mapDeps([38,1,2,39]),import.meta.url),Xe=()=>p(()=>import("./CZMPnTkv.js"),__vite__mapDeps([40,1,2,41]),import.meta.url),Ze=()=>p(()=>import("./B49KnqX_.js"),__vite__mapDeps([42,1,2,43]),import.meta.url),Ye=()=>p(()=>import("./xFxyufSo.js"),__vite__mapDeps([44,1,2,45]),import.meta.url),et=()=>p(()=>import("./DFV-4XuJ.js").then(e=>e.bw),__vite__mapDeps([1,2]),import.meta.url),tt=()=>p(()=>import("./Bcj-7tdo.js"),__vite__mapDeps([46,1,2,47]),import.meta.url),rt=()=>p(()=>import("./8KXgQT2m.js"),__vite__mapDeps([48,1,2,49]),import.meta.url),ot=()=>p(()=>import("./PHu9vtbR.js"),__vite__mapDeps([50,4,1,2,5,6,51]),import.meta.url),nt=()=>p(()=>import("./CxnSI79A.js"),__vite__mapDeps([52,1,2,53]),import.meta.url),st=()=>p(()=>import("./hNSTKnLo.js"),__vite__mapDeps([54,1,2,55]),import.meta.url),it=()=>p(()=>import("./Y2YYVNWq.js"),__vite__mapDeps([56,1,2,57]),import.meta.url),ut=()=>p(()=>import("./CYCEODBz.js"),__vite__mapDeps([58,1,2,59]),import.meta.url),W=["ZhiluHeader","ProseADVue","ProseBlockquoteDVue","ProseBlockquote","ProseCodeDVue","ProseEmDVue","ProseEm","ProseH1DVue","ProseH1","ProseH2DVue","ProseH2","ProseH3DVue","ProseH3","ProseH4DVue","ProseH4","ProseH5DVue","ProseH5","ProseH6DVue","ProseH6","ProseHrDVue","ProseHr","ProseImgDVue","ProseImg","ProseLiDVue","ProseLi","ProseOlDVue","ProseOl","ProsePDVue","ProseP","ProsePreDVue","ProseScriptDVue","ProseScript","ProseStrongDVue","ProseStrong","ProseTableDVue","ProseTbodyDVue","ProseTbody","ProseTdDVue","ProseTd","ProseThDVue","ProseTh","ProseTheadDVue","ProseThead","ProseTrDVue","ProseTr","ProseUlDVue","ProseUl","Icon"],Q=["Alert","Badge","Blur","CardList","Chat","Copy","EmojiClock","EquipmentCard","Folding","Galgame","GameCard","InfoCard","Key","LinkBanner","LinkCard","MusicPlayer","MusicScore","Pic","Poetry","ProjectGroup","ProseA","ProseCode","ProsePre","ProseTable","Quote","ResourceList","Tab","Timeline","Tip","VideoEmbed"],at=Object.freeze(Object.defineProperty({__proto__:null,Alert:je,Badge:Se,Blur:xe,CardList:we,Chat:Be,Copy:He,EmojiClock:Fe,EquipmentCard:Me,Folding:$e,Galgame:ke,GameCard:qe,InfoCard:Ne,Key:Ge,LinkBanner:Ue,LinkCard:Ke,MusicPlayer:ze,MusicScore:We,Pic:Qe,Poetry:Je,ProjectGroup:Xe,ProseA:Ze,ProseCode:Ye,ProsePre:et,ProseTable:tt,Quote:rt,ResourceList:ot,Tab:nt,Timeline:st,Tip:it,VideoEmbed:ut,globalComponents:W,localComponents:Q},Symbol.toStringTag,{value:"Module"})),pt={__name:"ContentRenderer",props:{value:{type:Object,required:!0},excerpt:{type:Boolean,default:!1},tag:{type:String,default:"div"},components:{type:Object,default:()=>({})},data:{type:Object,default:()=>({})},prose:{type:Boolean,default:void 0},class:{type:[String,Object],default:void 0},unwrap:{type:[Boolean,String],default:!1}},setup(e){const r=["render","ssrRender","__ssrInlineRender"],t=e,o=import.meta.preview,n=b(()=>{let s=t.value.body||t.value;return t.excerpt&&t.value.excerpt&&(s=t.value.excerpt),s.type==="minimal"||s.type==="minimark"?ce({value:s.value}):s}),i=b(()=>!n.value?.children?.length),m=b(()=>{const{body:s,excerpt:d,...f}=t.value;return{...f,...t.data}}),c=Object.fromEntries(["p","a","blockquote","code","pre","code","em","h1","h2","h3","h4","h5","h6","hr","img","ul","ol","li","strong","table","thead","tbody","td","th","tr","script"].map(s=>[s,`prose-${s}`])),{mdc:l}=oe().public||{},u=b(()=>t.data.mdc),a=b(()=>({...l?.components?.prose&&t.prose!==!1?c:{},...l?.components?.map||{},...B(u.value?.components||{}),...t.components})),_=b(()=>n.value?y(n.value,{tags:a.value}):{});function g(s){let d=s;if(typeof s=="string"){if(V.includes(s))return s;if(W.includes(E(s))?d=H(s,!1):Q.includes(E(s))&&(d=L(()=>p(()=>Promise.resolve().then(()=>at),void 0,import.meta.url).then(P=>{const h=P[E(s)];return h?h():void 0}))),typeof d=="string")return d}if(!d)return d;const f=d;return"__asyncLoader"in f?f:"setup"in f?L(()=>Promise.resolve(f)):f}function y(s,d){if(!s)return;const f=Array.from(new Set(T(s,d))),v={};for(const[P,h]of f)if(!v[P]){if(typeof h=="object"&&r.some(J=>Object.hasOwnProperty.call(h,J))){v[P]=h;continue}v[P]=g(h)}return v}function T(s,d){const f=s.tag;if(s.type==="text"||f==="binding"||s.type==="comment")return[];const v=D(s,d.tags),P=[];s.type!=="root"&&!V.includes(v)&&P.push([f,v]);for(const h of s.children||[])P.push(...T(h,d));return P}function D(s,d){const f=s.tag;return!f||typeof s.props?.__ignoreMap<"u"?f:d[f]||d[E(f)]||d[F(s.tag)]||f}return(s,d)=>i.value?se(s.$slots,"empty",{key:1,body:n.value,data:m.value,dataContentId:w(o)?e.value.id:void 0}):(ie(),ne(Ie,{key:0,body:n.value,data:m.value,class:ue(t.class),tag:t.tag,prose:t.prose,unwrap:t.unwrap,components:_.value,"data-content-id":w(o)?e.value.id:void 0},null,8,["body","data","class","tag","prose","unwrap","components","data-content-id"]))}},dt=Object.assign(pt,{__name:"ContentRenderer"});export{dt as _};
