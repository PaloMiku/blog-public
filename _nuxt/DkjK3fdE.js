import{T as v,P as I,Q as N,r as L,_ as G}from"./Cgaz_NWi.js";import V from"./-fyqsvB3.js";import{r as x,J as C,Q as u,aO as d,b6 as o,aR as F,b8 as T,aQ as B,br as R,K as c,l as U,a$ as $,b9 as w,aV as A,aW as S,b5 as b,x as f,N as E,a_ as y,aS as g,aU as h,T as z}from"./C30-xQm5.js";import"./D-deoX8n.js";function W(){let t="#ff1a8c";if(typeof window<"u"){const r=localStorage.getItem("themeColor");r&&(r.startsWith("custom:")?t=r.slice(7):r in v&&(t=v[r].hex))}const n=x(t),s=x("");function l(){const r=n.value.trim();N(r)?s.value="":s.value="无效的十六进制颜色值，格式应为 #RRGGBB"}function e(r){const a=v[r].hex;n.value=a,I(r),s.value=""}function i(){n.value="#ff1a8c",s.value="",I("pink")}return{customHexColor:n,hexInputError:s,handleColorChange:l,applyPresetColor:e,reset:i,THEME_COLORS:v}}const j={class:"color-customize-item"},H={class:"color-input-group"},M={key:0,class:"error-message"},K={class:"preset-colors"},Q=["title","onClick"],D=C({__name:"ColorCustomize",setup(t){const{customHexColor:n,hexInputError:s,handleColorChange:l,applyPresetColor:e}=W();return(i,r)=>(d(),u("div",j,[r[3]||(r[3]=o("div",{class:"item-header"},[o("label",{class:"customize-label"},"主题色"),o("span",{class:"customize-description"},[T("自定义主题的主要色调，可在 "),o("a",{href:"https://htmlcolorcodes.com/zh/",target:"_blank",rel:"noopener noreferrer"},"HTML颜色代码"),T(" 获取颜色代码")])],-1)),o("div",H,[B(o("input",{"onUpdate:modelValue":r[0]||(r[0]=a=>U(n)?n.value=a:null),type:"text",class:"hex-input",placeholder:"#ff1a8c",onInput:r[1]||(r[1]=(...a)=>c(l)&&c(l)(...a)),onBlur:r[2]||(r[2]=(...a)=>c(l)&&c(l)(...a))},null,544),[[R,c(n)]]),o("div",{class:"color-preview",style:$({backgroundColor:c(n)})},null,4)]),c(s)?(d(),u("div",M,w(c(s)),1)):F("",!0),o("div",K,[(d(!0),u(A,null,S(c(v),(a,m)=>(d(),u("button",{key:m,class:"preset-color-btn",style:$({backgroundColor:a.hex}),title:a.label,onClick:p=>c(e)(m)},null,12,Q))),128))])]))}}),X=Object.assign(b(D,[["__scopeId","data-v-8a45a927"]]),{__name:"PopoverThemeCustomizerColorCustomize"}),O=[{key:"AIExcerpt",label:"显示智能摘要",description:"在文章正文上方显示 AI 生成的摘要"},{key:"FeaturedArticles",label:"显示精选文章",description:"在首页展示精选文章轮播 (Slide)"},{key:"Comments",label:"显示评论区",description:"在文章下方展示评论区，关闭则全站评论区不可见"},{key:"LyricProgress",label:"歌词播放进度",description:"在音乐播放器中显示歌词的播放进度条 (实验功能)"}];function J(t){const n=f({get:()=>t.showAIExcerpt,set:a=>{a!==t.showAIExcerpt&&t.toggleAIExcerpt()}}),s=f({get:()=>t.showFeaturedArticles,set:a=>{a!==t.showFeaturedArticles&&t.toggleFeaturedArticles()}}),l=f({get:()=>t.showComments,set:a=>{a!==t.showComments&&t.toggleComments()}}),e=f({get:()=>t.showLyricProgress,set:a=>{a!==t.showLyricProgress&&t.toggleLyricProgress()}});function i(a){switch(a){case"AIExcerpt":return n.value;case"FeaturedArticles":return s.value;case"Comments":return l.value;case"LyricProgress":return e.value;default:return!1}}function r(a){switch(a){case"AIExcerpt":n.value=!n.value;break;case"FeaturedArticles":s.value=!s.value;break;case"Comments":l.value=!l.value;break;case"LyricProgress":e.value=!e.value;break}}return{showAIExcerpt:n,showFeaturedArticles:s,showComments:l,showLyricProgress:e,getFeatureState:i,toggleFeature:r,FEATURE_TOGGLES:O}}const q={class:"feature-toggles"},Y=["checked","onChange"],Z={class:"toggle-content"},ee={class:"toggle-label"},te={class:"toggle-description"},se=C({__name:"FeatureToggles",setup(t){const n=L(),{showAIExcerpt:s,showFeaturedArticles:l,showComments:e,showLyricProgress:i}=J(n);function r(m){switch(m){case"AIExcerpt":return s.value;case"FeaturedArticles":return l.value;case"Comments":return e.value;case"LyricProgress":return i.value;default:return!1}}function a(m){switch(m){case"AIExcerpt":s.value=!s.value;break;case"FeaturedArticles":l.value=!l.value;break;case"Comments":e.value=!e.value;break;case"LyricProgress":i.value=!i.value;break}}return(m,p)=>(d(),u("div",q,[(d(!0),u(A,null,S(c(O),_=>(d(),u("label",{key:_.key,class:"toggle-switch"},[o("input",{type:"checkbox",checked:r(_.key),onChange:be=>a(_.key)},null,40,Y),p[0]||(p[0]=o("span",{class:"toggle-slider"},null,-1)),o("div",Z,[o("span",ee,w(_.label),1),o("span",te,w(_.description),1)])]))),128))]))}}),oe=Object.assign(b(se,[["__scopeId","data-v-0d4462ce"]]),{__name:"PopoverThemeCustomizerFeatureToggles"}),k={wenkai:'"LXGW WenKai Screen", "Inter", "Noto Sans SC-Local", "Noto Sans SC", system-ui, sans-serif',system:'system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans SC", sans-serif'};function ne(){const t=x("system");function n(e){t.value=e;const i=k[e];document.documentElement.style.setProperty("--font-basic",i),localStorage.setItem("fontPreference",e)}function s(){try{const e=localStorage.getItem("fontPreference");e&&e in k&&(t.value=e,n(e))}catch{}}function l(){t.value="system",n("system")}return{selectedFont:t,applyFont:n,restoreFont:s,reset:l,FONT_VALUES:k}}const ae={class:"font-select-item"},le={class:"font-button-group"},re=C({__name:"FontSelect",setup(t){const{selectedFont:n,applyFont:s,restoreFont:l}=ne();return E(()=>{l()}),(e,i)=>(d(),u("div",ae,[i[2]||(i[2]=o("div",{class:"item-header"},[o("label",{class:"font-select-label"},"字体"),o("span",{class:"font-description"},"选择博客的显示字体，选择系统字体则优先使用系统本地安装的字体")],-1)),o("div",le,[o("button",{class:y(["font-toggle-btn",{active:c(n)==="wenkai"}]),onClick:i[0]||(i[0]=r=>c(s)("wenkai"))}," LXGW WenKai ",2),o("button",{class:y(["font-toggle-btn",{active:c(n)==="system"}]),onClick:i[1]||(i[1]=r=>c(s)("system"))}," 系统字体 ",2)])]))}}),ie=Object.assign(b(re,[["__scopeId","data-v-3505136a"]]),{__name:"PopoverThemeCustomizerFontSelect"}),P={simplified:"简体中文",traditional:"繁体中文"};function ce(t){const n=f({get:()=>t.language,set:l=>{l!==t.language&&t.toggleLanguage()}});function s(l){return P[l]}return{language:n,getLanguageLabel:s,LANGUAGE_OPTIONS:P}}const ue={class:"language-select-item"},de={class:"language-button-group"},me=C({__name:"LanguageSelect",setup(t){const n=L(),{language:s}=ce(n);return(l,e)=>(d(),u("div",ue,[e[2]||(e[2]=o("div",{class:"item-header"},[o("label",{class:"language-select-label"},"语言"),o("span",{class:"language-description"},"切换网站的语言版本，支持简体中文和繁体中文")],-1)),o("div",de,[o("button",{class:y(["language-toggle-btn",{active:c(s)==="simplified"}]),onClick:e[0]||(e[0]=i=>s.value="simplified")}," 简体中文 ",2),o("button",{class:y(["language-toggle-btn",{active:c(s)==="traditional"}]),onClick:e[1]||(e[1]=i=>s.value="traditional")}," 繁体中文 ",2)])]))}}),ge=Object.assign(b(me,[["__scopeId","data-v-22a62887"]]),{__name:"PopoverThemeCustomizerLanguageSelect"}),pe={key:0,id:"z-theme-customizer"},_e={class:"customizer-header"},ve={class:"customizer-section"},fe={class:"customizer-section"},Ce=C({__name:"ThemeCustomizer",props:{show:{type:Boolean},duration:{},onClose:{type:Function}},emits:["close"],setup(t,{emit:n}){const s=t,l=n,e=L();E(()=>{e.initAIExcerptSetting(),e.initFeaturedArticlesSetting(),e.initCommentsSetting(),e.initLanguageSetting(),e.initLyricProgressSetting()});function i(){s.onClose?.()||l("close")}return(r,a)=>{const m=G,p=V;return d(),u(A,null,[g(z,{name:"float-in"},{default:h(()=>[t.show?(d(),u("div",{key:0,id:"z-theme-customizer-bgmask",onClick:i})):F("",!0)]),_:1}),g(z,{name:"float-in"},{default:h(()=>[t.show?(d(),u("div",pe,[o("div",_e,[a[0]||(a[0]=o("h2",null,"中控台",-1)),a[1]||(a[1]=o("p",null,"在这里个性化站点",-1)),o("button",{class:"close-btn","aria-label":"关闭",onClick:i},[g(m,{name:"ph:x-bold"})])]),g(p,{tabs:["显示","功能"],border:""},{tab1:h(()=>[o("div",ve,[g(X),g(ie),g(ge)])]),tab2:h(()=>[o("div",fe,[g(oe)])]),_:1})])):F("",!0)]),_:1})],64)}}}),Fe=Object.assign(b(Ce,[["__scopeId","data-v-7248ac08"]]),{__name:"PopoverThemeCustomizer"});export{Fe as default};
