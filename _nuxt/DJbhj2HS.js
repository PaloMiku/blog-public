import{z as w,G as l,ak as f,r as v,o as k,d as a,e as r,L as o,O as u,bi as z,_}from"./DHv0OwSm.js";const $=["poster","src"],g=["src"],x=w({__name:"VideoEmbed",props:{type:{default:"raw"},id:{},autoplay:{type:Boolean},ratio:{},poster:{},width:{},height:{default:"80vh"},zoom:{}},setup(t){const e=t,p=l(()=>{if(e.ratio)return e.ratio;switch(e.type){case"raw":return;case"douyin":return"27 / 56";case"douyin-wide":return"1198 / 731";default:return"16 / 9"}}),s=l(()=>{switch(e.type){case"bilibili":return`https://player.bilibili.com/player.html?bvid=${e.id}&autoplay=${e.autoplay}`;case"bilibili-nano":return`https://www.bilibili.com/blackboard/newplayer.html?bvid=${e.id}&autoplay=${e.autoplay}`;case"youtube":return`https://www.youtube.com/embed/${e.id}?rel=0&disablekb=1&playsinline=1&autoplay=${e.autoplay}`;case"douyin":return`https://open.douyin.com/player/video?vid=${e.id}`;case"douyin-wide":return`https://open.douyin.com/player/video?vid=${e.id}`;case"tiktok":return`https://www.tiktok.com/embed/v3/${e.id}`;default:return e.id}}),y=f("video-player"),n=v(),c={douyin:.0031,"douyin-wide":.00134};function m(d){z(y,([i])=>{if(!i)return;const{width:b}=i.contentRect,h=c[d];n.value=b*h})}return k(()=>{e.type in c&&m(e.type)}),(d,i)=>(r(),a("div",{ref:"video-player",class:"video",style:u({aspectRatio:o(p),maxWidth:t.width,maxHeight:t.height})},[t.type==="raw"?(r(),a("video",{key:0,poster:t.poster,src:o(s),controls:""},null,8,$)):(r(),a("iframe",{key:1,src:o(s),style:u({zoom:o(n)}),scrolling:"no",loading:"lazy",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; fullscreen; gyroscope; picture-in-picture"},null,12,g))],4))}}),F=Object.assign(_(x,[["__scopeId","data-v-aaa532c7"]]),{__name:"VideoEmbed"});export{F as default};
