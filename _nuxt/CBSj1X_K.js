import{y as k,x as J,p as Q,z as _,A as q,B as F,C,D as Y,E as ee,G as te,H as se,d as m,e as g,h as e,g as d,I as b,J as u,_ as $,K as L,r as x,L as V,M as oe,f as S,N as T,O as B,P as ne,Q as N,t as E,F as P,R as U,S as O,o as H,n as A,U as le,V as ae,T as z,w as M,W as R}from"./BwfZDcNc.js";import{_ as ie}from"./BDn3f9PU.js";import{d as ce}from"./C2BckFM1.js";import ue from"./Dfwhgvpv.js";const re={class:"build-info"},de={class:"info-section info-section--theme"},pe={class:"section-title"},me={class:"info-section"},ge={class:"section-title"},ve={class:"info-section"},_e={class:"section-title"},he={class:"info-section"},be={class:"section-title"},fe={class:"info-section"},Ce={class:"section-title"},ye=k({__name:"BuildInfo",setup(a){const o=J(),{public:{arch:n,ci:l,gitHash:s,nodeVersion:c,platform:t}}=Q(),p=s,h=_(()=>{const w=q[l];if(!w)return"";const v=w.startsWith("http")?F("img",{src:w,alt:""}):F(C,{name:w});return F("span",{},[v,` ${l.split(" ")[0]}`])}),r=Object.assign({},...Object.values(ce.catalogs)),[i,y]=Y.split("@"),f=_(()=>[...l?[{label:"构建平台",value:h.value,icon:"ph:rocket-launch-bold"}]:[],{label:"图片存储",value:()=>[F(C,{name:"devicon:cloudflare"})," Cloudflare R2"],icon:"ph:cloud-fill"},{label:"文章许可",value:o.copyright.abbr,icon:"ph:copyright-bold"},{label:"规范域名",value:ee(o.url),icon:"ph:globe-bold"}]),D=_(()=>[{label:"Modify",value:te,icon:"ph:git-commit-bold"},{label:"Hash",value:p,icon:"ph:hash-bold"}]),K=_(()=>[{label:"Vue",value:r.vue,icon:"simple-icons:vuedotjs"},{label:"Nuxt",value:r.nuxt,icon:"simple-icons:nuxt"},{label:"Content",value:r["@nuxt/content"],icon:"ph:book-bold"}]),Z=_(()=>[{label:"Node",value:c,icon:"la:node-js"},{label:i,value:y,icon:"simple-icons:pnpm"},{label:"OS",value:t,icon:"ph:desktop-bold"},{label:"Arch",value:n,icon:"ph:cpu-bold"}]),X=_(()=>[{label:"博客主题",value:"Clarity",icon:"simple-icons:nuxtdotjs"},{label:"站点版本",value:se,icon:"ph:tag-bold"},{label:"Github 仓库",value:()=>F("a",{href:"https://github.com/L33Z22L11/blog-v3",target:"_blank",rel:"noopener noreferrer"},"L33Z22L11/blog-v3"),icon:"ph:github-logo-bold"},{label:"软件协议",value:"MIT License",icon:"ph:scales-bold"}]);return(w,v)=>{const I=ie;return g(),m("div",re,[e("div",de,[e("h3",pe,[d(u(C),{name:"lucide:info",class:"section-icon"}),v[0]||(v[0]=b(" 主题信息 ",-1))]),d(I,{items:X.value},null,8,["items"])]),e("div",me,[e("h3",ge,[d(u(C),{name:"ph:globe-fill",class:"section-icon"}),v[1]||(v[1]=b(" 服务信息 ",-1))]),d(I,{items:f.value},null,8,["items"])]),e("div",ve,[e("h3",_e,[d(u(C),{name:"ph:bookmark-fill",class:"section-icon"}),v[2]||(v[2]=b(" 仓库信息 ",-1))]),d(I,{size:"small",items:D.value},null,8,["items"])]),e("div",he,[e("h3",be,[d(u(C),{name:"ph:stack-fill",class:"section-icon"}),v[3]||(v[3]=b(" 技术栈 ",-1))]),d(I,{size:"small",items:K.value},null,8,["items"])]),e("div",fe,[e("h3",Ce,[d(u(C),{name:"ph:cpu-fill",class:"section-icon"}),v[4]||(v[4]=b(" 构建信息 ",-1))]),d(I,{size:"small",items:Z.value},null,8,["items"])])])}}}),ke=Object.assign($(ye,[["__scopeId","data-v-e5ba022c"]]),{__name:"PopoverThemeCustomizerBuildInfo"});function $e(){let a="#ff1a8c";if(typeof window<"u"){const t=localStorage.getItem("themeColor");t&&(t.startsWith("custom:")?a=t.slice(7):t in L&&(a=L[t].hex))}const o=x(a),n=x("");function l(){const t=o.value.trim();oe(t)?n.value="":n.value="无效的十六进制颜色值，格式应为 #RRGGBB"}function s(t){const p=L[t].hex;o.value=p,V(t),n.value=""}function c(){o.value="#ff1a8c",n.value="",V("pink")}return{customHexColor:o,hexInputError:n,handleColorChange:l,applyPresetColor:s,reset:c,THEME_COLORS:L}}const xe={class:"color-customize-item"},we={class:"color-input-group"},Ie={key:0,class:"error-message"},Fe={class:"preset-colors"},Le=["title","onClick"],Se=k({__name:"ColorCustomize",setup(a){const{customHexColor:o,hexInputError:n,handleColorChange:l,applyPresetColor:s}=$e();return(c,t)=>(g(),m("div",xe,[t[3]||(t[3]=e("div",{class:"item-header"},[e("label",{class:"customize-label"},"主题色"),e("span",{class:"customize-description"},[b("自定义主题的主要色调，可在 "),e("a",{href:"https://htmlcolorcodes.com/zh/",target:"_blank",rel:"noopener noreferrer"},"HTML颜色代码"),b(" 获取颜色代码")])],-1)),e("div",we,[T(e("input",{"onUpdate:modelValue":t[0]||(t[0]=p=>ne(o)?o.value=p:null),type:"text",class:"hex-input",placeholder:"#ff1a8c",onInput:t[1]||(t[1]=(...p)=>u(l)&&u(l)(...p)),onBlur:t[2]||(t[2]=(...p)=>u(l)&&u(l)(...p))},null,544),[[B,u(o)]]),e("div",{class:"color-preview",style:N({backgroundColor:u(o)})},null,4)]),u(n)?(g(),m("div",Ie,E(u(n)),1)):S("",!0),e("div",Fe,[(g(!0),m(P,null,U(u(L),(p,h)=>(g(),m("button",{key:h,class:"preset-color-btn",style:N({backgroundColor:p.hex}),title:p.label,onClick:r=>u(s)(h)},null,12,Le))),128))])]))}}),Ae=Object.assign($(Se,[["__scopeId","data-v-8a45a927"]]),{__name:"PopoverThemeCustomizerColorCustomize"}),W=[{key:"AIExcerpt",label:"显示智能摘要",description:"在文章正文上方显示 AI 生成的摘要"},{key:"FeaturedArticles",label:"显示精选文章",description:"在首页展示精选文章轮播 (Slide)"},{key:"Comments",label:"显示评论区",description:"在文章下方展示评论区，关闭则全站评论区不可见"}];function Te(a){const o=_({get:()=>a.showAIExcerpt,set:t=>{t!==a.showAIExcerpt&&a.toggleAIExcerpt()}}),n=_({get:()=>a.showFeaturedArticles,set:t=>{t!==a.showFeaturedArticles&&a.toggleFeaturedArticles()}}),l=_({get:()=>a.showComments,set:t=>{t!==a.showComments&&a.toggleComments()}});function s(t){switch(t){case"AIExcerpt":return o.value;case"FeaturedArticles":return n.value;case"Comments":return l.value;default:return!1}}function c(t){switch(t){case"AIExcerpt":o.value=!o.value;break;case"FeaturedArticles":n.value=!n.value;break;case"Comments":l.value=!l.value;break}}return{showAIExcerpt:o,showFeaturedArticles:n,showComments:l,getFeatureState:s,toggleFeature:c,FEATURE_TOGGLES:W}}const ze={class:"feature-toggles"},Me=["checked","onChange"],Ee={class:"toggle-content"},Pe={class:"toggle-label"},Oe={class:"toggle-description"},Ge=k({__name:"FeatureToggles",setup(a){const o=O(),{showAIExcerpt:n,showFeaturedArticles:l,showComments:s}=Te(o);function c(p){switch(p){case"AIExcerpt":return n.value;case"FeaturedArticles":return l.value;case"Comments":return s.value;default:return!1}}function t(p){switch(p){case"AIExcerpt":n.value=!n.value;break;case"FeaturedArticles":l.value=!l.value;break;case"Comments":s.value=!s.value;break}}return(p,h)=>(g(),m("div",ze,[(g(!0),m(P,null,U(u(W),r=>(g(),m("label",{key:r.key,class:"toggle-switch"},[e("input",{type:"checkbox",checked:c(r.key),onChange:i=>t(r.key)},null,40,Me),h[0]||(h[0]=e("span",{class:"toggle-slider"},null,-1)),e("div",Ee,[e("span",Pe,E(r.label),1),e("span",Oe,E(r.description),1)])]))),128))]))}}),Ue=Object.assign($(Ge,[["__scopeId","data-v-4265c807"]]),{__name:"PopoverThemeCustomizerFeatureToggles"}),G={wenkai:'"LXGW WenKai Screen", "Inter", "Noto Sans SC-Local", "Noto Sans SC", system-ui, sans-serif',system:'system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans SC", sans-serif'};function Ve(){const a=x("system");function o(s){a.value=s;const c=G[s];document.documentElement.style.setProperty("--font-basic",c),localStorage.setItem("fontPreference",s)}function n(){try{const s=localStorage.getItem("fontPreference");s&&s in G&&(a.value=s,o(s))}catch{}}function l(){a.value="system",o("system")}return{selectedFont:a,applyFont:o,restoreFont:n,reset:l,FONT_VALUES:G}}const Ne={class:"font-select-item"},Re={class:"font-button-group"},je=k({__name:"FontSelect",setup(a){const{selectedFont:o,applyFont:n,restoreFont:l}=Ve();return H(()=>{l()}),(s,c)=>(g(),m("div",Ne,[c[2]||(c[2]=e("div",{class:"item-header"},[e("label",{class:"font-select-label"},"字体"),e("span",{class:"font-description"},"选择博客的显示字体，选择系统字体则优先使用系统本地安装的字体")],-1)),e("div",Re,[e("button",{class:A(["font-toggle-btn",{active:u(o)==="wenkai"}]),onClick:c[0]||(c[0]=t=>u(n)("wenkai"))}," LXGW WenKai ",2),e("button",{class:A(["font-toggle-btn",{active:u(o)==="system"}]),onClick:c[1]||(c[1]=t=>u(n)("system"))}," 系统字体 ",2)])]))}}),Be=Object.assign($(je,[["__scopeId","data-v-3505136a"]]),{__name:"PopoverThemeCustomizerFontSelect"}),j={simplified:"简体中文",traditional:"繁体中文"};function He(a){const o=_({get:()=>a.language,set:l=>{l!==a.language&&a.toggleLanguage()}});function n(l){return j[l]}return{language:o,getLanguageLabel:n,LANGUAGE_OPTIONS:j}}const We={class:"language-select-item"},De={class:"language-button-group"},Ke=k({__name:"LanguageSelect",setup(a){const o=O(),{language:n}=He(o);return(l,s)=>(g(),m("div",We,[s[2]||(s[2]=e("div",{class:"item-header"},[e("label",{class:"language-select-label"},"语言"),e("span",{class:"language-description"},"切换网站的语言版本，支持简体中文和繁体中文")],-1)),e("div",De,[e("button",{class:A(["language-toggle-btn",{active:u(n)==="simplified"}]),onClick:s[0]||(s[0]=c=>n.value="simplified")}," 简体中文 ",2),e("button",{class:A(["language-toggle-btn",{active:u(n)==="traditional"}]),onClick:s[1]||(s[1]=c=>n.value="traditional")}," 繁体中文 ",2)])]))}}),Ze=Object.assign($(Ke,[["__scopeId","data-v-22a62887"]]),{__name:"PopoverThemeCustomizerLanguageSelect"}),Xe={class:"music-settings"},Je={class:"preview-group"},Qe={class:"preview-container"},qe={class:"url-input-group"},Ye={class:"url-label-row"},et={key:0,class:"url-hint"},tt={class:"settings-group"},st={class:"toggle-switch"},ot={class:"settings-group"},nt={class:"toggle-switch"},lt=k({__name:"MusicSettings",setup(a){const o=O(),n=_({get:()=>o.showMusicLyrics,set:r=>{r!==o.showMusicLyrics&&o.toggleMusicLyrics()}}),l=_({get:()=>o.showGlobalMusicPlayer,set:r=>{r!==o.showGlobalMusicPlayer&&o.toggleGlobalMusicPlayer()}}),s=x("https://music.163.com/#/song?id=760528"),c=x(!1),t=le({id:"",title:"加载预览歌曲...",artist:"网易云音乐",cover:"",url:"",source:"netease"});function p(r){return(r.match(/(?:id=|\/song\/)(\d+)/)||r.match(/^(\d+)$/))?.[1]??null}function h(){const r=p(s.value.trim());if(!r){t.title="无效的歌曲URL",t.artist="请检查URL格式";return}t.id=r,t.url=`https://music.163.com/#/song?id=${r}`,t.title="加载中...",t.artist="网易云音乐"}return h(),ae(s,()=>{h()}),(r,i)=>{const y=ue;return g(),m("div",Xe,[e("div",Je,[i[4]||(i[4]=e("h3",null,"预览",-1)),e("div",Qe,[d(y,{music:t},null,8,["music"])])]),e("div",qe,[e("div",Ye,[i[5]||(i[5]=e("h3",null,"配置预览歌曲",-1)),e("button",{"aria-label":"显示URL格式说明",class:"url-help-btn",onClick:i[0]||(i[0]=f=>c.value=!c.value)}," ? ")]),T(e("input",{"onUpdate:modelValue":i[1]||(i[1]=f=>s.value=f),type:"text",placeholder:"输入网易云音乐URL或歌曲ID",class:"url-input"},null,512),[[B,s.value]]),d(z,{name:"fade"},{default:M(()=>[c.value?(g(),m("p",et,[...i[6]||(i[6]=[b(" 支持的格式：",-1),e("br",null,null,-1),b(" • https://music.163.com/#/song?id=760528",-1),e("br",null,null,-1),b(" • https://music.163.com/song/760528",-1),e("br",null,null,-1),b(" • 760528 ",-1)])])):S("",!0)]),_:1})]),e("div",tt,[i[9]||(i[9]=e("h3",null,"歌词显示设置",-1)),e("label",st,[T(e("input",{"onUpdate:modelValue":i[2]||(i[2]=f=>n.value=f),type:"checkbox"},null,512),[[R,n.value]]),i[7]||(i[7]=e("span",{class:"toggle-slider"},null,-1)),i[8]||(i[8]=e("div",{class:"toggle-content"},[e("span",{class:"toggle-label"},"显示歌词"),e("span",{class:"toggle-description"},"在音乐播放时显示歌词")],-1))])]),e("div",ot,[i[12]||(i[12]=e("h3",null,"播放器设置",-1)),e("label",nt,[T(e("input",{"onUpdate:modelValue":i[3]||(i[3]=f=>l.value=f),type:"checkbox"},null,512),[[R,l.value]]),i[10]||(i[10]=e("span",{class:"toggle-slider"},null,-1)),i[11]||(i[11]=e("div",{class:"toggle-content"},[e("span",{class:"toggle-label"},"显示播放器"),e("span",{class:"toggle-description"},"在侧边栏显示全站音乐播放器")],-1))])])])}}}),at=Object.assign($(lt,[["__scopeId","data-v-8bc1f293"]]),{__name:"PopoverThemeCustomizerMusicSettings"}),it={key:0,id:"z-theme-customizer"},ct={class:"content-area"},ut={key:"global",class:"settings-panel"},rt={class:"panel-content"},dt={key:"features",class:"settings-panel"},pt={class:"panel-content"},mt={key:"music",class:"settings-panel"},gt={class:"panel-content"},vt={key:"about",class:"settings-panel"},_t={class:"panel-content"},ht={class:"customizer-footer"},bt={class:"tab-navigation"},ft=["onClick"],Ct=k({__name:"ThemeCustomizer",props:{show:{type:Boolean},duration:{},onClose:{type:Function}},emits:["close"],setup(a,{emit:o}){const n=a,l=o,s=O(),c=x(1);H(()=>{s.initAIExcerptSetting(),s.initFeaturedArticlesSetting(),s.initCommentsSetting(),s.initLanguageSetting(),s.initMusicLyricsSetting(),s.initGlobalMusicPlayerSetting()});function t(){n.onClose?.()||l("close")}return(p,h)=>{const r=C;return g(),m(P,null,[d(z,{name:"fade-in"},{default:M(()=>[a.show?(g(),m("div",{key:0,id:"z-theme-customizer-bgmask",onClick:t})):S("",!0)]),_:1}),d(z,{name:"slide-right"},{default:M(()=>[a.show?(g(),m("div",it,[e("main",ct,[d(z,{name:"tab-content",mode:"out-in"},{default:M(()=>[u(c)===1?(g(),m("div",ut,[e("div",rt,[d(Ae),d(Be),d(Ze)])])):u(c)===2?(g(),m("div",dt,[e("div",pt,[d(Ue)])])):u(c)===3?(g(),m("div",mt,[e("div",gt,[d(at)])])):u(c)===4?(g(),m("div",vt,[e("div",_t,[d(ke)])])):S("",!0)]),_:1})]),e("footer",ht,[e("nav",bt,[(g(),m(P,null,U(["全局","功能","音乐","关于"],(i,y)=>e("button",{key:y,class:A(["nav-tab",{active:u(c)===y+1}]),onClick:f=>c.value=y+1},E(i),11,ft)),64)),e("button",{class:"close-btn desktop-only","aria-label":"关闭",onClick:t},[d(r,{name:"ph:x-bold"})]),e("button",{class:"console-btn mobile-only","aria-label":"控制台",onClick:t},[d(r,{name:"ph:swatches-bold"})])])])])):S("",!0)]),_:1})],64)}}}),wt=Object.assign($(Ct,[["__scopeId","data-v-0b7c86d2"]]),{__name:"PopoverThemeCustomizer"});export{wt as default};
