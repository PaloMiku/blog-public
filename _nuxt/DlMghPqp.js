import{r as R,_ as W,T as d,P as G,Q as M}from"./uZck9-zS.js";import O from"./CWTPmizn.js";import{J as U,r as _,x as g,N as H,Q as a,aN as i,aR as m,aT as p,aQ as x,T as I,b5 as e,b7 as A,aP as K,bq as Q,a_ as E,b8 as D,aU as F,aV as X,K as j,aZ as v,b4 as q}from"./D6ajeznB.js";import"./D-deoX8n.js";const J={key:0,id:"z-theme-customizer"},Z={class:"customizer-header"},Y={class:"customizer-section"},ee={class:"color-customize-item"},te={class:"color-input-group"},se={key:0,class:"error-message"},oe={class:"preset-colors"},le=["title","onClick"],ne={class:"font-select-item"},ae={class:"font-button-group"},ie={class:"language-select-item"},re={class:"language-button-group"},ce={class:"customizer-section"},ue={class:"feature-toggles"},de={class:"toggle-switch"},ge=["checked"],me={class:"toggle-switch"},pe=["checked"],ve={class:"toggle-switch"},be=["checked"],fe=U({__name:"ThemeCustomizer",props:{show:{type:Boolean},duration:{},onClose:{type:Function}},emits:["close"],setup(b,{emit:L}){const $=b,N=L,y={wenkai:'"LXGW WenKai Screen", "Inter", "Noto Sans SC-Local", "Noto Sans SC", system-ui, sans-serif',system:'system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans SC", sans-serif'},o=R(),n=_("#ff1a8c"),c=_("system"),r=_(""),f=g({get:()=>o.showAIExcerpt,set:s=>{s!==o.showAIExcerpt&&o.toggleAIExcerpt()}}),h=g({get:()=>o.showFeaturedArticles,set:s=>{s!==o.showFeaturedArticles&&o.toggleFeaturedArticles()}}),C=g({get:()=>o.showComments,set:s=>{s!==o.showComments&&o.toggleComments()}}),u=g({get:()=>o.language,set:s=>{s!==o.language&&o.toggleLanguage()}});function S(){const s=n.value.trim();G(s)?r.value="":r.value="无效的十六进制颜色值，格式应为 #RRGGBB"}function B(s){const t=d[s].hex;n.value=t,M(s),r.value=""}function w(s){c.value=s;const t=y[s];document.documentElement.style.setProperty("--font-basic",t),localStorage.setItem("fontPreference",s)}function P(){try{o.initAIExcerptSetting(),o.initFeaturedArticlesSetting(),o.initCommentsSetting(),o.initLanguageSetting();const s=localStorage.getItem("themeColor");if(s)if(s.startsWith("custom:")){const k=s.slice(7);n.value=k}else s in d&&(n.value=d[s].hex);const t=localStorage.getItem("fontPreference");t&&t in y&&(c.value=t)}catch{}}H(()=>{P()});function z(){$.onClose?.()||N("close")}return(s,t)=>{const k=W,V=O;return i(),a(F,null,[m(I,{name:"float-in"},{default:p(()=>[b.show?(i(),a("div",{key:0,id:"z-theme-customizer-bgmask",onClick:z})):x("",!0)]),_:1}),m(I,{name:"float-in"},{default:p(()=>[b.show?(i(),a("div",J,[e("div",Z,[t[8]||(t[8]=e("h2",null,"中控台",-1)),t[9]||(t[9]=e("p",null,"在这里个性化站点",-1)),e("button",{class:"close-btn","aria-label":"关闭",onClick:z},[m(k,{name:"ph:x-bold"})])]),m(V,{tabs:["显示","功能"],border:""},{tab1:p(()=>[e("div",Y,[e("div",ee,[t[10]||(t[10]=e("div",{class:"item-header"},[e("label",{class:"customize-label"},"主题色"),e("span",{class:"customize-description"},[A("自定义主题的主要色调，可在 "),e("a",{href:"https://htmlcolorcodes.com/zh/",target:"_blank",rel:"noopener noreferrer"},"HTML颜色代码"),A(" 获取颜色代码")])],-1)),e("div",te,[K(e("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>n.value=l),type:"text",class:"hex-input",placeholder:"#ff1a8c",onInput:S,onBlur:S},null,544),[[Q,n.value]]),e("div",{class:"color-preview",style:E({backgroundColor:n.value})},null,4)]),r.value?(i(),a("div",se,D(r.value),1)):x("",!0),e("div",oe,[(i(!0),a(F,null,X(j(d),(l,T)=>(i(),a("button",{key:T,class:"preset-color-btn",style:E({backgroundColor:l.hex}),title:l.label,onClick:he=>B(T)},null,12,le))),128))])]),e("div",ne,[t[11]||(t[11]=e("div",{class:"item-header"},[e("label",{class:"font-select-label"},"字体"),e("span",{class:"font-description"},"选择博客的显示字体，选择系统字体则优先使用系统本地安装的字体")],-1)),e("div",ae,[e("button",{class:v(["font-toggle-btn",{active:c.value==="wenkai"}]),onClick:t[1]||(t[1]=l=>w("wenkai"))}," LXGW WenKai ",2),e("button",{class:v(["font-toggle-btn",{active:c.value==="system"}]),onClick:t[2]||(t[2]=l=>w("system"))}," 系统字体 ",2)])]),e("div",ie,[t[12]||(t[12]=e("div",{class:"item-header"},[e("label",{class:"language-select-label"},"语言"),e("span",{class:"language-description"},"切换网站的语言版本，支持简体中文和繁体中文")],-1)),e("div",re,[e("button",{class:v(["language-toggle-btn",{active:u.value==="simplified"}]),onClick:t[3]||(t[3]=l=>u.value="simplified")}," 简体中文 ",2),e("button",{class:v(["language-toggle-btn",{active:u.value==="traditional"}]),onClick:t[4]||(t[4]=l=>u.value="traditional")}," 繁体中文 ",2)])])])]),tab2:p(()=>[e("div",ce,[e("div",ue,[e("label",de,[e("input",{type:"checkbox",checked:f.value,onChange:t[5]||(t[5]=l=>f.value=!f.value)},null,40,ge),t[13]||(t[13]=e("span",{class:"toggle-slider"},null,-1)),t[14]||(t[14]=e("div",{class:"toggle-content"},[e("span",{class:"toggle-label"},"显示智能摘要"),e("span",{class:"toggle-description"},"在文章正文上方显示 AI 生成的摘要")],-1))]),e("label",me,[e("input",{type:"checkbox",checked:h.value,onChange:t[6]||(t[6]=l=>h.value=!h.value)},null,40,pe),t[15]||(t[15]=e("span",{class:"toggle-slider"},null,-1)),t[16]||(t[16]=e("div",{class:"toggle-content"},[e("span",{class:"toggle-label"},"显示精选文章"),e("span",{class:"toggle-description"},"在首页展示精选文章轮播 (Slide)")],-1))]),e("label",ve,[e("input",{type:"checkbox",checked:C.value,onChange:t[7]||(t[7]=l=>C.value=!C.value)},null,40,be),t[17]||(t[17]=e("span",{class:"toggle-slider"},null,-1)),t[18]||(t[18]=e("div",{class:"toggle-content"},[e("span",{class:"toggle-label"},"显示评论区"),e("span",{class:"toggle-description"},"在文章下方展示评论区，关闭则全站评论区不可见")],-1))])])])]),_:1})])):x("",!0)]),_:1})],64)}}}),ye=Object.assign(q(fe,[["__scopeId","data-v-1ce6dc79"]]),{__name:"PopoverThemeCustomizer"});export{ye as default};
