import{c as Q,R as J,_ as y,S as q,m as Y,T as ee,U as te,V as F,W as N,X as se,t as A}from"./v2xUNtTU.js";import oe from"./CDZ-NeiL.js";import{J as x,A as ne,x as b,M as T,Q as g,aO as v,b6 as e,aS as r,b8 as h,K as d,b5 as $,r as M,aR as z,aQ as S,bs as B,l as le,a$ as R,b9 as U,aV as G,aW as H,N as W,a_ as L,g as ae,o as ie,T as V,aU as k,bB as P}from"./DeZJN128.js";import{_ as ce}from"./N3E7skNB.js";import{d as ue}from"./DmrycXRy.js";import re from"./CVChmSxl.js";import"./D-deoX8n.js";const de={class:"build-info"},pe={class:"info-section info-section--theme"},me={class:"section-title"},ge={class:"info-section"},ve={class:"section-title"},be={class:"info-section"},_e={class:"section-title"},fe={class:"info-section"},he={class:"section-title"},Ce={class:"info-section"},ye={class:"section-title"},ke=x({__name:"BuildInfo",setup(i){const t=Q(),{public:{arch:n,ci:a,gitHash:o,nodeVersion:u,platform:s}}=ne(),c=o,f=b(()=>{const w=J[a];if(!w)return"";const _=w.startsWith("http")?T("img",{src:w,alt:""}):T(y,{name:w});return T("span",{},[_,` ${a.split(" ")[0]}`])}),m=Object.assign({},...Object.values(ue.catalogs)),[p,l]=q.split("@"),E=b(()=>[...a?[{label:"构建平台",value:f.value,icon:"ph:rocket-launch-bold"}]:[],{label:"图片存储",value:()=>[T(y,{name:"devicon:cloudflare"})," Cloudflare R2"],icon:"ph:cloud-fill"},{label:"文章许可",value:t.copyright.abbr,icon:"ph:copyright-bold"},{label:"规范域名",value:Y(t.url),icon:"ph:globe-bold"}]),C=b(()=>[{label:"Modify",value:ee,icon:"ph:git-commit-bold"},{label:"Hash",value:c,icon:"ph:hash-bold"}]),K=b(()=>[{label:"Vue",value:m.vue,icon:"simple-icons:vuedotjs"},{label:"Nuxt",value:m.nuxt,icon:"simple-icons:nuxt"},{label:"Content",value:m["@nuxt/content"],icon:"ph:book-bold"}]),X=b(()=>[{label:"Node",value:u,icon:"la:node-js"},{label:p,value:l,icon:"simple-icons:pnpm"},{label:"OS",value:s,icon:"ph:desktop-bold"},{label:"Arch",value:n,icon:"ph:cpu-bold"}]),Z=b(()=>[{label:"博客主题",value:"Clarity",icon:"simple-icons:nuxtdotjs"},{label:"站点版本",value:te,icon:"ph:tag-bold"},{label:"Github 仓库",value:()=>T("a",{href:"https://github.com/L33Z22L11/blog-v3",target:"_blank",rel:"noopener noreferrer"},"L33Z22L11/blog-v3"),icon:"ph:github-logo-bold"},{label:"软件协议",value:"MIT License",icon:"ph:scales-bold"}]);return(w,_)=>{const I=ce;return v(),g("div",de,[e("div",pe,[e("h3",me,[r(d(y),{name:"lucide:info",class:"section-icon"}),_[0]||(_[0]=h(" 主题信息 ",-1))]),r(I,{items:Z.value},null,8,["items"])]),e("div",ge,[e("h3",ve,[r(d(y),{name:"ph:globe-fill",class:"section-icon"}),_[1]||(_[1]=h(" 服务信息 ",-1))]),r(I,{items:E.value},null,8,["items"])]),e("div",be,[e("h3",_e,[r(d(y),{name:"ph:bookmark-fill",class:"section-icon"}),_[2]||(_[2]=h(" 仓库信息 ",-1))]),r(I,{size:"small",items:C.value},null,8,["items"])]),e("div",fe,[e("h3",he,[r(d(y),{name:"ph:stack-fill",class:"section-icon"}),_[3]||(_[3]=h(" 技术栈 ",-1))]),r(I,{size:"small",items:K.value},null,8,["items"])]),e("div",Ce,[e("h3",ye,[r(d(y),{name:"ph:cpu-fill",class:"section-icon"}),_[4]||(_[4]=h(" 构建信息 ",-1))]),r(I,{size:"small",items:X.value},null,8,["items"])])])}}}),xe=Object.assign($(ke,[["__scopeId","data-v-e5ba022c"]]),{__name:"PopoverThemeCustomizerBuildInfo"});function $e(){let i="#ff1a8c";if(typeof window<"u"){const s=localStorage.getItem("themeColor");s&&(s.startsWith("custom:")?i=s.slice(7):s in F&&(i=F[s].hex))}const t=M(i),n=M("");function a(){const s=t.value.trim();se(s)?n.value="":n.value="无效的十六进制颜色值，格式应为 #RRGGBB"}function o(s){const c=F[s].hex;t.value=c,N(s),n.value=""}function u(){t.value="#ff1a8c",n.value="",N("pink")}return{customHexColor:t,hexInputError:n,handleColorChange:a,applyPresetColor:o,reset:u,THEME_COLORS:F}}const we={class:"color-customize-item"},Ie={class:"color-input-group"},Te={key:0,class:"error-message"},Fe={class:"preset-colors"},Se=["title","onClick"],Me=x({__name:"ColorCustomize",setup(i){const{customHexColor:t,hexInputError:n,handleColorChange:a,applyPresetColor:o}=$e();return(u,s)=>(v(),g("div",we,[s[3]||(s[3]=e("div",{class:"item-header"},[e("label",{class:"customize-label"},"主题色"),e("span",{class:"customize-description"},[h("自定义主题的主要色调，可在 "),e("a",{href:"https://htmlcolorcodes.com/zh/",target:"_blank",rel:"noopener noreferrer"},"HTML颜色代码"),h(" 获取颜色代码")])],-1)),e("div",Ie,[S(e("input",{"onUpdate:modelValue":s[0]||(s[0]=c=>le(t)?t.value=c:null),type:"text",class:"hex-input",placeholder:"#ff1a8c",onInput:s[1]||(s[1]=(...c)=>d(a)&&d(a)(...c)),onBlur:s[2]||(s[2]=(...c)=>d(a)&&d(a)(...c))},null,544),[[B,d(t)]]),e("div",{class:"color-preview",style:R({backgroundColor:d(t)})},null,4)]),d(n)?(v(),g("div",Te,U(d(n)),1)):z("",!0),e("div",Fe,[(v(!0),g(G,null,H(d(F),(c,f)=>(v(),g("button",{key:f,class:"preset-color-btn",style:R({backgroundColor:c.hex}),title:c.label,onClick:m=>d(o)(f)},null,12,Se))),128))])]))}}),ze=Object.assign($(Me,[["__scopeId","data-v-8a45a927"]]),{__name:"PopoverThemeCustomizerColorCustomize"}),D=[{key:"AIExcerpt",label:"显示智能摘要",description:"在文章正文上方显示 AI 生成的摘要"},{key:"FeaturedArticles",label:"显示精选文章",description:"在首页展示精选文章轮播 (Slide)"},{key:"Comments",label:"显示评论区",description:"在文章下方展示评论区，关闭则全站评论区不可见"}];function Le(i){const t=b({get:()=>i.showAIExcerpt,set:s=>{s!==i.showAIExcerpt&&i.toggleAIExcerpt()}}),n=b({get:()=>i.showFeaturedArticles,set:s=>{s!==i.showFeaturedArticles&&i.toggleFeaturedArticles()}}),a=b({get:()=>i.showComments,set:s=>{s!==i.showComments&&i.toggleComments()}});function o(s){switch(s){case"AIExcerpt":return t.value;case"FeaturedArticles":return n.value;case"Comments":return a.value;default:return!1}}function u(s){switch(s){case"AIExcerpt":t.value=!t.value;break;case"FeaturedArticles":n.value=!n.value;break;case"Comments":a.value=!a.value;break}}return{showAIExcerpt:t,showFeaturedArticles:n,showComments:a,getFeatureState:o,toggleFeature:u,FEATURE_TOGGLES:D}}const Ae={class:"feature-toggles"},Ee=["checked","onChange"],Pe={class:"toggle-content"},Oe={class:"toggle-label"},Ue={class:"toggle-description"},Ve=x({__name:"FeatureToggles",setup(i){const t=A(),{showAIExcerpt:n,showFeaturedArticles:a,showComments:o}=Le(t);function u(c){switch(c){case"AIExcerpt":return n.value;case"FeaturedArticles":return a.value;case"Comments":return o.value;default:return!1}}function s(c){switch(c){case"AIExcerpt":n.value=!n.value;break;case"FeaturedArticles":a.value=!a.value;break;case"Comments":o.value=!o.value;break}}return(c,f)=>(v(),g("div",Ae,[(v(!0),g(G,null,H(d(D),m=>(v(),g("label",{key:m.key,class:"toggle-switch"},[e("input",{type:"checkbox",checked:u(m.key),onChange:p=>s(m.key)},null,40,Ee),f[0]||(f[0]=e("span",{class:"toggle-slider"},null,-1)),e("div",Pe,[e("span",Oe,U(m.label),1),e("span",Ue,U(m.description),1)])]))),128))]))}}),Ge=Object.assign($(Ve,[["__scopeId","data-v-4265c807"]]),{__name:"PopoverThemeCustomizerFeatureToggles"}),O={wenkai:'"LXGW WenKai Screen", "Inter", "Noto Sans SC-Local", "Noto Sans SC", system-ui, sans-serif',system:'system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans SC", sans-serif'};function Ne(){const i=M("system");function t(o){i.value=o;const u=O[o];document.documentElement.style.setProperty("--font-basic",u),localStorage.setItem("fontPreference",o)}function n(){try{const o=localStorage.getItem("fontPreference");o&&o in O&&(i.value=o,t(o))}catch{}}function a(){i.value="system",t("system")}return{selectedFont:i,applyFont:t,restoreFont:n,reset:a,FONT_VALUES:O}}const Re={class:"font-select-item"},je={class:"font-button-group"},Be=x({__name:"FontSelect",setup(i){const{selectedFont:t,applyFont:n,restoreFont:a}=Ne();return W(()=>{a()}),(o,u)=>(v(),g("div",Re,[u[2]||(u[2]=e("div",{class:"item-header"},[e("label",{class:"font-select-label"},"字体"),e("span",{class:"font-description"},"选择博客的显示字体，选择系统字体则优先使用系统本地安装的字体")],-1)),e("div",je,[e("button",{class:L(["font-toggle-btn",{active:d(t)==="wenkai"}]),onClick:u[0]||(u[0]=s=>d(n)("wenkai"))}," LXGW WenKai ",2),e("button",{class:L(["font-toggle-btn",{active:d(t)==="system"}]),onClick:u[1]||(u[1]=s=>d(n)("system"))}," 系统字体 ",2)])]))}}),He=Object.assign($(Be,[["__scopeId","data-v-3505136a"]]),{__name:"PopoverThemeCustomizerFontSelect"}),j={simplified:"简体中文",traditional:"繁体中文"};function We(i){const t=b({get:()=>i.language,set:a=>{a!==i.language&&i.toggleLanguage()}});function n(a){return j[a]}return{language:t,getLanguageLabel:n,LANGUAGE_OPTIONS:j}}const De={class:"language-select-item"},Ke={class:"language-button-group"},Xe=x({__name:"LanguageSelect",setup(i){const t=A(),{language:n}=We(t);return(a,o)=>(v(),g("div",De,[o[2]||(o[2]=e("div",{class:"item-header"},[e("label",{class:"language-select-label"},"语言"),e("span",{class:"language-description"},"切换网站的语言版本，支持简体中文和繁体中文")],-1)),e("div",Ke,[e("button",{class:L(["language-toggle-btn",{active:d(n)==="simplified"}]),onClick:o[0]||(o[0]=u=>n.value="simplified")}," 简体中文 ",2),e("button",{class:L(["language-toggle-btn",{active:d(n)==="traditional"}]),onClick:o[1]||(o[1]=u=>n.value="traditional")}," 繁体中文 ",2)])]))}}),Ze=Object.assign($(Xe,[["__scopeId","data-v-22a62887"]]),{__name:"PopoverThemeCustomizerLanguageSelect"}),Qe={class:"music-settings"},Je={class:"preview-group"},qe={class:"preview-container"},Ye={class:"url-input-group"},et={class:"url-label-row"},tt={key:0,class:"url-hint"},st={class:"settings-group"},ot={class:"toggle-switch"},nt={class:"toggle-switch"},lt={class:"settings-group"},at={class:"toggle-switch"},it=x({__name:"MusicSettings",setup(i){const t=A(),n=b({get:()=>t.showMusicLyrics,set:p=>{p!==t.showMusicLyrics&&t.toggleMusicLyrics()}}),a=b({get:()=>t.showMusicTranslation,set:p=>{p!==t.showMusicTranslation&&t.toggleMusicTranslation()}}),o=b({get:()=>t.showGlobalMusicPlayer,set:p=>{p!==t.showGlobalMusicPlayer&&t.toggleGlobalMusicPlayer()}}),u=M("https://music.163.com/#/song?id=760528"),s=M(!1),c=ae({id:"",title:"加载预览歌曲...",artist:"网易云音乐",cover:"",url:"",source:"netease"});function f(p){return(p.match(/(?:id=|\/song\/)(\d+)/)||p.match(/^(\d+)$/))?.[1]??null}function m(){const p=f(u.value.trim());if(!p){c.title="无效的歌曲URL",c.artist="请检查URL格式";return}c.id=p,c.url=`https://music.163.com/#/song?id=${p}`,c.title="加载中...",c.artist="网易云音乐"}return m(),ie(u,()=>{m()}),(p,l)=>{const E=re;return v(),g("div",Qe,[e("div",Je,[l[5]||(l[5]=e("h3",null,"预览",-1)),e("div",qe,[r(E,{music:c},null,8,["music"])])]),e("div",Ye,[e("div",et,[l[6]||(l[6]=e("h3",null,"配置预览歌曲",-1)),e("button",{"aria-label":"显示URL格式说明",class:"url-help-btn",onClick:l[0]||(l[0]=C=>s.value=!s.value)}," ? ")]),S(e("input",{"onUpdate:modelValue":l[1]||(l[1]=C=>u.value=C),type:"text",placeholder:"输入网易云音乐URL或歌曲ID",class:"url-input"},null,512),[[B,u.value]]),r(V,{name:"fade"},{default:k(()=>[s.value?(v(),g("p",tt,[...l[7]||(l[7]=[h(" 支持的格式：",-1),e("br",null,null,-1),h(" • https://music.163.com/#/song?id=760528",-1),e("br",null,null,-1),h(" • https://music.163.com/song/760528",-1),e("br",null,null,-1),h(" • 760528 ",-1)])])):z("",!0)]),_:1})]),e("div",st,[l[12]||(l[12]=e("h3",null,"歌词显示设置",-1)),e("label",ot,[S(e("input",{"onUpdate:modelValue":l[2]||(l[2]=C=>n.value=C),type:"checkbox"},null,512),[[P,n.value]]),l[8]||(l[8]=e("span",{class:"toggle-slider"},null,-1)),l[9]||(l[9]=e("div",{class:"toggle-content"},[e("span",{class:"toggle-label"},"显示歌词"),e("span",{class:"toggle-description"},"在音乐播放时显示歌词")],-1))]),e("label",nt,[S(e("input",{"onUpdate:modelValue":l[3]||(l[3]=C=>a.value=C),type:"checkbox"},null,512),[[P,a.value]]),l[10]||(l[10]=e("span",{class:"toggle-slider"},null,-1)),l[11]||(l[11]=e("div",{class:"toggle-content"},[e("span",{class:"toggle-label"},"显示翻译"),e("span",{class:"toggle-description"},"在歌词中显示翻译文本")],-1))])]),e("div",lt,[l[15]||(l[15]=e("h3",null,"播放器设置",-1)),e("label",at,[S(e("input",{"onUpdate:modelValue":l[4]||(l[4]=C=>o.value=C),type:"checkbox"},null,512),[[P,o.value]]),l[13]||(l[13]=e("span",{class:"toggle-slider"},null,-1)),l[14]||(l[14]=e("div",{class:"toggle-content"},[e("span",{class:"toggle-label"},"显示播放器"),e("span",{class:"toggle-description"},"在侧边栏显示全站音乐播放器")],-1))])])])}}}),ct=Object.assign($(it,[["__scopeId","data-v-83c77dbb"]]),{__name:"PopoverThemeCustomizerMusicSettings"}),ut={key:0,id:"z-theme-customizer"},rt={class:"customizer-header"},dt={class:"customizer-section"},pt={class:"customizer-section"},mt={class:"customizer-section"},gt={class:"customizer-section"},vt=x({__name:"ThemeCustomizer",props:{show:{type:Boolean},duration:{},onClose:{type:Function}},emits:["close"],setup(i,{emit:t}){const n=i,a=t,o=A();W(()=>{o.initAIExcerptSetting(),o.initFeaturedArticlesSetting(),o.initCommentsSetting(),o.initLanguageSetting(),o.initMusicLyricsSetting(),o.initMusicTranslationSetting(),o.initGlobalMusicPlayerSetting()});function u(){n.onClose?.()||a("close")}return(s,c)=>{const f=y,m=oe;return v(),g(G,null,[r(V,{name:"float-in"},{default:k(()=>[i.show?(v(),g("div",{key:0,id:"z-theme-customizer-bgmask",onClick:u})):z("",!0)]),_:1}),r(V,{name:"float-in"},{default:k(()=>[i.show?(v(),g("div",ut,[e("div",rt,[c[0]||(c[0]=e("h2",null,"中控台",-1)),c[1]||(c[1]=e("p",null,"在这里个性化站点",-1)),e("button",{class:"close-btn","aria-label":"关闭",onClick:u},[r(f,{name:"ph:x-bold"})])]),r(m,{tabs:["全局","功能","音乐","关于"],border:""},{tab1:k(()=>[e("div",dt,[r(ze),r(He),r(Ze)])]),tab2:k(()=>[e("div",pt,[r(Ge)])]),tab3:k(()=>[e("div",mt,[r(ct)])]),tab4:k(()=>[e("div",gt,[r(xe)])]),_:1})])):z("",!0)]),_:1})],64)}}}),xt=Object.assign($(vt,[["__scopeId","data-v-2fa45dbe"]]),{__name:"PopoverThemeCustomizer"});export{xt as default};
