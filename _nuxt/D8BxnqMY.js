import{a$ as n}from"#entry";const l={offline:"离线",online:"在线",away:"离开",snooze:"打盹",busy:"忙碌",trading:"交易中",playing:"游戏中"},d={offline:"#90a0a6",online:"#4fc951",away:"#ffc72c",snooze:"#ffc72c",busy:"#ff6554",trading:"#6495ed",playing:"#26d07c"},r=n.steam?.apiBase||"https://steam-api-profile-palomiku.netlify.app/api",c=`${r}/steam-user`,i=`${r}/steam-games`,m=`${r}/steam-achievements`;async function s(t){try{const e=await fetch(t,{method:"GET",headers:{Accept:"application/json"},cache:"no-cache"});if(!e.ok)throw new Error(`HTTP ${e.status}: ${e.statusText}`);return await e.json()}catch(e){const a=e instanceof Error?e.message:String(e);return console.error("[Steam] Fetch error:",a),null}}function f(t){return t<1?"< 1 小时":`${Math.round(t)} 小时`}const h=()=>({fetchSteamData:async()=>{try{const[e,a,o]=await Promise.all([s(c),s(i),s(m)]);return!e?.success||!a?.success?{success:!1,error:"Failed to fetch required Steam data",code:"FETCH_ERROR"}:{success:!0,data:{user:e.data?.user,games:a.data?.games,achievements:o?.data?.achievements},allMetadata:{user:e.metadata,games:a.metadata,achievements:o?.metadata}}}catch(e){const a=e instanceof Error?e.message:String(e);return console.error("[Steam] Fetch error:",a),{success:!1,error:`Fetch failed: ${a}`,code:"FETCH_ERROR"}}},formatPlaytime:f});export{l as a,f,d as s,h as u};
