import{y as I,r as l,o as b,a5 as i,e as o,w as d,d as u,f as _,J as t,h as s,g as p,I as f,C as h,bd as N,n as w,a6 as z,t as m,a4 as B,_ as V}from"./DJcbMLob.js";import{_ as G}from"./CqU72epo.js";import{u as L,s as M,a as A}from"./CQ7qEDsi.js";const D={key:0,class:"steam-loading-center"},P={key:1,style:{"text-align":"center",color:"var(--c-text-2)"}},W={class:"user-info"},j={class:"user-row"},E={class:"username"},F=["title"],J=I({__name:"SteamStats",setup(O){const{fetchSteamData:g}=L(),a=l(null),r=l(!0),c=l(!1);function v(e){return M[e]||"#90a0a6"}function S(e){return A[e]||e}return b(async()=>{try{const e=await g();e.success&&e.data?.user?a.value=e.data.user:c.value=!0}catch(e){console.error("Failed to load Steam user info:",e),c.value=!0}finally{r.value=!1}}),(e,n)=>{const x=h,y=z,k=N,C=G;return o(),i(C,{card:"",title:"Steam"},{default:d(()=>[t(r)?(o(),u("div",D,[...n[0]||(n[0]=[s("div",{class:"steam-loading-spinner"},null,-1),s("div",{class:"steam-loading-text"}," Steam API 通讯中... ",-1)])])):t(c)?(o(),u("p",P,[p(x,{name:"ph:warning-circle-bold"}),n[1]||(n[1]=f(" Steam API 连接失败 ",-1))])):t(a)?(o(),i(k,{key:2,to:"/steam",class:w(["steam-card-content",[{loaded:!t(r)}]])},{default:d(()=>[p(y,{src:t(a).avatar.medium,alt:t(a).username,class:"user-avatar",loading:"lazy",sizes:"48px"},null,8,["src","alt"]),s("div",W,[s("div",j,[s("div",E,m(t(a).username),1),s("div",{class:"status-badge",style:B({"--status-color":v(t(a).status)})},[n[2]||(n[2]=s("span",{class:"status-dot"},null,-1)),f(" "+m(S(t(a).status)),1)],4)]),t(a).currentGame?(o(),u("div",{key:0,class:"game-name",title:t(a).currentGame.name}," 正在玩 "+m(t(a).currentGame.name),9,F)):_("",!0)])]),_:1},8,["class"])):_("",!0)]),_:1})}}}),q=Object.assign(V(J,[["__scopeId","data-v-820c3560"]]),{__name:"WidgetSteamStats"});export{q as default};
