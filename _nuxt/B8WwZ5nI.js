import{ao as A,aq as D,ar as Q,as as $,at as k,au as I,Q as l,am as O,N as R,B as q,r as m,c as g}from"#entry";import{u as T}from"./c6kmvzf5.js";import{q as z}from"./DuRnbWep.js";function M(e,t,s){const[o,n]=A(s?.in,e,t);return o.getFullYear()===n.getFullYear()}const N=(e,t)=>e.reduce((s,o)=>{const n=t(o);return s[n]||(s[n]=[]),s[n].push(o),s},{}),j=(e,t,s=!1)=>{if(!e)return[];const o=(a,r)=>t(a)-t(r),n=(a,r)=>t(r)-t(a);return e.slice().sort(s===!0?n:o)},G=(e,t,s="asc")=>{if(!e)return[];const o=(a,r)=>`${t(a)}`.localeCompare(t(r)),n=(a,r)=>`${t(r)}`.localeCompare(t(a));return e.slice().sort(s==="desc"?n:o)};function W(e){return D()?(Q(e),!0):!1}typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const d=new WeakMap;function Y(e,t,s={}){const{mode:o="replace",route:n=$(),router:a=k(),transform:r}=s;let f=c=>c,y=c=>c;typeof r=="function"?f=r:r&&(r.get&&(f=r.get),r.set&&(y=r.set)),d.has(a)||d.set(a,new Map);const p=d.get(a);let i=n.query[e];W(()=>{i=void 0});let h;const S=I((c,C)=>(h=C,{get(){return c(),f(i!==void 0?i:l(t))},set(u){u=y(u),i!==u&&(i=u===l(t)?void 0:u,p.set(e,u===l(t)?void 0:u),C(),O(()=>{if(p.size===0)return;const _=Object.fromEntries(p.entries());p.clear();const{params:b,query:x,hash:w}=n;a[l(o)]({params:b,query:{...x,..._},hash:w})}))}}));return R(()=>n.query[e],c=>{i!==f(c)&&(i=c,h())},{flush:"sync"}),S}function B(e="posts/%"){return T(`index_${e.replaceAll("%","__percent__")}`,()=>z("content").where("stem","LIKE",e).select("categories","date","description","image","path","readingTime","recommend","title","type","updated").all(),{default:()=>[]})}function K(e,t){const{bindQuery:s}=t??{},o=s?Y(s,void 0,{transform:r=>r,mode:"push"}):m(),n=g(()=>[...new Set(l(e).map(r=>r.categories?.[0]))]),a=g(()=>l(e).filter(r=>!o.value||r.categories?.[0]===o.value));return{category:o,categories:n,listCategorized:a}}function L(e){const t=q(),s=m(t.pagination.sortOrder||"date"),o=m(),n=g(()=>G(l(e),a=>a[s.value]||"",o.value?"asc":"desc"));return{sortOrder:s,isAscending:o,listSorted:n}}function P(e){return q().article.categories[e]?.icon??"ph:folder-bold"}function H(e,t={prefix:"text"}){e||(e="tech");const{prefix:s}=t;return`${s}-${e}`}export{B as a,L as b,K as c,P as d,H as e,N as g,M as i,j as s,Y as u};
