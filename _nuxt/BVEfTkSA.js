import{T as _,P as I,Q as P,r as w,_ as N}from"./BcHDEQLf.js";import G from"./smQ6e_jE.js";import{r as x,J as v,Q as u,aO as m,b6 as o,aR as y,b8 as T,aQ as V,br as B,K as c,l as R,a$ as S,b9 as F,aV as A,aW as E,b5 as f,x as b,N as L,a_ as h,aS as p,aU as C,T as $}from"./C30-xQm5.js";import"./D-deoX8n.js";function U(){let n="#ff1a8c";if(typeof window<"u"){const e=localStorage.getItem("themeColor");e&&(e.startsWith("custom:")?n=e.slice(7):e in _&&(n=_[e].hex))}const a=x(n),t=x("");function l(){const e=a.value.trim();P(e)?t.value="":t.value="无效的十六进制颜色值，格式应为 #RRGGBB"}function s(e){const i=_[e].hex;a.value=i,I(e),t.value=""}function r(){a.value="#ff1a8c",t.value="",I("pink")}return{customHexColor:a,hexInputError:t,handleColorChange:l,applyPresetColor:s,reset:r,THEME_COLORS:_}}const W={class:"color-customize-item"},j={class:"color-input-group"},H={key:0,class:"error-message"},M={class:"preset-colors"},K=["title","onClick"],Q=v({__name:"ColorCustomize",setup(n){const{customHexColor:a,hexInputError:t,handleColorChange:l,applyPresetColor:s}=U();return(r,e)=>(m(),u("div",W,[e[3]||(e[3]=o("div",{class:"item-header"},[o("label",{class:"customize-label"},"主题色"),o("span",{class:"customize-description"},[T("自定义主题的主要色调，可在 "),o("a",{href:"https://htmlcolorcodes.com/zh/",target:"_blank",rel:"noopener noreferrer"},"HTML颜色代码"),T(" 获取颜色代码")])],-1)),o("div",j,[V(o("input",{"onUpdate:modelValue":e[0]||(e[0]=i=>R(a)?a.value=i:null),type:"text",class:"hex-input",placeholder:"#ff1a8c",onInput:e[1]||(e[1]=(...i)=>c(l)&&c(l)(...i)),onBlur:e[2]||(e[2]=(...i)=>c(l)&&c(l)(...i))},null,544),[[B,c(a)]]),o("div",{class:"color-preview",style:S({backgroundColor:c(a)})},null,4)]),c(t)?(m(),u("div",H,F(c(t)),1)):y("",!0),o("div",M,[(m(!0),u(A,null,E(c(_),(i,g)=>(m(),u("button",{key:g,class:"preset-color-btn",style:S({backgroundColor:i.hex}),title:i.label,onClick:d=>c(s)(g)},null,12,K))),128))])]))}}),D=Object.assign(f(Q,[["__scopeId","data-v-8a45a927"]]),{__name:"PopoverThemeCustomizerColorCustomize"}),O=[{key:"AIExcerpt",label:"显示智能摘要",description:"在文章正文上方显示 AI 生成的摘要"},{key:"FeaturedArticles",label:"显示精选文章",description:"在首页展示精选文章轮播 (Slide)"},{key:"Comments",label:"显示评论区",description:"在文章下方展示评论区，关闭则全站评论区不可见"}];function X(n){const a=b({get:()=>n.showAIExcerpt,set:e=>{e!==n.showAIExcerpt&&n.toggleAIExcerpt()}}),t=b({get:()=>n.showFeaturedArticles,set:e=>{e!==n.showFeaturedArticles&&n.toggleFeaturedArticles()}}),l=b({get:()=>n.showComments,set:e=>{e!==n.showComments&&n.toggleComments()}});function s(e){switch(e){case"AIExcerpt":return a.value;case"FeaturedArticles":return t.value;case"Comments":return l.value;default:return!1}}function r(e){switch(e){case"AIExcerpt":a.value=!a.value;break;case"FeaturedArticles":t.value=!t.value;break;case"Comments":l.value=!l.value;break}}return{showAIExcerpt:a,showFeaturedArticles:t,showComments:l,getFeatureState:s,toggleFeature:r,FEATURE_TOGGLES:O}}const J={class:"feature-toggles"},q=["checked","onChange"],Y={class:"toggle-content"},Z={class:"toggle-label"},ee={class:"toggle-description"},te=v({__name:"FeatureToggles",setup(n){const a=w(),{showAIExcerpt:t,showFeaturedArticles:l,showComments:s}=X(a);function r(i){switch(i){case"AIExcerpt":return t.value;case"FeaturedArticles":return l.value;case"Comments":return s.value;default:return!1}}function e(i){switch(i){case"AIExcerpt":t.value=!t.value;break;case"FeaturedArticles":l.value=!l.value;break;case"Comments":s.value=!s.value;break}}return(i,g)=>(m(),u("div",J,[(m(!0),u(A,null,E(c(O),d=>(m(),u("label",{key:d.key,class:"toggle-switch"},[o("input",{type:"checkbox",checked:r(d.key),onChange:Ce=>e(d.key)},null,40,q),g[0]||(g[0]=o("span",{class:"toggle-slider"},null,-1)),o("div",Y,[o("span",Z,F(d.label),1),o("span",ee,F(d.description),1)])]))),128))]))}}),se=Object.assign(f(te,[["__scopeId","data-v-4265c807"]]),{__name:"PopoverThemeCustomizerFeatureToggles"}),k={wenkai:'"LXGW WenKai Screen", "Inter", "Noto Sans SC-Local", "Noto Sans SC", system-ui, sans-serif',system:'system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans SC", sans-serif'};function oe(){const n=x("system");function a(s){n.value=s;const r=k[s];document.documentElement.style.setProperty("--font-basic",r),localStorage.setItem("fontPreference",s)}function t(){try{const s=localStorage.getItem("fontPreference");s&&s in k&&(n.value=s,a(s))}catch{}}function l(){n.value="system",a("system")}return{selectedFont:n,applyFont:a,restoreFont:t,reset:l,FONT_VALUES:k}}const ne={class:"font-select-item"},ae={class:"font-button-group"},le=v({__name:"FontSelect",setup(n){const{selectedFont:a,applyFont:t,restoreFont:l}=oe();return L(()=>{l()}),(s,r)=>(m(),u("div",ne,[r[2]||(r[2]=o("div",{class:"item-header"},[o("label",{class:"font-select-label"},"字体"),o("span",{class:"font-description"},"选择博客的显示字体，选择系统字体则优先使用系统本地安装的字体")],-1)),o("div",ae,[o("button",{class:h(["font-toggle-btn",{active:c(a)==="wenkai"}]),onClick:r[0]||(r[0]=e=>c(t)("wenkai"))}," LXGW WenKai ",2),o("button",{class:h(["font-toggle-btn",{active:c(a)==="system"}]),onClick:r[1]||(r[1]=e=>c(t)("system"))}," 系统字体 ",2)])]))}}),re=Object.assign(f(le,[["__scopeId","data-v-3505136a"]]),{__name:"PopoverThemeCustomizerFontSelect"}),z={simplified:"简体中文",traditional:"繁体中文"};function ie(n){const a=b({get:()=>n.language,set:l=>{l!==n.language&&n.toggleLanguage()}});function t(l){return z[l]}return{language:a,getLanguageLabel:t,LANGUAGE_OPTIONS:z}}const ce={class:"language-select-item"},ue={class:"language-button-group"},me=v({__name:"LanguageSelect",setup(n){const a=w(),{language:t}=ie(a);return(l,s)=>(m(),u("div",ce,[s[2]||(s[2]=o("div",{class:"item-header"},[o("label",{class:"language-select-label"},"语言"),o("span",{class:"language-description"},"切换网站的语言版本，支持简体中文和繁体中文")],-1)),o("div",ue,[o("button",{class:h(["language-toggle-btn",{active:c(t)==="simplified"}]),onClick:s[0]||(s[0]=r=>t.value="simplified")}," 简体中文 ",2),o("button",{class:h(["language-toggle-btn",{active:c(t)==="traditional"}]),onClick:s[1]||(s[1]=r=>t.value="traditional")}," 繁体中文 ",2)])]))}}),de=Object.assign(f(me,[["__scopeId","data-v-22a62887"]]),{__name:"PopoverThemeCustomizerLanguageSelect"}),pe={key:0,id:"z-theme-customizer"},ge={class:"customizer-header"},_e={class:"customizer-section"},ve={class:"customizer-section"},fe=v({__name:"ThemeCustomizer",props:{show:{type:Boolean},duration:{},onClose:{type:Function}},emits:["close"],setup(n,{emit:a}){const t=n,l=a,s=w();L(()=>{s.initAIExcerptSetting(),s.initFeaturedArticlesSetting(),s.initCommentsSetting(),s.initLanguageSetting()});function r(){t.onClose?.()||l("close")}return(e,i)=>{const g=N,d=G;return m(),u(A,null,[p($,{name:"float-in"},{default:C(()=>[n.show?(m(),u("div",{key:0,id:"z-theme-customizer-bgmask",onClick:r})):y("",!0)]),_:1}),p($,{name:"float-in"},{default:C(()=>[n.show?(m(),u("div",pe,[o("div",ge,[i[0]||(i[0]=o("h2",null,"中控台",-1)),i[1]||(i[1]=o("p",null,"在这里个性化站点",-1)),o("button",{class:"close-btn","aria-label":"关闭",onClick:r},[p(g,{name:"ph:x-bold"})])]),p(d,{tabs:["显示","功能"],border:""},{tab1:C(()=>[o("div",_e,[p(D),p(re),p(de)])]),tab2:C(()=>[o("div",ve,[p(se)])]),_:1})])):y("",!0)]),_:1})],64)}}}),ye=Object.assign(f(fe,[["__scopeId","data-v-5c61cfcb"]]),{__name:"PopoverThemeCustomizer"});export{ye as default};
