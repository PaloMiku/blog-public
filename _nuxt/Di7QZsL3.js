import{O as w,u as D,k as n,r as _,R as I,Q as x,aN as N,b5 as T,aX as b}from"./_wTXdhU5.js";const B=["datetime","title"],A={__name:"NuxtTime",props:{locale:{type:String,required:!1},datetime:{type:[String,Number,Date],required:!0},localeMatcher:{type:String,required:!1},weekday:{type:String,required:!1},era:{type:String,required:!1},year:{type:String,required:!1},month:{type:String,required:!1},day:{type:String,required:!1},hour:{type:String,required:!1},minute:{type:String,required:!1},second:{type:String,required:!1},timeZoneName:{type:String,required:!1},formatMatcher:{type:String,required:!1},hour12:{type:Boolean,required:!1,default:void 0},timeZone:{type:String,required:!1},calendar:{type:String,required:!1},dayPeriod:{type:String,required:!1},numberingSystem:{type:String,required:!1},dateStyle:{type:String,required:!1},timeStyle:{type:String,required:!1},hourCycle:{type:String,required:!1},relative:{type:Boolean,required:!1},title:{type:[Boolean,String],required:!1}},setup(p){const t=p,s=w()?.vnode.el,o=s?.getAttribute("datetime"),l=s?.getAttribute("data-locale"),u=D(),i=n(()=>{const e=t.datetime;return o&&u.isHydrating?new Date(o):t.datetime?new Date(e):new Date}),d=_(u.isHydrating&&window._nuxtTimeNow?new Date(window._nuxtTimeNow):new Date);if(t.relative){const r=setInterval(()=>{d.value=new Date},1e3);I(()=>clearInterval(r))}const c=n(()=>{const{locale:e,relative:r,...a}=t;return r?new Intl.RelativeTimeFormat(l??e,a):new Intl.DateTimeFormat(l??e,a)}),m=n(()=>{if(!t.relative)return c.value.format(i.value);const e=(i.value.getTime()-d.value.getTime())/1e3,r=[{unit:"second",seconds:1,threshold:60},{unit:"minute",seconds:60,threshold:60},{unit:"hour",seconds:3600,threshold:24},{unit:"day",seconds:86400,threshold:30},{unit:"month",seconds:2592e3,threshold:12},{unit:"year",seconds:31536e3,threshold:1/0}],{unit:a,seconds:S}=r.find(({seconds:q,threshold:v})=>Math.abs(e/q)<v)||r[r.length-1],h=e/S;return c.value.format(Math.round(h),a)}),f=n(()=>i.value.toISOString()),y=n(()=>t.title===!0?f.value:typeof t.title=="string"?t.title:void 0),g={};return(e,r)=>(N(),x("time",b(g,{datetime:f.value,title:y.value}),T(m.value),17,B))}};export{A as _};
