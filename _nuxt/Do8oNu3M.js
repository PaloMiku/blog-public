const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./BO-47gax.js","./BbwJlqf0.js","./CKnNcpbH.js","./DHv0OwSm.js","./entry.ogunzLl3.css","./BiP5h3tO.js"])))=>i.map(i=>d[i]);
import{z as P,G as v,d as g,e as r,Q as T,f as S,g as h,L as t,$ as Y,w as U,h as o,t as p,F as x,N as z,S as E,_ as B,y as R,C as j,A as G,D as W,a6 as H,b as M,ap as Q,M as L,P as w,a4 as q,an as J,a5 as K}from"./DHv0OwSm.js";import{_ as X}from"./DCAkptIU.js";import{_ as Z,i as ee}from"./D7-yd_9Z.js";import{g as $,i as te}from"./hddATWeZ.js";import{a as ae,b as se,g as ie}from"./BbwJlqf0.js";import"./CKnNcpbH.js";import"./BiP5h3tO.js";const ne={class:"article-item"},oe={class:"article-title"},re=P({__name:"Archive",props:{to:{},useUpdated:{type:Boolean},path:{},readingTime:{},title:{},subtitle:{},description:{},link:{},date:{},updated:{},published:{},categories:{},tags:{},type:{},image:{},recommend:{},references:{},meta:{},"hide-info":{type:Boolean}},setup(e){const l=e,c=v(()=>l.useUpdated?l.updated:l.date);return(n,f)=>{const D=Z,b=E,k=Y;return r(),g("li",ne,[t(c)?(r(),T(D,{key:0,datetime:t(c),title:("getLocaleDatetime"in n?n.getLocaleDatetime:t($))(t(c)),month:"2-digit",day:"2-digit"},null,8,["datetime","title"])):S("",!0),h(k,{class:"article-link gradient-card",to:e.to,title:e.description},{default:U(()=>[o("span",oe,p(e.title),1),e.date&&e.useUpdated&&("isTimeDiffSignificant"in n?n.isTimeDiffSignificant:t(te))(e.date,e.updated)?(r(),g(x,{key:0},[f[0]||(f[0]=z("   ",-1)),h(D,{class:"aux-date",datetime:e.date,title:("getLocaleDatetime"in n?n.getLocaleDatetime:t($))(e.date),year:t(ee)(e.date,e.updated??0)?void 0:"numeric",month:"2-digit",day:"2-digit"},null,8,["datetime","title","year"])],64)):S("",!0),e.image?(r(),T(b,{key:1,class:"article-cover",src:e.image,alt:e.title,loading:"lazy"},null,8,["src","alt"])):S("",!0)]),_:1},8,["to","title"])])}}}),le=Object.assign(B(re,[["__scopeId","data-v-9611adae"]]),{__name:"PostArchive"}),de={class:"archive proper-height"},ce={class:"archive-title"},ue={class:"archive-year"},me={class:"archive-age"},ge={class:"archive-info"},pe=P({__name:"archive",async setup(e){let l,c;const n=R();j({title:"归档",meta:[{property:"og:type",content:"website"},{name:"description",content:`${n.title}的所有文章归档，按时间年份分类展示所有已发布的文章。`},{name:"keywords",content:"归档,文章分类,时间线,文章列表"}]});const f=v(()=>n.component.stats.birthYear);G().setAside(["blog-stats","blog-log"]);const{data:b}=([l,c]=W(()=>H("index_posts",()=>M(()=>import("./BO-47gax.js"),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url).then(i=>(i.default||i)()),{default:()=>[]})),l=await l,c(),l),{listSorted:k,isAscending:_,sortOrder:u}=ae(b),{category:A,categories:F,listCategorized:O}=se(k),C=v(()=>{const i=Object.entries(ie(O.value,a=>{try{const d=a[u.value];if(!d)return 0;const m=new Date(d);return Number.isNaN(m.getTime())?0:m.getFullYear()}catch(d){return console.error(`Invalid date: ${a[u.value]}`,d),0}}));return _.value?i:i.reverse()}),I=v(()=>C.value.reduce((i,[a,d])=>{const m=d?.reduce((s,y)=>s+y.readingTime.words,0)||0;return i[a]=Q(m),i},{}));return(i,a)=>{const d=X,m=le;return r(),g("div",de,[h(d,{"is-ascending":t(_),"onUpdate:isAscending":a[0]||(a[0]=s=>L(_)?_.value=s:null),"sort-order":t(u),"onUpdate:sortOrder":a[1]||(a[1]=s=>L(u)?u.value=s:null),category:t(A),"onUpdate:category":a[2]||(a[2]=s=>L(A)?A.value=s:null),categories:t(F)},null,8,["is-ascending","sort-order","category","categories"]),(r(!0),g(x,null,w(t(C),([s,y])=>(r(),g("section",{key:s,class:"archive-group"},[o("div",ce,[o("h2",ue,p(s),1),o("div",me,[o("span",null,p(Number(s)-t(f)),1),a[3]||(a[3]=o("span",{class:"age-label"},"岁",-1))]),o("div",ge,[o("span",null,p(t(I)[s])+"字",1),o("span",null,p(y?.length)+"篇",1)])]),h(K,{tag:"menu",class:"archive-list",name:"float-in"},{default:U(()=>[(r(!0),g(x,null,w(y,(N,V)=>(r(),T(m,q({key:N.path},{ref_for:!0},N,{to:N.path,"use-updated":t(u)==="updated",style:("getFixedDelay"in i?i.getFixedDelay:t(J))(V*.03)}),null,16,["to","use-updated","style"]))),128))]),_:2},1024)]))),128))])}}}),ke=B(pe,[["__scopeId","data-v-a1a137a2"]]);export{ke as default};
