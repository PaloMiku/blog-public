import{c as K,P as Q,_ as f,Q as Z,l as X,R as J,S as q,T as $,U as O,V as Y,r as P}from"./CdbcRHTc.js";import ee from"./3gZno5N1.js";import{J as C,A as te,x as v,M as I,Q as d,aO as m,b6 as e,aS as u,b8 as h,K as r,b5 as y,r as A,aR as z,aQ as se,br as oe,l as ne,a$ as N,b9 as T,aV as S,aW as B,N as G,a_ as w,aU as F,T as V}from"./C30-xQm5.js";import{_ as ae}from"./-lU-BpCE.js";import{d as le}from"./c6qFouj3.js";import"./D-deoX8n.js";const ie={class:"build-info"},ce={class:"info-section info-section--theme"},re={class:"section-title"},ue={class:"info-section"},de={class:"section-title"},me={class:"info-section"},pe={class:"section-title"},ge={class:"info-section"},ve={class:"section-title"},_e={class:"info-section"},fe={class:"section-title"},be=C({__name:"BuildInfo",setup(s){const n=K(),{public:{arch:o,ci:l,gitHash:t,nodeVersion:c,platform:i}}=te(),a=t,g=v(()=>{const k=Q[l];if(!k)return"";const p=k.startsWith("http")?I("img",{src:k,alt:""}):I(f,{name:k});return I("span",{},[p,` ${l.split(" ")[0]}`])}),_=Object.assign({},...Object.values(le.catalogs)),[b,E]=Z.split("@"),H=v(()=>[...l?[{label:"构建平台",value:g.value,icon:"ph:rocket-launch-bold"}]:[],{label:"图片存储",value:()=>[I(f,{name:"devicon:cloudflare"})," Cloudflare R2"],icon:"ph:cloud-fill"},{label:"文章许可",value:n.copyright.abbr,icon:"ph:copyright-bold"},{label:"规范域名",value:X(n.url),icon:"ph:globe-bold"}]),M=v(()=>[{label:"Modify",value:J,icon:"ph:git-commit-bold"},{label:"Hash",value:a,icon:"ph:hash-bold"}]),U=v(()=>[{label:"Vue",value:_.vue,icon:"simple-icons:vuedotjs"},{label:"Nuxt",value:_.nuxt,icon:"simple-icons:nuxt"},{label:"Content",value:_["@nuxt/content"],icon:"ph:book-bold"}]),W=v(()=>[{label:"Node",value:c,icon:"la:node-js"},{label:b,value:E,icon:"simple-icons:pnpm"},{label:"OS",value:i,icon:"ph:desktop-bold"},{label:"Arch",value:o,icon:"ph:cpu-bold"}]),D=v(()=>[{label:"博客主题",value:"Clarity",icon:"simple-icons:nuxtdotjs"},{label:"站点版本",value:q,icon:"ph:tag-bold"},{label:"Github 仓库",value:()=>I("a",{href:"https://github.com/L33Z22L11/blog-v3",target:"_blank",rel:"noopener noreferrer"},"L33Z22L11/blog-v3"),icon:"ph:github-logo-bold"},{label:"软件协议",value:"MIT License",icon:"ph:scales-bold"}]);return(k,p)=>{const x=ae;return m(),d("div",ie,[e("div",ce,[e("h3",re,[u(r(f),{name:"lucide:info",class:"section-icon"}),p[0]||(p[0]=h(" 主题信息 ",-1))]),u(x,{items:D.value},null,8,["items"])]),e("div",ue,[e("h3",de,[u(r(f),{name:"ph:globe-fill",class:"section-icon"}),p[1]||(p[1]=h(" 服务信息 ",-1))]),u(x,{items:H.value},null,8,["items"])]),e("div",me,[e("h3",pe,[u(r(f),{name:"ph:bookmark-fill",class:"section-icon"}),p[2]||(p[2]=h(" 仓库信息 ",-1))]),u(x,{size:"small",items:M.value},null,8,["items"])]),e("div",ge,[e("h3",ve,[u(r(f),{name:"ph:stack-fill",class:"section-icon"}),p[3]||(p[3]=h(" 技术栈 ",-1))]),u(x,{size:"small",items:U.value},null,8,["items"])]),e("div",_e,[e("h3",fe,[u(r(f),{name:"ph:cpu-fill",class:"section-icon"}),p[4]||(p[4]=h(" 构建信息 ",-1))]),u(x,{size:"small",items:W.value},null,8,["items"])])])}}}),he=Object.assign(y(be,[["__scopeId","data-v-984c7916"]]),{__name:"PopoverThemeCustomizerBuildInfo"});function Ce(){let s="#ff1a8c";if(typeof window<"u"){const i=localStorage.getItem("themeColor");i&&(i.startsWith("custom:")?s=i.slice(7):i in $&&(s=$[i].hex))}const n=A(s),o=A("");function l(){const i=n.value.trim();Y(i)?o.value="":o.value="无效的十六进制颜色值，格式应为 #RRGGBB"}function t(i){const a=$[i].hex;n.value=a,O(i),o.value=""}function c(){n.value="#ff1a8c",o.value="",O("pink")}return{customHexColor:n,hexInputError:o,handleColorChange:l,applyPresetColor:t,reset:c,THEME_COLORS:$}}const ye={class:"color-customize-item"},ke={class:"color-input-group"},xe={key:0,class:"error-message"},Ie={class:"preset-colors"},Fe=["title","onClick"],$e=C({__name:"ColorCustomize",setup(s){const{customHexColor:n,hexInputError:o,handleColorChange:l,applyPresetColor:t}=Ce();return(c,i)=>(m(),d("div",ye,[i[3]||(i[3]=e("div",{class:"item-header"},[e("label",{class:"customize-label"},"主题色"),e("span",{class:"customize-description"},[h("自定义主题的主要色调，可在 "),e("a",{href:"https://htmlcolorcodes.com/zh/",target:"_blank",rel:"noopener noreferrer"},"HTML颜色代码"),h(" 获取颜色代码")])],-1)),e("div",ke,[se(e("input",{"onUpdate:modelValue":i[0]||(i[0]=a=>ne(n)?n.value=a:null),type:"text",class:"hex-input",placeholder:"#ff1a8c",onInput:i[1]||(i[1]=(...a)=>r(l)&&r(l)(...a)),onBlur:i[2]||(i[2]=(...a)=>r(l)&&r(l)(...a))},null,544),[[oe,r(n)]]),e("div",{class:"color-preview",style:N({backgroundColor:r(n)})},null,4)]),r(o)?(m(),d("div",xe,T(r(o)),1)):z("",!0),e("div",Ie,[(m(!0),d(S,null,B(r($),(a,g)=>(m(),d("button",{key:g,class:"preset-color-btn",style:N({backgroundColor:a.hex}),title:a.label,onClick:_=>r(t)(g)},null,12,Fe))),128))])]))}}),we=Object.assign(y($e,[["__scopeId","data-v-8a45a927"]]),{__name:"PopoverThemeCustomizerColorCustomize"}),R=[{key:"AIExcerpt",label:"显示智能摘要",description:"在文章正文上方显示 AI 生成的摘要"},{key:"FeaturedArticles",label:"显示精选文章",description:"在首页展示精选文章轮播 (Slide)"},{key:"Comments",label:"显示评论区",description:"在文章下方展示评论区，关闭则全站评论区不可见"},{key:"LyricProgress",label:"歌词播放进度",description:"在音乐播放器中显示歌词的播放进度条 (实验功能)"}];function Le(s){const n=v({get:()=>s.showAIExcerpt,set:a=>{a!==s.showAIExcerpt&&s.toggleAIExcerpt()}}),o=v({get:()=>s.showFeaturedArticles,set:a=>{a!==s.showFeaturedArticles&&s.toggleFeaturedArticles()}}),l=v({get:()=>s.showComments,set:a=>{a!==s.showComments&&s.toggleComments()}}),t=v({get:()=>s.showLyricProgress,set:a=>{a!==s.showLyricProgress&&s.toggleLyricProgress()}});function c(a){switch(a){case"AIExcerpt":return n.value;case"FeaturedArticles":return o.value;case"Comments":return l.value;case"LyricProgress":return t.value;default:return!1}}function i(a){switch(a){case"AIExcerpt":n.value=!n.value;break;case"FeaturedArticles":o.value=!o.value;break;case"Comments":l.value=!l.value;break;case"LyricProgress":t.value=!t.value;break}}return{showAIExcerpt:n,showFeaturedArticles:o,showComments:l,showLyricProgress:t,getFeatureState:c,toggleFeature:i,FEATURE_TOGGLES:R}}const Ae={class:"feature-toggles"},ze=["checked","onChange"],Te={class:"toggle-content"},Pe={class:"toggle-label"},Se={class:"toggle-description"},Ee=C({__name:"FeatureToggles",setup(s){const n=P(),{showAIExcerpt:o,showFeaturedArticles:l,showComments:t,showLyricProgress:c}=Le(n);function i(g){switch(g){case"AIExcerpt":return o.value;case"FeaturedArticles":return l.value;case"Comments":return t.value;case"LyricProgress":return c.value;default:return!1}}function a(g){switch(g){case"AIExcerpt":o.value=!o.value;break;case"FeaturedArticles":l.value=!l.value;break;case"Comments":t.value=!t.value;break;case"LyricProgress":c.value=!c.value;break}}return(g,_)=>(m(),d("div",Ae,[(m(!0),d(S,null,B(r(R),b=>(m(),d("label",{key:b.key,class:"toggle-switch"},[e("input",{type:"checkbox",checked:i(b.key),onChange:E=>a(b.key)},null,40,ze),_[0]||(_[0]=e("span",{class:"toggle-slider"},null,-1)),e("div",Te,[e("span",Pe,T(b.label),1),e("span",Se,T(b.description),1)])]))),128))]))}}),Oe=Object.assign(y(Ee,[["__scopeId","data-v-0d4462ce"]]),{__name:"PopoverThemeCustomizerFeatureToggles"}),L={wenkai:'"LXGW WenKai Screen", "Inter", "Noto Sans SC-Local", "Noto Sans SC", system-ui, sans-serif',system:'system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans SC", sans-serif'};function Ne(){const s=A("system");function n(t){s.value=t;const c=L[t];document.documentElement.style.setProperty("--font-basic",c),localStorage.setItem("fontPreference",t)}function o(){try{const t=localStorage.getItem("fontPreference");t&&t in L&&(s.value=t,n(t))}catch{}}function l(){s.value="system",n("system")}return{selectedFont:s,applyFont:n,restoreFont:o,reset:l,FONT_VALUES:L}}const Ve={class:"font-select-item"},je={class:"font-button-group"},Be=C({__name:"FontSelect",setup(s){const{selectedFont:n,applyFont:o,restoreFont:l}=Ne();return G(()=>{l()}),(t,c)=>(m(),d("div",Ve,[c[2]||(c[2]=e("div",{class:"item-header"},[e("label",{class:"font-select-label"},"字体"),e("span",{class:"font-description"},"选择博客的显示字体，选择系统字体则优先使用系统本地安装的字体")],-1)),e("div",je,[e("button",{class:w(["font-toggle-btn",{active:r(n)==="wenkai"}]),onClick:c[0]||(c[0]=i=>r(o)("wenkai"))}," LXGW WenKai ",2),e("button",{class:w(["font-toggle-btn",{active:r(n)==="system"}]),onClick:c[1]||(c[1]=i=>r(o)("system"))}," 系统字体 ",2)])]))}}),Ge=Object.assign(y(Be,[["__scopeId","data-v-3505136a"]]),{__name:"PopoverThemeCustomizerFontSelect"}),j={simplified:"简体中文",traditional:"繁体中文"};function Re(s){const n=v({get:()=>s.language,set:l=>{l!==s.language&&s.toggleLanguage()}});function o(l){return j[l]}return{language:n,getLanguageLabel:o,LANGUAGE_OPTIONS:j}}const He={class:"language-select-item"},Me={class:"language-button-group"},Ue=C({__name:"LanguageSelect",setup(s){const n=P(),{language:o}=Re(n);return(l,t)=>(m(),d("div",He,[t[2]||(t[2]=e("div",{class:"item-header"},[e("label",{class:"language-select-label"},"语言"),e("span",{class:"language-description"},"切换网站的语言版本，支持简体中文和繁体中文")],-1)),e("div",Me,[e("button",{class:w(["language-toggle-btn",{active:r(o)==="simplified"}]),onClick:t[0]||(t[0]=c=>o.value="simplified")}," 简体中文 ",2),e("button",{class:w(["language-toggle-btn",{active:r(o)==="traditional"}]),onClick:t[1]||(t[1]=c=>o.value="traditional")}," 繁体中文 ",2)])]))}}),We=Object.assign(y(Ue,[["__scopeId","data-v-22a62887"]]),{__name:"PopoverThemeCustomizerLanguageSelect"}),De={key:0,id:"z-theme-customizer"},Ke={class:"customizer-header"},Qe={class:"customizer-section"},Ze={class:"customizer-section"},Xe={class:"customizer-section"},Je=C({__name:"ThemeCustomizer",props:{show:{type:Boolean},duration:{},onClose:{type:Function}},emits:["close"],setup(s,{emit:n}){const o=s,l=n,t=P();G(()=>{t.initAIExcerptSetting(),t.initFeaturedArticlesSetting(),t.initCommentsSetting(),t.initLanguageSetting(),t.initLyricProgressSetting()});function c(){o.onClose?.()||l("close")}return(i,a)=>{const g=f,_=ee;return m(),d(S,null,[u(V,{name:"float-in"},{default:F(()=>[s.show?(m(),d("div",{key:0,id:"z-theme-customizer-bgmask",onClick:c})):z("",!0)]),_:1}),u(V,{name:"float-in"},{default:F(()=>[s.show?(m(),d("div",De,[e("div",Ke,[a[0]||(a[0]=e("h2",null,"中控台",-1)),a[1]||(a[1]=e("p",null,"在这里个性化站点",-1)),e("button",{class:"close-btn","aria-label":"关闭",onClick:c},[u(g,{name:"ph:x-bold"})])]),u(_,{tabs:["显示","功能","关于"],border:""},{tab1:F(()=>[e("div",Qe,[u(we),u(Ge),u(We)])]),tab2:F(()=>[e("div",Ze,[u(Oe)])]),tab3:F(()=>[e("div",Xe,[u(he)])]),_:1})])):z("",!0)]),_:1})],64)}}}),nt=Object.assign(y(Je,[["__scopeId","data-v-8a8b8ef4"]]),{__name:"PopoverThemeCustomizer"});export{nt as default};
