import{_ as U}from"./Ca1JUkIu.js";import{_ as Y}from"./C6jVF4Zk.js";import{J as I,ah as L,br as V,x as b,Q as p,aO as l,aS as x,K as o,l as v,aV as w,aW as A,b6 as r,b9 as m,aU as W,aN as $,aY as D,be as F,b5 as R}from"./DeZJN128.js";import{c as Z,d as j,v as z}from"./iUv9qIY0.js";import{u as E,a as G,c as H,g as J}from"./Cvdhgfua.js";import"./BX1rEjTB.js";import"./DseEGKUA.js";import"./D-deoX8n.js";import"./wn0Etz4X.js";const K={class:"archive proper-height"},P={class:"archive-title"},Q={class:"archive-year"},q={class:"archive-age"},M={class:"archive-info"},X=I({__name:"archive",async setup(ee){let c,f;const h=Z();L({title:"归档",meta:[{property:"og:type",content:"website"},{name:"description",content:`${h.title}的所有文章归档，按时间年份分类展示所有已发布的文章。`},{name:"keywords",content:"归档,文章分类,时间线,文章列表"}]});const C=h.component.stats.birthYear;j().setAside(["blog-stats","blog-log"]);const{data:N}=([c,f]=V(()=>E()),c=await c,f(),c),{listSorted:S,isAscending:u,sortOrder:a}=G(N),{category:g,categories:k,listCategorized:O}=H(S),y=b(()=>{const n=Object.entries(J(O.value,e=>{try{const s=e[a.value];if(!s)return 0;const i=new Date(s);return Number.isNaN(i.getTime())?0:i.getFullYear()}catch(s){return console.error(`Invalid date: ${e[a.value]}`,s),0}}));return u.value?n:n.reverse()}),B=b(()=>y.value.reduce((n,[e,s])=>{const i=s?.reduce((t,d)=>t+d.readingTime.words,0)||0;return n[e]=z(i),n},{}));return(n,e)=>{const s=U,i=Y;return l(),p("div",K,[x(s,{"is-ascending":o(u),"onUpdate:isAscending":e[0]||(e[0]=t=>v(u)?u.value=t:null),"sort-order":o(a),"onUpdate:sortOrder":e[1]||(e[1]=t=>v(a)?a.value=t:null),category:o(g),"onUpdate:category":e[2]||(e[2]=t=>v(g)?g.value=t:null),categories:o(k)},null,8,["is-ascending","sort-order","category","categories"]),(l(!0),p(w,null,A(o(y),([t,d])=>(l(),p("section",{key:t,class:"archive-group"},[r("div",P,[r("h2",Q,m(t),1),r("div",q,[r("span",null,m(Number(t)-o(C)),1),e[3]||(e[3]=r("span",{class:"age-label"},"岁",-1))]),r("div",M,[r("span",null,m(o(B)[t])+"字",1),r("span",null,m(d?.length)+"篇",1)])]),x(F,{tag:"menu",class:"archive-list",name:"float-in"},{default:W(()=>[(l(!0),p(w,null,A(d,(_,T)=>(l(),$(i,D({key:_.path},{ref_for:!0},_,{to:_.path,"use-updated":o(a)==="updated",style:{"--delay":`${T*.03}s`}}),null,16,["to","use-updated","style"]))),128))]),_:2},1024)]))),128))])}}}),de=R(X,[["__scopeId","data-v-3d060643"]]);export{de as default};
