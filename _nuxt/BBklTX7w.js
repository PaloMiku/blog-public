import{n as w}from"./azg-Cpm6.js";import{aB as D,u as _,z as a,r as I,am as x,d as B,e as T,t as N,ah as b}from"./DojUhIOa.js";function k(o,e,n){const[i,s]=w(n?.in,o,e);return i.getFullYear()===s.getFullYear()}const A=["datetime","title"],Y={__name:"NuxtTime",props:{locale:{type:String,required:!1},datetime:{type:[String,Number,Date],required:!0},localeMatcher:{type:String,required:!1},weekday:{type:String,required:!1},era:{type:String,required:!1},year:{type:String,required:!1},month:{type:String,required:!1},day:{type:String,required:!1},hour:{type:String,required:!1},minute:{type:String,required:!1},second:{type:String,required:!1},timeZoneName:{type:String,required:!1},formatMatcher:{type:String,required:!1},hour12:{type:Boolean,required:!1,default:void 0},timeZone:{type:String,required:!1},calendar:{type:String,required:!1},dayPeriod:{type:String,required:!1},numberingSystem:{type:String,required:!1},dateStyle:{type:String,required:!1},timeStyle:{type:String,required:!1},hourCycle:{type:String,required:!1},relative:{type:Boolean,required:!1},numeric:{type:String,required:!1},relativeStyle:{type:String,required:!1},title:{type:[Boolean,String],required:!1}},setup(o){const e=o,n=D()?.vnode.el,i=n?.getAttribute("datetime"),s=n?.getAttribute("data-locale"),c=_(),u=a(()=>{const t=e.datetime;return i&&c.isHydrating?new Date(i):e.datetime?new Date(t):new Date}),f=I(c.isHydrating&&window._nuxtTimeNow?new Date(window._nuxtTimeNow):new Date);if(e.relative){const r=setInterval(()=>{f.value=new Date},1e3);x(()=>clearInterval(r))}const m=a(()=>{const{locale:t,relative:r,relativeStyle:d,...l}=e;return r?new Intl.RelativeTimeFormat(s??t,{...l,style:d}):new Intl.DateTimeFormat(s??t,l)}),y=a(()=>{if(!e.relative)return m.value.format(u.value);const t=(u.value.getTime()-f.value.getTime())/1e3,r=[{unit:"second",seconds:1,threshold:60},{unit:"minute",seconds:60,threshold:60},{unit:"hour",seconds:3600,threshold:24},{unit:"day",seconds:86400,threshold:30},{unit:"month",seconds:2592e3,threshold:12},{unit:"year",seconds:31536e3,threshold:1/0}],{unit:d,seconds:l}=r.find(({seconds:q,threshold:v})=>Math.abs(t/q)<v)||r[r.length-1],h=t/l;return m.value.format(Math.round(h),d)}),p=a(()=>u.value.toISOString()),g=a(()=>e.title===!0?p.value:typeof e.title=="string"?e.title:void 0),S={};return(t,r)=>(T(),B("time",b(S,{datetime:p.value,title:g.value}),N(y.value),17,A))}};export{Y as _,k as i};
