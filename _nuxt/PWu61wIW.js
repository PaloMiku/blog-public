import{_ as N,a3 as C}from"./C79afr0F.js";import{J as I,r as l,N as h,aN as i,aO as n,aU as _,Q as m,aR as d,K as t,b6 as s,aS as p,b8 as f,a_ as z,ba as w,b9 as u,a$ as B,b5 as V}from"./DeZJN128.js";import{_ as G}from"./ByNQ57I1.js";import{u as L,s as M,a as A}from"./ztQThcwb.js";import"./D-deoX8n.js";const D={key:0,class:"steam-loading-center"},O={key:1,style:{"text-align":"center",color:"var(--c-text-2)"}},P={class:"user-info"},W={class:"user-row"},$={class:"username"},j=["title"],E=I({__name:"SteamStats",setup(F){const{fetchSteamData:S}=L(),e=l(null),r=l(!0),c=l(!1);function g(a){return M[a]||"#90a0a6"}function v(a){return A[a]||a}return h(async()=>{try{const a=await S();a.success&&a.data?.user?e.value=a.data.user:c.value=!0}catch(a){console.error("Failed to load Steam user info:",a),c.value=!0}finally{r.value=!1}}),(a,o)=>{const x=N,y=w,b=C,k=G;return n(),i(k,{card:"",title:"Steam"},{default:_(()=>[t(r)?(n(),m("div",D,[...o[0]||(o[0]=[s("div",{class:"steam-loading-spinner"},null,-1),s("div",{class:"steam-loading-text"}," Steam API 通讯中... ",-1)])])):t(c)?(n(),m("p",O,[p(x,{name:"ph:warning-circle-bold"}),o[1]||(o[1]=f(" Steam API 连接失败 ",-1))])):t(e)?(n(),i(b,{key:2,to:"/steam",class:z(["steam-card-content",[{loaded:!t(r)}]])},{default:_(()=>[p(y,{src:t(e).avatar.medium,alt:t(e).username,class:"user-avatar",loading:"lazy",sizes:"48px"},null,8,["src","alt"]),s("div",P,[s("div",W,[s("div",$,u(t(e).username),1),s("div",{class:"status-badge",style:B({"--status-color":g(t(e).status)})},[o[2]||(o[2]=s("span",{class:"status-dot"},null,-1)),f(" "+u(v(t(e).status)),1)],4)]),t(e).currentGame?(n(),m("div",{key:0,class:"game-name",title:t(e).currentGame.name}," 正在玩 "+u(t(e).currentGame.name),9,j)):d("",!0)])]),_:1},8,["class"])):d("",!0)]),_:1})}}}),U=Object.assign(V(E,[["__scopeId","data-v-820c3560"]]),{__name:"WidgetSteamStats"});export{U as default};
