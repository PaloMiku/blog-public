import{J as f,r as p,A as v,bp as b,N as g,x as h,M as w,aM as x,aN as $,aT as C,aR as y,a8 as T}from"./D6ajeznB.js";import{_ as j}from"./DXvuk3Ie.js";import{_ as A}from"./BaxF18Lb.js";import{_ as B}from"./Dch6Byx5.js";import{c as D,t as n}from"./CR3_r6pY.js";import{u as O}from"./DkF-e1kz.js";import{g as E,b as N}from"./BbvP_-xX.js";import"./D7lD6WwY.js";import"./D-deoX8n.js";const S=f({__name:"BlogStats",async setup(M){let o,c;const i=D(),m=v(),r=p(m.public.buildTime),l=p(i.component.stats.wordCount),u=p(""),{data:e}=([o,c]=b(()=>O("blog-stats",()=>T(()=>import("./DmBT22jJ.js"),[],import.meta.url).then(t=>(t.default||t)()))),o=await o,c(),o);e&&e.value&&(l.value=n(e.value.total.words),u.value=Object.entries(e.value.annual).reverse().map(([t,a])=>`${t}年：${a.posts}篇，${n(a.words)}字`).join(`
`)),g(async()=>{if(r.value=E(r.value),!e||!e.value){const t=await $fetch("/api/stats").catch(()=>null);if(!t)return;l.value=n(t.total.words),u.value=Object.entries(t.annual).reverse().map(([a,s])=>`${a}年：${s.posts}篇，${n(s.words)}字`).join(`
`)}});const _=[{label:"运营时长",value:N(i.timeEstablished),tip:`博客于${i.timeEstablished}上线`},{label:"上次更新",value:()=>w(j,{date:m.public.buildTime,relative:!0,tipPrefix:"构建于"}),tip:h(()=>`构建于${r.value}`)},{label:"总字数",value:l,tip:u}];return(t,a)=>{const s=A,d=B;return $(),x(d,{card:"",title:"博客统计"},{default:C(()=>[y(s,{items:_})]),_:1})}}}),J=Object.assign(S,{__name:"WidgetBlogStats"});export{J as default};
