import{z as f,ak as o,r as a,o as v,b,c as j,d as S,e as k,h as r,_ as w}from"./DHv0OwSm.js";const A={class:"music-score"},O={ref:"abcjs-container"},P={ref:"synth-controller"},C=f({__name:"MusicScore",props:{abc:{}},setup(c){const u=c,l=o("abcjs-container"),i=o("synth-controller"),n=a(),s=a(),d={responsive:"resize"},p={displayLoop:!0,displayRestart:!0,displayPlay:!0,displayProgress:!0,displayWarp:!0};async function _(){try{return(await fetch("https://paulrosen.github.io/midi-js-soundfonts/",{method:"HEAD"})).ok}catch(e){return console.error(`[music-abc] 无法连接 SoundFonts，不启用播放能力
`,e),!1}}return v(async()=>{const{renderAbc:e,synth:t}=await b(async()=>{const{renderAbc:h,synth:y}=await import("./Ctwd8xxW.js").then(m=>m.i);return{renderAbc:h,synth:y}},[],import.meta.url);n.value=e(l.value,u.abc,d)[0],!(!t.supportsAudio()||!await _())&&(s.value=new t.SynthController,s.value.load(i.value,null,p),s.value.setTune(n.value,!1))}),j(()=>{s.value?.pause()}),(e,t)=>(k(),S("div",A,[r("div",O,null,512),r("div",P,null,512)]))}}),M=Object.assign(w(C,[["__scopeId","data-v-c5f76516"]]),{__name:"MusicScore"});export{M as default};
