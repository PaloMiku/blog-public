import{_ as p}from"./R0zW_PpF.js";import{_}from"./BQm2S0f2.js";import{d,B as f,r as o,aj as b,c as g,a8 as v,o as h,$ as r,f as $,h as C,w,i as B}from"#entry";import{t as x,_ as j,g as S}from"./-EBES1Ub.js";const T=d({__name:"BlogStats",setup(y){const a=f(),n=b(),s=o(n.public.buildTime),i=o(a.component.stats.wordCount),l=o(""),m=[{label:"运营时长",value:x(a.timeEstablished),tip:`博客于${a.timeEstablished}上线`},{label:"上次更新",value:()=>v(j,{datetime:n.public.buildTime,relative:!0}),tip:g(()=>`构建于${s.value}`)},{label:"总字数",value:i,tip:l}];return h(async()=>{s.value=S(s.value);const t=await $fetch("/api/stats").catch(()=>{});t&&(i.value=r(t.total.words),l.value=Object.entries(t.annual).reverse().map(([c,e])=>`${c}年：${e.posts}篇，${r(e.words)}字`).join(`
`))}),(t,c)=>{const e=p,u=_;return C(),$(u,{card:"",title:"博客统计"},{default:w(()=>[B(e,{items:m,size:"small"})]),_:1})}}}),N=Object.assign(T,{__name:"WidgetBlogStats"});export{N as default};
