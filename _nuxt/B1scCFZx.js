import{an as A,ap as D,aq as Q,ar as $,as as k,at as I,Q as l,al as O,N as R,B as q,r as g,c as m}from"#entry";import{u as T,q as z}from"./ChI1zaDy.js";function F(e,t,r){const[o,n]=A(r?.in,e,t);return o.getFullYear()===n.getFullYear()}const M=(e,t)=>e.reduce((r,o)=>{const n=t(o);return r[n]||(r[n]=[]),r[n].push(o),r},{}),N=(e,t,r=!1)=>{if(!e)return[];const o=(a,s)=>t(a)-t(s),n=(a,s)=>t(s)-t(a);return e.slice().sort(r===!0?n:o)},G=(e,t,r="asc")=>{if(!e)return[];const o=(a,s)=>`${t(a)}`.localeCompare(t(s)),n=(a,s)=>`${t(s)}`.localeCompare(t(a));return e.slice().sort(r==="desc"?n:o)};function W(e){return D()?(Q(e),!0):!1}typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const d=new WeakMap;function Y(e,t,r={}){const{mode:o="replace",route:n=$(),router:a=k(),transform:s}=r;let f=c=>c,y=c=>c;typeof s=="function"?f=s:s&&(s.get&&(f=s.get),s.set&&(y=s.set)),d.has(a)||d.set(a,new Map);const p=d.get(a);let i=n.query[e];W(()=>{i=void 0});let h;const S=I((c,C)=>(h=C,{get(){return c(),f(i!==void 0?i:l(t))},set(u){u=y(u),i!==u&&(i=u===l(t)?void 0:u,p.set(e,u===l(t)?void 0:u),C(),O(()=>{if(p.size===0)return;const _=Object.fromEntries(p.entries());p.clear();const{params:b,query:x,hash:w}=n;a[l(o)]({params:b,query:{...x,..._},hash:w})}))}}));return R(()=>n.query[e],c=>{i!==f(c)&&(i=c,h())},{flush:"sync"}),S}function j(e="posts/%"){return T(`index_${e.replaceAll("%","__percent__")}`,()=>z("content").where("stem","LIKE",e).select("categories","date","description","image","path","readingTime","recommend","title","type","updated").all(),{default:()=>[]})}function B(e,t){const{bindQuery:r}=t??{},o=r?Y(r,void 0,{transform:s=>s,mode:"push"}):g(),n=m(()=>[...new Set(l(e).map(s=>s.categories?.[0]))]),a=m(()=>l(e).filter(s=>!o.value||s.categories?.[0]===o.value));return{category:o,categories:n,listCategorized:a}}function K(e){const t=q(),r=g(t.pagination.sortOrder||"date"),o=g(),n=m(()=>G(l(e),a=>a[r.value]||"",o.value?"asc":"desc"));return{sortOrder:r,isAscending:o,listSorted:n}}function L(e){return q().article.categories[e]?.icon??"ph:folder-bold"}function P(e,t={prefix:"text"}){e||(e="tech");const{prefix:r}=t;return`${r}-${e}`}export{K as a,B as b,j as c,L as d,P as e,M as g,F as i,N as s,Y as u};
