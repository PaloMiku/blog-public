import{d as k,r as i,o as w,k as n,h as l,j as s,l as _,i as u,q as b,u as a,w as p,t as c,p as x,y as v,b5 as z,z as N}from"#entry";import{u as h,s as C,a as V}from"./p0smk1q9.js";const B={class:"steam-widget-container"},I={class:"widget-header"},L={key:0,class:"widget-content loading"},M={key:1,class:"widget-content error"},j={key:2,class:"widget-content"},D=["src","alt"],G={class:"user-info"},q={class:"username"},E={key:0,class:"current-game-section"},F={class:"game-name"},O=k({__name:"SteamStats",setup(T){const{getUserInfo:f}=h(),o=i(null),d=i(!0),r=i(!1),g=e=>C[e]||"#90a0a6",S=e=>V[e]||e;return w(async()=>{try{const e=await f();e?o.value=e:r.value=!0}catch(e){console.error("Failed to load Steam user info:",e),r.value=!0}finally{d.value=!1}}),(e,t)=>{const y=b,m=z;return l(),n("div",B,[s("div",I,[u(y,{name:"ph:steam-logo-bold",size:"20"}),t[0]||(t[0]=s("span",null,"Steam",-1))]),a(d)?(l(),n("div",L,[...t[1]||(t[1]=[s("div",{class:"skeleton-avatar"},null,-1),s("div",{class:"skeleton-info"},null,-1)])])):a(r)?(l(),n("div",M,[...t[2]||(t[2]=[s("p",null,"Steam 数据加载失败",-1)])])):a(o)?(l(),n("div",j,[u(m,{to:"/steam",class:"user-card"},{default:p(()=>[s("img",{src:a(o).avatar.medium,alt:a(o).username,class:"user-avatar",loading:"lazy"},null,8,D),s("div",G,[s("div",q,c(a(o).username),1),s("div",{class:"status-badge",style:x({"--status-color":g(a(o).status)})},[t[3]||(t[3]=s("span",{class:"status-dot"},null,-1)),v(" "+c(S(a(o).status)),1)],4)])]),_:1}),a(o).currentGame?(l(),n("div",E,[t[4]||(t[4]=s("div",{class:"section-label"},"当前游戏",-1)),s("div",F,c(a(o).currentGame.name),1)])):_("",!0),u(m,{to:"/steam",class:"view-more-btn"},{default:p(()=>[...t[5]||(t[5]=[v(" 查看完整 Steam 信息 → ",-1)])]),_:1})])):_("",!0)])}}}),A=Object.assign(N(O,[["__scopeId","data-v-7ac82639"]]),{__name:"WidgetSteamStats"});export{A as default};
