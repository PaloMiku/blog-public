import{al as D,am as O,d as v,c as p,k as h,h as l,u as m,f as F,l as y,i as I,q as B,F as S,y as w}from"#entry";import{d as L,a as c,g as T,_ as Y}from"./CSkeygn5.js";import{i as z}from"./DsAvYIgN.js";function C(n,e,t){const[o,i]=D(t?.in,n,e),s=M(o,i),a=Math.abs(L(o,i));o.setDate(o.getDate()-s*a);const r=+(M(o,i)===-s),d=s*(a-r);return d===0?0:d}function M(n,e){const t=n.getFullYear()-e.getFullYear()||n.getMonth()-e.getMonth()||n.getDate()-e.getDate()||n.getHours()-e.getHours()||n.getMinutes()-e.getMinutes()||n.getSeconds()-e.getSeconds()||n.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function H(n){return e=>{const t=Math.trunc,o=t(e);return o===0?0:o}}function V(n,e,t){const o=C(n,e,t)/7;return H()(o)}function Z(n,e){const t=O(n,e?.in);if(isNaN(+t))throw new RangeError("Invalid time value");const o=e?.format??"extended",i=e?.representation??"complete";let s="",a="";const r=o==="extended"?"-":"",d=o==="extended"?":":"";if(i!=="time"){const u=c(t.getDate(),2),f=c(t.getMonth()+1,2);s=`${c(t.getFullYear(),4)}${r}${f}${r}${u}`}if(i!=="date"){const u=t.getTimezoneOffset();if(u!==0){const _=Math.abs(u),N=c(Math.trunc(_/60),2),k=c(_%60,2);a=`${u<0?"+":"-"}${N}:${k}`}else a="Z";const f=c(t.getHours(),2),g=c(t.getMinutes(),2),$=c(t.getSeconds(),2),x=s===""?"":"T",b=[f,g,$].join(d);s=`${s}${x}${b}${a}`}return s}const j=["title"],E=v({__name:"Date",props:{icon:{},date:{},absolute:{type:Boolean},nospace:{type:Boolean}},setup(n){const e=n,t=p(()=>e.absolute?!1:Math.abs(V(Date.now(),e.date))<1),o=p(()=>T(e.date));return(i,s)=>{const a=B,r=Y;return l(),h("span",{title:m(o)},[n.icon?(l(),F(a,{key:0,name:n.icon},null,8,["name"])):y("",!0),n.nospace?y("",!0):(l(),h(S,{key:1},[w("Â ")],64)),I(r,{datetime:m(Z)(e.date),relative:m(t),year:m(z)(Date.now(),e.date)?void 0:"2-digit",month:"long",day:"numeric"},null,8,["datetime","relative","year"])],8,j)}}}),G=Object.assign(E,{__name:"ZDate"});export{G as _};
