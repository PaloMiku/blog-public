import{d as b,r as m,o as w,f as z,h as o,w as i,k as l,l as v,u as t,j as n,i as r,y as d,q as N,Q as h,b5 as C,n as I,t as _,p as B,z as V}from"#entry";import{_ as G}from"./65Uvj0u5.js";import{u as L,s as M,a as j}from"./BSYvoo-r.js";const A={key:0,class:"steam-loading-center"},D={key:1,style:{"text-align":"center",color:"var(--c-text-2)"}},P={class:"user-info"},W={class:"username"},$=["title"],q=b({__name:"SteamStats",setup(E){const{fetchSteamData:g}=L(),a=m(null),c=m(!0),u=m(!1),S=e=>M[e]||"#90a0a6",x=e=>j[e]||e;return w(async()=>{try{const e=await g();e.success&&e.data?.user?a.value=e.data.user:u.value=!0}catch(e){console.error("Failed to load Steam user info:",e),u.value=!0}finally{c.value=!1}}),(e,s)=>{const p=N,y=I,f=C,k=G;return o(),z(k,{card:"",title:"Steam"},{default:i(()=>[t(c)?(o(),l("div",A,[...s[0]||(s[0]=[n("div",{class:"steam-loading-spinner"},null,-1),n("div",{class:"steam-loading-text"},"Steam API 通讯中...",-1)])])):t(u)?(o(),l("p",D,[r(p,{name:"ph:warning-circle-bold"}),s[1]||(s[1]=d(" Steam API 连接失败 ",-1))])):t(a)?(o(),l("div",{key:2,class:h(["steam-card-content",{loaded:!t(c)}])},[r(f,{to:"/steam",class:"user-card"},{default:i(()=>[r(y,{src:t(a).avatar.medium,alt:t(a).username,class:"user-avatar",loading:"lazy",sizes:"48px"},null,8,["src","alt"]),n("div",P,[n("div",W,_(t(a).username),1),n("div",{class:"status-badge",style:B({"--status-color":S(t(a).status)})},[s[2]||(s[2]=n("span",{class:"status-dot"},null,-1)),d(" "+_(x(t(a).status)),1)],4),t(a).currentGame?(o(),l("div",{key:0,class:"game-name",title:t(a).currentGame.name}," 正在玩 "+_(t(a).currentGame.name),9,$)):v("",!0)])]),_:1}),r(f,{to:"/steam",class:"view-more-btn"},{default:i(()=>[r(p,{name:"ph:arrow-right-bold"}),s[3]||(s[3]=d(" 查看完整信息 ",-1))]),_:1})],2)):v("",!0)]),_:1})}}}),T=Object.assign(V(q,[["__scopeId","data-v-c474de00"]]),{__name:"WidgetSteamStats"});export{T as default};
