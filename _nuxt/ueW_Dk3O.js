import{aa as v,ab as f}from"./Cc1liqSW.js";import{J as k,x as u,be as $,r as p,N as z,Q as r,aO as s,aR as _,K as o,a$ as m,b5 as x}from"./C30-xQm5.js";import"./D-deoX8n.js";const g=["poster","src"],R=["src"],B=k({__name:"VideoEmbed",props:{type:{default:"raw"},id:{},autoplay:{type:Boolean},ratio:{},poster:{},width:{},height:{default:"80vh"},zoom:{}},setup(t){const e=t,y=u(()=>{if(e.ratio)return e.ratio;switch(e.type){case"raw":return;case"douyin":return"27 / 56";case"douyin-wide":return"1198 / 731";default:return"16 / 9"}}),n=u(()=>{switch(e.type){case"bilibili":return`https://player.bilibili.com/player.html?bvid=${e.id}&autoplay=${e.autoplay}`;case"bilibili-nano":return`https://www.bilibili.com/blackboard/newplayer.html?bvid=${e.id}&autoplay=${e.autoplay}`;case"youtube":return`https://www.youtube.com/embed/${e.id}?rel=0&disablekb=1&playsinline=1&autoplay=${e.autoplay}`;case"douyin":return`https://open.douyin.com/player/video?vid=${e.id}`;case"douyin-wide":return`https://open.douyin.com/player/video?vid=${e.id}`;case"tiktok":return`https://www.tiktok.com/embed/v3/${e.id}`;default:return e.id}}),d=$("video-player"),a=p(e.type==="douyin-wide"),c=p(a.value?.1:e.zoom),l={douyin:.0031,"douyin-wide":.00134};return z(()=>{a.value&&v(d,()=>{a.value=!1}),e.type in l&&f(d,([i])=>{if(!i)return;const{width:w}=i.contentRect,h=l[e.type];c.value=w*h})}),(b,i)=>(s(),r("div",{ref:"video-player",class:"video",style:m({aspectRatio:o(y),maxWidth:t.width,maxHeight:t.height})},[t.type==="raw"?(s(),r("video",{key:0,poster:t.poster,src:o(n),controls:""},null,8,g)):o(a)?_("",!0):(s(),r("iframe",{key:1,src:o(n),style:m({zoom:o(c)}),scrolling:"no",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""},null,12,R))],4))}}),V=Object.assign(x(B,[["__scopeId","data-v-c4e5b7b0"]]),{__name:"VideoEmbed"});export{V as default};
