import{_ as p}from"./BpzxSLvI.js";import{_}from"./C9mTMddY.js";import{d,B as f,r as o,ai as b,c as g,a7 as v,o as h,Y as r,f as C,h as $,w,i as B}from"#entry";import{t as x,_ as S,g as T}from"./BAZKhRf6.js";const j=d({__name:"BlogStats",setup(y){const a=f(),n=b(),s=o(n.public.buildTime),i=o(a.component.stats.wordCount),l=o(""),m=[{label:"运营时长",value:x(a.timeEstablished),tip:`博客于${a.timeEstablished}上线`},{label:"上次更新",value:()=>v(S,{datetime:n.public.buildTime,relative:!0}),tip:g(()=>`构建于${s.value}`)},{label:"总字数",value:i,tip:l}];return h(async()=>{s.value=T(s.value);const t=await $fetch("/api/stats").catch(()=>{});t&&(i.value=r(t.total.words),l.value=Object.entries(t.annual).reverse().map(([c,e])=>`${c}年：${e.posts}篇，${r(e.words)}字`).join(`
`))}),(t,c)=>{const e=p,u=_;return $(),C(u,{card:"",title:"博客统计"},{default:w(()=>[B(e,{items:m,size:"small"})]),_:1})}}}),N=Object.assign(j,{__name:"WidgetBlogStats"});export{N as default};
