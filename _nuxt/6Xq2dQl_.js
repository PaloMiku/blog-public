const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./B-PrzEUD.js","./DcEs5SNU.js","./C30-xQm5.js","./BdaOdT8v.js","./BcHDEQLf.js","./D-deoX8n.js","./entry.Bs0qRhIh.css","./CK5gOxmq.js","./ea4KN_Pm.js"])))=>i.map(i=>d[i]);
import{J as N,x as C,aP as Y,Q as u,aO as a,a_ as T,aR as _,b6 as s,aS as r,bs as ee,K as e,aU as w,b8 as k,aQ as V,aN as P,b9 as f,aV as S,aW as j,b5 as A,r as I,N as Z,bq as H,a8 as q,o as te,ah as se,b0 as z,b1 as F}from"./C30-xQm5.js";import{c as B,v as K,p as oe,_ as D,t as ne,w as ae,u as ie,b as M,x as ce,j as re,r as le,d as de,y as ue,z as me}from"./BcHDEQLf.js";import{_ as U}from"./DkjCLFoy.js";import{i as pe}from"./BtbOERXP.js";import{d as _e,e as O}from"./Dm1I7GID.js";import{_ as fe}from"./B7HOsf9w.js";import he from"./DlAshatY.js";import{u as W}from"./DJ7J0tWo.js";import{_ as ge}from"./DRSzSRmm.js";import{u as ve}from"./D4urXyXP.js";import"./D-deoX8n.js";import"./B877sbr6.js";import"./rJCbAzvX.js";import"./CK5gOxmq.js";const be={key:0,class:"cover-wrapper"},ye={class:"operations"},xe={class:"post-nav"},$e={key:0,class:"post-info"},ke={key:2},Te={key:3},Ce={key:4,class:"post-tags"},we={key:1,class:"post-subtitle"},Pe=N({inheritAttrs:!1,__name:"PostHeader",props:{path:{},readingTime:{},title:{},subtitle:{},description:{},link:{},date:{},updated:{},published:{},categories:{},tags:{},type:{},image:{},recommend:{},references:{},meta:{},"hide-info":{type:Boolean}},setup(t){const o=t,g=B(),d=C(()=>o.categories?.[0]),v=C(()=>_e(d.value)),m=`【${g.title}】${o.title}

${o.description?`${o.description}

`:""}${new URL(o.path,g.url).href}`,{copy:p,copied:i}=K(m);return(h,l)=>{const c=ee,b=oe,x=U,y=D,n=Y("tip");return a(),u("div",{class:T(["post-header",{"has-cover":t.image,"text-revert":t.meta?.coverRevert}])},[t.image?(a(),u("div",be,[r(c,{class:"post-cover",src:t.image,alt:t.title},null,8,["src","alt"]),s("div",ye,[r(b,{icon:e(i)?"ph:check-bold":"ph:share-bold",onClick:l[0]||(l[0]=$=>e(p)())},{default:w(()=>[...l[1]||(l[1]=[k(" 文字分享 ",-1)])]),_:1},8,["icon"])])])):_("",!0),s("div",xe,[t.meta?.hideInfo?_("",!0):(a(),u("div",$e,[t.date?V((a(),P(x,{key:0,"tip-prefix":"创建于",date:t.date,icon:"ph:calendar-dots-bold"},null,8,["date"])),[[n]]):_("",!0),t.updated&&("isTimeDiffSignificant"in h?h.isTimeDiffSignificant:e(pe))(t.date,t.updated,.999)?V((a(),P(x,{key:1,"tip-prefix":"修改于",date:t.updated,icon:"ph:calendar-plus-bold"},null,8,["date"])),[[n]]):_("",!0),e(d)?(a(),u("span",ke,[r(y,{name:e(v)},null,8,["name"]),k(" "+f(e(d)),1)])):_("",!0),s("span",null,[r(y,{name:"ph:paragraph-bold"}),k(" "+f(("formatNumber"in h?h.formatNumber:e(ne))(t.readingTime?.words))+" 字 ",1)]),t.readingTime?.minutes?(a(),u("span",Te,[r(y,{name:"ph:clock-bold"}),k(" "+f(Math.ceil(t.readingTime.minutes))+" 分钟 ",1)])):_("",!0),t.tags?.length?(a(),u("div",Ce,[r(y,{name:"ph:tag-bold"}),(a(!0),u(S,null,j(t.tags,$=>(a(),u("span",{key:$,class:"tag"},f($),1))),128))])):_("",!0)])),s("h1",{class:T(["post-title",("getPostTypeClassName"in h?h.getPostTypeClassName:e(O))(t.type)])},f(t.title),3),t.subtitle?(a(),u("p",we,' "'+f(t.subtitle)+'" ',1)):_("",!0)])],2)}}}),Ne=Object.assign(A(Pe,[["__scopeId","data-v-73cc9e5e"]]),{__name:"PostHeader"}),Ie={class:"md-excerpt ai-excerpt"},Se={class:"ai-excerpt-header"},Ae={class:"ai-excerpt-title"},De={class:"ai-icon-gpt"},Re={key:0,class:"ai-excerpt-toggle-outer hide-on-wide"},Ee={class:"ai-excerpt-toggle-wrap"},Le=900,Be=N({__name:"Excerpt",props:{excerpt:{}},setup(t){const o=t,g=B(),d=I(o.excerpt),v=I(""),m=I(!1),p=I(!1);function i(){window.innerWidth<Le?(p.value=!0,m.value=!0):(p.value=!1,m.value=!1)}i(),window.addEventListener("resize",i);function h(){p.value&&(m.value=!m.value)}return g.component.excerpt?.animation!==!1&&(d.value="",Z(async()=>{v.value=g.component.excerpt?.caret??"_";for(const l of o.excerpt)d.value+=l,await ae(50);v.value=""})),(l,c)=>{const b=D;return a(),u("div",Ie,[s("div",Se,[s("div",Ae,[s("span",De,[r(b,{name:"simple-icons:openai",class:"ai-gpt-icon"})]),c[0]||(c[0]=s("span",{class:"ai-label"},"智能摘要",-1))]),c[1]||(c[1]=s("span",{class:"ai-badge"},"Kimi·K2-Turbo",-1))]),s("div",{class:T(["ai-excerpt-content",{"is-folded":e(m)&&e(p),"is-unfolded":!e(m)&&e(p)}])},f(e(d))+f(e(v)),3),c[2]||(c[2]=s("noscript",null,null,-1)),e(d).length>80&&e(p)?(a(),u("div",Re,[s("div",Ee,[s("button",{class:"ai-excerpt-toggle",onClick:h},f(e(m)?"展开全部":"收起"),1)])])):_("",!0)])}}}),Oe=Object.assign(A(Be,[["__scopeId","data-v-87580e5f"]]),{__name:"PostExcerpt"}),Ve={key:0,class:"post-footer"},ze={class:"author-card"},Fe={class:"card-header"},je={class:"author-info"},Ze={class:"title"},He={key:0,class:"url"},qe={class:"copyright-badge"},Ke={class:"card-meta"},Me={class:"meta-row"},Ue={class:"meta-item"},We={class:"value"},Qe={key:0,class:"meta-item"},Je={class:"value"},Ge={class:"meta-item"},Xe={class:"card-actions"},Ye=["title"],et={key:0,class:"reference"},tt={class:"content"},st=N({inheritAttrs:!1,__name:"PostFooter",props:{path:{},readingTime:{},title:{},subtitle:{},description:{},link:{},date:{},updated:{},published:{},categories:{},tags:{},type:{},image:{},recommend:{},references:{},meta:{},"hide-info":{type:Boolean}},setup(t){const o=t,g=ie(),d=B(),v=`【${d.title}】${o.title}

${o.description?`${o.description}

`:""}${new URL(o.path,d.url).href}`,{copy:m,copied:p}=K(v);function i(){g.push("/about")}const h=C(()=>{if(!o.date)return"";try{const l=new Date(o.date);return Number.isNaN(l.getTime())?"":l.toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric"})}catch(l){return console.error(`Invalid date: ${o.date}`,l),""}});return(l,c)=>{const b=D,x=he;return t.meta?.hideInfo?_("",!0):(a(),u("div",Ve,[s("section",ze,[s("div",Fe,[s("div",je,[s("h3",Ze,f(t.title),1),t.path?(a(),u("p",He,f(t.path),1)):_("",!0)]),s("div",qe,[r(b,{name:"ph:copyright-bold"})])]),s("div",Ke,[s("div",Me,[s("div",Ue,[c[1]||(c[1]=s("span",{class:"label"},"文章作者",-1)),s("span",We,f(e(d).author.name),1)]),t.date?(a(),u("div",Qe,[c[2]||(c[2]=s("span",{class:"label"},"发布时间",-1)),s("span",Je,f(e(h)),1)])):_("",!0),s("div",Ge,[c[3]||(c[3]=s("span",{class:"label"},"版权信息",-1)),r(x,{href:e(d).copyright.url,class:"value"},{default:w(()=>[k(f(e(d).copyright.name),1)]),_:1},8,["href"])])])]),s("div",Xe,[s("button",{class:"action-btn",title:e(p)?"已复制":"复制/分享",onClick:c[0]||(c[0]=y=>e(m)())},[r(b,{name:e(p)?"ph:check-bold":"ph:share-bold"},null,8,["name"])],8,Ye),s("button",{class:"action-btn",title:"打赏",onClick:i},[r(b,{name:"ph:heart-bold"})])])]),t.references?(a(),u("section",et,[c[4]||(c[4]=s("div",{id:"references",class:"title text-creative"}," 参考链接 ",-1)),s("div",tt,[s("ul",null,[(a(!0),u(S,null,j(t.references,({title:y,link:n},$)=>(a(),u("li",{key:$},[r(x,{href:n||""},{default:w(()=>[k(f(y??n),1)]),_:2},1032,["href"])]))),128))])])])):_("",!0)]))}}}),ot=Object.assign(A(st,[["__scopeId","data-v-3530dd60"]]),{__name:"PostFooter"}),nt={class:"surround-text"},at={key:0,class:"surround-post",dir:"ltr"},it=N({__name:"PostSurround",async setup(t){let o,g;const d=M(),{data:v}=([o,g]=H(()=>W(`surround-${d.path}`,()=>q(()=>import("./B-PrzEUD.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]),import.meta.url).then(l=>(l.default||l)(d)))),o=await o,g(),o),[m=null,p=null]=v.value??[],[i,h]=ce({inheritAttrs:!1});return(l,c)=>{const b=D,x=U,y=re;return a(),u(S,null,[r(e(i),null,{default:w(({post:n,icon:$,fallbackIcon:R,fallbackText:E,alignEnd:L})=>[r(y,{to:n?.path,class:"surround-link","align-end":L},{default:w(()=>[r(b,{class:T({"rtl-flip":n}),name:n?$:R},null,8,["class","name"]),s("div",nt,[s("strong",{class:T(["title",("getPostTypeClassName"in l?l.getPostTypeClassName:e(O))(n?.type)])},f(n?.title||E),3),n?.date?(a(),P(x,{key:0,class:"date",date:n.date},null,8,["date"])):_("",!0)])]),_:2},1032,["to","align-end"])]),_:1}),e(m)||e(p)?(a(),u("div",at,[r(e(h),{post:e(p),icon:"solar:rewind-back-bold-duotone","fallback-icon":"solar:document-add-bold-duotone","fallback-text":"新故事即将发生"},null,8,["post"]),r(e(h),{post:e(m),icon:"solar:rewind-forward-bold-duotone","fallback-icon":"solar:reel-bold-duotone","fallback-text":"已抵达博客尽头","align-end":""},null,8,["post"])])):_("",!0)],64)}}}),ct=Object.assign(A(it,[["__scopeId","data-v-5bbacfc0"]]),{__name:"PostSurround"}),$t=N({__name:"[...slug]",async setup(t){let o,g;const d=M(),v=le(),m=de();m.setAside(["toc"]);const p=C(()=>{let n=d.path;return n.endsWith("/")&&n!=="/"&&(n=n.slice(0,-1)),n}),{data:i,refresh:h}=([o,g]=H(()=>W(`post-${p.value}`,()=>q(()=>import("./ea4KN_Pm.js"),__vite__mapDeps([8,1,2,3,4,5,6,7]),import.meta.url).then(n=>(n.default||n)(p)))),o=await o,g(),o);te(p,()=>{h()},{immediate:!1});const l=ve(),{toc:c,meta:b}=ue(l),x=C(()=>i.value?.description||"");Z(()=>{v.initAIExcerptSetting()});function y(){c.value=i.value?.body.toc,b.value=i.value?.meta}return y(),i.value?(se({title:i.value.title,meta:[{property:"og:type",content:"article"},{property:"og:image",content:i.value.image},{name:"description",content:i.value.description}]}),m.setAside(i.value.meta?.aside)):(d.meta.title="404",m.setAside(["blog-log"])),(n,$)=>{const R=Ne,E=Oe,L=fe,Q=ot,J=ct,G=ge,X=me;return e(i)?(a(),u(S,{key:0},[r(R,z(F(e(i))),null,16),e(x)&&e(v).showAIExcerpt?(a(),P(E,{key:0,excerpt:e(x)},null,8,["excerpt"])):_("",!0),r(L,{class:T(["article",("getPostTypeClassName"in n?n.getPostTypeClassName:e(O))(e(i)?.type,{prefix:"md"})]),value:e(i),tag:"article"},null,8,["class","value"]),r(Q,z(F(e(i))),null,16),r(J),r(G)],64)):(a(),P(X,{key:1,icon:"solar:confounded-square-bold-duotone",title:"内容为空或页面不存在"}))}}});export{$t as default};
